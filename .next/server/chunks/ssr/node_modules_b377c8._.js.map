{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"file":"use-map.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/components/use-map.tsx"],"sourcesContent":["import * as React from 'react';\nimport {useState, useCallback, useMemo, useContext} from 'react';\n\nimport {MapRef} from '../maplibre/create-ref';\nimport {MapContext} from './map';\n\ntype MountedMapsContextValue = {\n  maps: {[id: string]: MapRef};\n  onMapMount: (map: MapRef, id: string) => void;\n  onMapUnmount: (id: string) => void;\n};\n\nexport const MountedMapsContext = React.createContext<MountedMapsContextValue>(null);\n\nexport const MapProvider: React.FC<{children?: React.ReactNode}> = props => {\n  const [maps, setMaps] = useState<{[id: string]: MapRef}>({});\n\n  const onMapMount = useCallback((map: MapRef, id: string = 'default') => {\n    setMaps(currMaps => {\n      if (id === 'current') {\n        throw new Error(\"'current' cannot be used as map id\");\n      }\n      if (currMaps[id]) {\n        throw new Error(`Multiple maps with the same id: ${id}`);\n      }\n      return {...currMaps, [id]: map};\n    });\n  }, []);\n\n  const onMapUnmount = useCallback((id: string = 'default') => {\n    setMaps(currMaps => {\n      if (currMaps[id]) {\n        const nextMaps = {...currMaps};\n        delete nextMaps[id];\n        return nextMaps;\n      }\n      return currMaps;\n    });\n  }, []);\n\n  return (\n    <MountedMapsContext.Provider\n      value={{\n        maps,\n        onMapMount,\n        onMapUnmount\n      }}\n    >\n      {props.children}\n    </MountedMapsContext.Provider>\n  );\n};\n\nexport type MapCollection = {\n  [id: string]: MapRef | undefined;\n  current?: MapRef;\n};\n\nexport function useMap(): MapCollection {\n  const maps = useContext(MountedMapsContext)?.maps;\n  const currentMap = useContext(MapContext);\n\n  const mapsWithCurrent = useMemo(() => {\n    return {...maps, current: currentMap?.map};\n  }, [maps, currentMap]);\n\n  return mapsWithCurrent as MapCollection;\n}\n"],"names":[],"mappings":";;;;;AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAI/B,OAAO,EAAC,UAAU,EAAC,iBAAc;;;;AAQ1B,MAAM,kBAAkB,GAAG,KAAK,iMAAC,aAAa,CAA0B,IAAI,CAAC,CAAC;AAE9E,MAAM,WAAW,IAA2C,KAAK,CAAC,EAAE;IACzE,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,6MAAG,WAAA,AAAQ,EAAyB,CAAA,CAAE,CAAC,CAAC;IAE7D,MAAM,UAAU,GAAG,wNAAA,AAAW,EAAC,CAAC,GAAW,EAAE,KAAa,SAAS,EAAE,EAAE;QACrE,OAAO,EAAC,QAAQ,CAAC,EAAE;YACjB,IAAI,EAAE,KAAK,SAAS,EAAE,CAAC;gBACrB,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;YACxD,CAAC;YACD,IAAI,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC;gBACjB,MAAM,IAAI,KAAK,CAAC,CAAA,gCAAA,EAAmC,EAAE,EAAE,CAAC,CAAC;YAC3D,CAAC;YACD,OAAO;gBAAC,GAAG,QAAQ;gBAAE,CAAC,EAAE,CAAC,EAAE,GAAG;YAAA,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;IACL,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,MAAM,YAAY,IAAG,uNAAA,AAAW,EAAC,CAAC,KAAa,SAAS,EAAE,EAAE;QAC1D,OAAO,EAAC,QAAQ,CAAC,EAAE;YACjB,IAAI,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC;gBACjB,MAAM,QAAQ,GAAG;oBAAC,GAAG,QAAQ;gBAAA,CAAC,CAAC;gBAC/B,OAAO,QAAQ,CAAC,EAAE,CAAC,CAAC;gBACpB,OAAO,QAAQ,CAAC;YAClB,CAAC;YACD,OAAO,QAAQ,CAAC;QAClB,CAAC,CAAC,CAAC;IACL,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,OAAO,AACL,sMAAA,aAAA,CAAC,kBAAkB,CAAC,QAAQ,EAAA;QAC1B,KAAK,EAAE;YACL,IAAI;YACJ,UAAU;YACV,YAAY;SACb;IAAA,GAEA,KAAK,CAAC,QAAQ,CACa,CAC/B,CAAC;AACJ,CAAC,CAAC;AAOI,SAAU,MAAM;IACpB,MAAM,IAAI,6MAAG,aAAA,AAAU,EAAC,kBAAkB,CAAC,EAAE,IAAI,CAAC;IAClD,MAAM,UAAU,GAAG,uNAAA,AAAU,gLAAC,aAAU,CAAC,CAAC;IAE1C,MAAM,eAAe,6MAAG,UAAA,AAAO,EAAC,GAAG,EAAE;QACnC,OAAO;YAAC,GAAG,IAAI;YAAE,OAAO,EAAE,UAAU,EAAE,GAAG;QAAA,CAAC,CAAC;IAC7C,CAAC,EAAE;QAAC,IAAI;QAAE,UAAU;KAAC,CAAC,CAAC;IAEvB,OAAO,eAAgC,CAAC;AAC1C,CAAC","ignoreList":[0]}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"file":"deep-equal.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/utils/deep-equal.ts"],"sourcesContent":["import type {PointLike} from '../types/common';\n\n/**\n * Compare two points\n * @param a\n * @param b\n * @returns true if the points are equal\n */\nexport function arePointsEqual(a?: PointLike, b?: PointLike): boolean {\n  const ax = Array.isArray(a) ? a[0] : a ? a.x : 0;\n  const ay = Array.isArray(a) ? a[1] : a ? a.y : 0;\n  const bx = Array.isArray(b) ? b[0] : b ? b.x : 0;\n  const by = Array.isArray(b) ? b[1] : b ? b.y : 0;\n  return ax === bx && ay === by;\n}\n\n/* eslint-disable complexity */\n/**\n * Compare any two objects\n * @param a\n * @param b\n * @returns true if the objects are deep equal\n */\nexport function deepEqual(a: any, b: any): boolean {\n  if (a === b) {\n    return true;\n  }\n  if (!a || !b) {\n    return false;\n  }\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b) || a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n      if (!deepEqual(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  } else if (Array.isArray(b)) {\n    return false;\n  }\n  if (typeof a === 'object' && typeof b === 'object') {\n    const aKeys = Object.keys(a);\n    const bKeys = Object.keys(b);\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n    for (const key of aKeys) {\n      if (!b.hasOwnProperty(key)) {\n        return false;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n"],"names":[],"mappings":"AAEA;;;;;GAKG;;;;AACG,SAAU,cAAc,CAAC,CAAa,EAAE,CAAa;IACzD,MAAM,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjD,MAAM,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjD,MAAM,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjD,MAAM,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjD,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;AAChC,CAAC;AASK,SAAU,SAAS,CAAC,CAAM,EAAE,CAAM;IACtC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;QACZ,OAAO,IAAI,CAAC;IACd,CAAC;IACD,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC;QACb,OAAO,KAAK,CAAC;IACf,CAAC;IACD,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC;QACrB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,MAAM,EAAE,CAAC;YAC/C,OAAO,KAAK,CAAC;QACf,CAAC;QACD,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,CAAE,CAAC;YAClC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;gBAC3B,OAAO,KAAK,CAAC;YACf,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC;QAC5B,OAAO,KAAK,CAAC;IACf,CAAC;IACD,IAAI,OAAO,CAAC,KAAK,QAAQ,IAAI,OAAO,CAAC,KAAK,QAAQ,EAAE,CAAC;QACnD,MAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC7B,MAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC7B,IAAI,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,EAAE,CAAC;YAClC,OAAO,KAAK,CAAC;QACf,CAAC;QACD,KAAK,MAAM,GAAG,IAAI,KAAK,CAAE,CAAC;YACxB,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,CAAC;gBAC3B,OAAO,KAAK,CAAC;YACf,CAAC;YACD,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;gBAC/B,OAAO,KAAK,CAAC;YACf,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IACD,OAAO,KAAK,CAAC;AACf,CAAC","ignoreList":[0]}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"file":"transform.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/utils/transform.ts"],"sourcesContent":["import type {MaplibreProps} from '../maplibre/maplibre';\nimport type {ViewState} from '../types/common';\nimport type {TransformLike} from '../types/internal';\nimport {deepEqual} from './deep-equal';\n\n/**\n * Capture a transform's current state\n * @param transform\n * @returns descriptor of the view state\n */\nexport function transformToViewState(tr: TransformLike): ViewState {\n  return {\n    longitude: tr.center.lng,\n    latitude: tr.center.lat,\n    zoom: tr.zoom,\n    pitch: tr.pitch,\n    bearing: tr.bearing,\n    padding: tr.padding\n  };\n}\n\n/* eslint-disable complexity */\n/**\n * Applies requested view state to a transform\n * @returns an object containing detected changes\n */\nexport function applyViewStateToTransform(\n  /** An object that describes Maplibre's camera state */\n  tr: TransformLike,\n  /** Props from Map component */\n  props: MaplibreProps\n): Partial<TransformLike> {\n  const v: Partial<ViewState> = props.viewState || props;\n  const changes: Partial<TransformLike> = {};\n\n  if (\n    'longitude' in v &&\n    'latitude' in v &&\n    (v.longitude !== tr.center.lng || v.latitude !== tr.center.lat)\n  ) {\n    const LngLat = tr.center.constructor;\n    // @ts-expect-error we should not import LngLat class from maplibre-gl because we don't know the source of mapLib\n    changes.center = new LngLat(v.longitude, v.latitude);\n  }\n  if ('zoom' in v && v.zoom !== tr.zoom) {\n    changes.zoom = v.zoom;\n  }\n  if ('bearing' in v && v.bearing !== tr.bearing) {\n    changes.bearing = v.bearing;\n  }\n  if ('pitch' in v && v.pitch !== tr.pitch) {\n    changes.pitch = v.pitch;\n  }\n  if (v.padding && tr.padding && !deepEqual(v.padding, tr.padding)) {\n    changes.padding = v.padding;\n  }\n  return changes;\n}\n"],"names":[],"mappings":";;;;AAGA,OAAO,EAAC,SAAS,EAAC,wBAAqB;;AAOjC,SAAU,oBAAoB,CAAC,EAAiB;IACpD,OAAO;QACL,SAAS,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG;QACxB,QAAQ,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG;QACvB,IAAI,EAAE,EAAE,CAAC,IAAI;QACb,KAAK,EAAE,EAAE,CAAC,KAAK;QACf,OAAO,EAAE,EAAE,CAAC,OAAO;QACnB,OAAO,EAAE,EAAE,CAAC,OAAO;KACpB,CAAC;AACJ,CAAC;AAOK,SAAU,yBAAyB,CACvC,qDAAA,EAAuD,CACvD,EAAiB,EACjB,6BAAA,EAA+B,CAC/B,KAAoB;IAEpB,MAAM,CAAC,GAAuB,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC;IACvD,MAAM,OAAO,GAA2B,CAAA,CAAE,CAAC;IAE3C,IACE,WAAW,IAAI,CAAC,IAChB,UAAU,IAAI,CAAC,IACf,CAAC,CAAC,CAAC,SAAS,KAAK,EAAE,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC,QAAQ,KAAK,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,EAC/D,CAAC;QACD,MAAM,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC;QACrC,iHAAiH;QACjH,OAAO,CAAC,MAAM,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC;IACvD,CAAC;IACD,IAAI,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,EAAE,CAAC,IAAI,EAAE,CAAC;QACtC,OAAO,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;IACxB,CAAC;IACD,IAAI,SAAS,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE,CAAC,OAAO,EAAE,CAAC;QAC/C,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;IAC9B,CAAC;IACD,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC;QACzC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;IAC1B,CAAC;IACD,IAAI,CAAC,CAAC,OAAO,IAAI,EAAE,CAAC,OAAO,IAAI,wLAAC,YAAA,AAAS,EAAC,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC;QACjE,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;IAC9B,CAAC;IACD,OAAO,OAAO,CAAC;AACjB,CAAC","ignoreList":[0]}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"file":"style-utils.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/utils/style-utils.ts"],"sourcesContent":["import type {StyleSpecification} from '../types/style-spec';\nimport type {ImmutableLike} from '../types/common';\n\nconst refProps = ['type', 'source', 'source-layer', 'minzoom', 'maxzoom', 'filter', 'layout'];\n\n// Prepare a map style object for diffing\n// If immutable - convert to plain object\n// Work around some issues in older styles that would fail Mapbox's diffing\nexport function normalizeStyle(\n  style: string | StyleSpecification | ImmutableLike<StyleSpecification>\n): string | StyleSpecification {\n  if (!style) {\n    return null;\n  }\n  if (typeof style === 'string') {\n    return style;\n  }\n  if ('toJS' in style) {\n    style = style.toJS();\n  }\n  if (!style.layers) {\n    return style;\n  }\n  const layerIndex = {};\n\n  for (const layer of style.layers) {\n    layerIndex[layer.id] = layer;\n  }\n\n  const layers = style.layers.map(layer => {\n    let normalizedLayer: typeof layer = null;\n\n    if ('interactive' in layer) {\n      normalizedLayer = Object.assign({}, layer);\n      // Breaks style diffing :(\n      // @ts-ignore legacy field not typed\n      delete normalizedLayer.interactive;\n    }\n\n    // Style diffing doesn't work with refs so expand them out manually before diffing.\n    // @ts-ignore legacy field not typed\n    const layerRef = layerIndex[layer.ref];\n    if (layerRef) {\n      normalizedLayer = normalizedLayer || Object.assign({}, layer);\n      // @ts-ignore\n      delete normalizedLayer.ref;\n      // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/deref.js\n      for (const propName of refProps) {\n        if (propName in layerRef) {\n          normalizedLayer[propName] = layerRef[propName];\n        }\n      }\n    }\n\n    return normalizedLayer || layer;\n  });\n\n  // Do not mutate the style object provided by the user\n  return {...style, layers};\n}\n"],"names":[],"mappings":";;;AAGA,MAAM,QAAQ,GAAG;IAAC,MAAM;IAAE,QAAQ;IAAE,cAAc;IAAE,SAAS;IAAE,SAAS;IAAE,QAAQ;IAAE,QAAQ;CAAC,CAAC;AAKxF,SAAU,cAAc,CAC5B,KAAsE;IAEtE,IAAI,CAAC,KAAK,EAAE,CAAC;QACX,OAAO,IAAI,CAAC;IACd,CAAC;IACD,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,CAAC;QAC9B,OAAO,KAAK,CAAC;IACf,CAAC;IACD,IAAI,MAAM,IAAI,KAAK,EAAE,CAAC;QACpB,KAAK,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;IACvB,CAAC;IACD,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;QAClB,OAAO,KAAK,CAAC;IACf,CAAC;IACD,MAAM,UAAU,GAAG,CAAA,CAAE,CAAC;IAEtB,KAAK,MAAM,KAAK,IAAI,KAAK,CAAC,MAAM,CAAE,CAAC;QACjC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC;IAC/B,CAAC;IAED,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,EAAC,KAAK,CAAC,EAAE;QACtC,IAAI,eAAe,GAAiB,IAAI,CAAC;QAEzC,IAAI,aAAa,IAAI,KAAK,EAAE,CAAC;YAC3B,eAAe,GAAG,MAAM,CAAC,MAAM,CAAC,CAAA,CAAE,EAAE,KAAK,CAAC,CAAC;YAC3C,0BAA0B;YAC1B,oCAAoC;YACpC,OAAO,eAAe,CAAC,WAAW,CAAC;QACrC,CAAC;QAED,mFAAmF;QACnF,oCAAoC;QACpC,MAAM,QAAQ,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACvC,IAAI,QAAQ,EAAE,CAAC;YACb,eAAe,GAAG,eAAe,IAAI,MAAM,CAAC,MAAM,CAAC,CAAA,CAAE,EAAE,KAAK,CAAC,CAAC;YAC9D,aAAa;YACb,OAAO,eAAe,CAAC,GAAG,CAAC;YAC3B,6EAA6E;YAC7E,KAAK,MAAM,QAAQ,IAAI,QAAQ,CAAE,CAAC;gBAChC,IAAI,QAAQ,IAAI,QAAQ,EAAE,CAAC;oBACzB,eAAe,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC;gBACjD,CAAC;YACH,CAAC;QACH,CAAC;QAED,OAAO,eAAe,IAAI,KAAK,CAAC;IAClC,CAAC,CAAC,CAAC;IAEH,sDAAsD;IACtD,OAAO;QAAC,GAAG,KAAK;QAAE,MAAM;IAAA,CAAC,CAAC;AAC5B,CAAC","ignoreList":[0]}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"file":"maplibre.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/maplibre/maplibre.ts"],"sourcesContent":["import {transformToViewState, applyViewStateToTransform} from '../utils/transform';\nimport {normalizeStyle} from '../utils/style-utils';\nimport {deepEqual} from '../utils/deep-equal';\n\nimport type {TransformLike} from '../types/internal';\nimport type {\n  ViewState,\n  Point,\n  PointLike,\n  PaddingOptions,\n  ImmutableLike,\n  LngLatBoundsLike,\n  MapGeoJSONFeature\n} from '../types/common';\nimport type {\n  StyleSpecification,\n  SkySpecification,\n  LightSpecification,\n  TerrainSpecification,\n  ProjectionSpecification\n} from '../types/style-spec';\nimport type {MapInstance} from '../types/lib';\nimport type {\n  MapCallbacks,\n  ViewStateChangeEvent,\n  MapEvent,\n  ErrorEvent,\n  MapMouseEvent\n} from '../types/events';\n\nexport type MaplibreProps = Partial<ViewState> &\n  MapCallbacks & {\n    /** Camera options used when constructing the Map instance */\n    initialViewState?: Partial<ViewState> & {\n      /** The initial bounds of the map. If bounds is specified, it overrides longitude, latitude and zoom options. */\n      bounds?: LngLatBoundsLike;\n      /** A fitBounds options object to use only when setting the bounds option. */\n      fitBoundsOptions?: {\n        offset?: PointLike;\n        minZoom?: number;\n        maxZoom?: number;\n        padding?: number | PaddingOptions;\n      };\n    };\n\n    /** If provided, render into an external WebGL context */\n    gl?: WebGLRenderingContext;\n\n    /** For external controller to override the camera state */\n    viewState?: ViewState & {\n      width: number;\n      height: number;\n    };\n\n    // Styling\n\n    /** Mapbox style */\n    mapStyle?: string | StyleSpecification | ImmutableLike<StyleSpecification>;\n    /** Enable diffing when the map style changes\n     * @default true\n     */\n    styleDiffing?: boolean;\n    /** The projection property of the style. Must conform to the Projection Style Specification.\n     * @default 'mercator'\n     */\n    projection?: ProjectionSpecification | 'mercator' | 'globe';\n    /** Light properties of the map. */\n    light?: LightSpecification;\n    /** Terrain property of the style. Must conform to the Terrain Style Specification.\n     * If `undefined` is provided, removes terrain from the map. */\n    terrain?: TerrainSpecification;\n    /** Sky properties of the map. Must conform to the Sky Style Specification. */\n    sky?: SkySpecification;\n\n    /** Default layers to query on pointer events */\n    interactiveLayerIds?: string[];\n    /** CSS cursor */\n    cursor?: string;\n  };\n\nconst DEFAULT_STYLE = {version: 8, sources: {}, layers: []} as StyleSpecification;\n\nconst pointerEvents = {\n  mousedown: 'onMouseDown',\n  mouseup: 'onMouseUp',\n  mouseover: 'onMouseOver',\n  mousemove: 'onMouseMove',\n  click: 'onClick',\n  dblclick: 'onDblClick',\n  mouseenter: 'onMouseEnter',\n  mouseleave: 'onMouseLeave',\n  mouseout: 'onMouseOut',\n  contextmenu: 'onContextMenu',\n  touchstart: 'onTouchStart',\n  touchend: 'onTouchEnd',\n  touchmove: 'onTouchMove',\n  touchcancel: 'onTouchCancel'\n};\nconst cameraEvents = {\n  movestart: 'onMoveStart',\n  move: 'onMove',\n  moveend: 'onMoveEnd',\n  dragstart: 'onDragStart',\n  drag: 'onDrag',\n  dragend: 'onDragEnd',\n  zoomstart: 'onZoomStart',\n  zoom: 'onZoom',\n  zoomend: 'onZoomEnd',\n  rotatestart: 'onRotateStart',\n  rotate: 'onRotate',\n  rotateend: 'onRotateEnd',\n  pitchstart: 'onPitchStart',\n  pitch: 'onPitch',\n  pitchend: 'onPitchEnd'\n};\nconst otherEvents = {\n  wheel: 'onWheel',\n  boxzoomstart: 'onBoxZoomStart',\n  boxzoomend: 'onBoxZoomEnd',\n  boxzoomcancel: 'onBoxZoomCancel',\n  resize: 'onResize',\n  load: 'onLoad',\n  render: 'onRender',\n  idle: 'onIdle',\n  remove: 'onRemove',\n  data: 'onData',\n  styledata: 'onStyleData',\n  sourcedata: 'onSourceData',\n  error: 'onError'\n};\nconst settingNames = [\n  'minZoom',\n  'maxZoom',\n  'minPitch',\n  'maxPitch',\n  'maxBounds',\n  'projection',\n  'renderWorldCopies'\n];\nconst handlerNames = [\n  'scrollZoom',\n  'boxZoom',\n  'dragRotate',\n  'dragPan',\n  'keyboard',\n  'doubleClickZoom',\n  'touchZoomRotate',\n  'touchPitch'\n];\n\n/**\n * A wrapper for mapbox-gl's Map class\n */\nexport default class Maplibre {\n  private _MapClass: {new (options: any): MapInstance};\n  // mapboxgl.Map instance\n  private _map: MapInstance = null;\n  // User-supplied props\n  props: MaplibreProps;\n\n  // Internal states\n  private _internalUpdate: boolean = false;\n  private _hoveredFeatures: MapGeoJSONFeature[] = null;\n  private _propsedCameraUpdate: ViewState | null = null;\n  private _styleComponents: {\n    light?: LightSpecification;\n    sky?: SkySpecification;\n    projection?: ProjectionSpecification;\n    terrain?: TerrainSpecification | null;\n  } = {};\n\n  static savedMaps: Maplibre[] = [];\n\n  constructor(\n    MapClass: {new (options: any): MapInstance},\n    props: MaplibreProps,\n    container: HTMLDivElement\n  ) {\n    this._MapClass = MapClass;\n    this.props = props;\n    this._initialize(container);\n  }\n\n  get map(): MapInstance {\n    return this._map;\n  }\n\n  setProps(props: MaplibreProps) {\n    const oldProps = this.props;\n    this.props = props;\n\n    const settingsChanged = this._updateSettings(props, oldProps);\n    const sizeChanged = this._updateSize(props);\n    const viewStateChanged = this._updateViewState(props);\n    this._updateStyle(props, oldProps);\n    this._updateStyleComponents(props);\n    this._updateHandlers(props, oldProps);\n\n    // If 1) view state has changed to match props and\n    //    2) the props change is not triggered by map events,\n    // it's driven by an external state change. Redraw immediately\n    if (settingsChanged || sizeChanged || (viewStateChanged && !this._map.isMoving())) {\n      this.redraw();\n    }\n  }\n\n  static reuse(props: MaplibreProps, container: HTMLDivElement): Maplibre {\n    const that = Maplibre.savedMaps.pop();\n    if (!that) {\n      return null;\n    }\n\n    const map = that.map;\n    // When reusing the saved map, we need to reparent the map(canvas) and other child nodes\n    // intoto the new container from the props.\n    // Step 1: reparenting child nodes from old container to new container\n    const oldContainer = map.getContainer();\n    container.className = oldContainer.className;\n    while (oldContainer.childNodes.length > 0) {\n      container.appendChild(oldContainer.childNodes[0]);\n    }\n    // Step 2: replace the internal container with new container from the react component\n    // @ts-ignore\n    map._container = container;\n\n    // With maplibre-gl as mapLib, map uses ResizeObserver to observe when its container resizes.\n    // When reusing the saved map, we need to disconnect the observer and observe the new container.\n    // Step 3: telling the ResizeObserver to disconnect and observe the new container\n    // @ts-ignore\n    const resizeObserver = map._resizeObserver;\n    if (resizeObserver) {\n      resizeObserver.disconnect();\n      resizeObserver.observe(container);\n    }\n\n    // Step 4: apply new props\n    that.setProps({...props, styleDiffing: false});\n    map.resize();\n    const {initialViewState} = props;\n    if (initialViewState) {\n      if (initialViewState.bounds) {\n        map.fitBounds(initialViewState.bounds, {...initialViewState.fitBoundsOptions, duration: 0});\n      } else {\n        that._updateViewState(initialViewState);\n      }\n    }\n\n    // Simulate load event\n    if (map.isStyleLoaded()) {\n      map.fire('load');\n    } else {\n      map.once('style.load', () => map.fire('load'));\n    }\n\n    // Force reload\n    // @ts-ignore\n    map._update();\n    return that;\n  }\n\n  /* eslint-disable complexity,max-statements */\n  private _initialize(container: HTMLDivElement) {\n    const {props} = this;\n    const {mapStyle = DEFAULT_STYLE} = props;\n    const mapOptions = {\n      ...props,\n      ...props.initialViewState,\n      container,\n      style: normalizeStyle(mapStyle)\n    };\n\n    const viewState = mapOptions.initialViewState || mapOptions.viewState || mapOptions;\n    Object.assign(mapOptions, {\n      center: [viewState.longitude || 0, viewState.latitude || 0],\n      zoom: viewState.zoom || 0,\n      pitch: viewState.pitch || 0,\n      bearing: viewState.bearing || 0\n    });\n\n    if (props.gl) {\n      // eslint-disable-next-line\n      const getContext = HTMLCanvasElement.prototype.getContext;\n      // Hijack canvas.getContext to return our own WebGLContext\n      // This will be called inside the mapboxgl.Map constructor\n      // @ts-expect-error\n      HTMLCanvasElement.prototype.getContext = () => {\n        // Unhijack immediately\n        HTMLCanvasElement.prototype.getContext = getContext;\n        return props.gl;\n      };\n    }\n\n    const map = new this._MapClass(mapOptions);\n    // Props that are not part of constructor options\n    if (viewState.padding) {\n      map.setPadding(viewState.padding);\n    }\n    if (props.cursor) {\n      map.getCanvas().style.cursor = props.cursor;\n    }\n\n    // add listeners\n    map.transformCameraUpdate = this._onCameraUpdate;\n    map.on('style.load', () => {\n      // Map style has changed, this would have wiped out all settings from props\n      this._styleComponents = {\n        light: map.getLight(),\n        sky: map.getSky(),\n        // @ts-ignore getProjection() does not exist in v4\n        projection: map.getProjection?.(),\n        terrain: map.getTerrain()\n      };\n      this._updateStyleComponents(this.props);\n    });\n    map.on('sourcedata', () => {\n      // Some sources have loaded, we may need them to attach terrain\n      this._updateStyleComponents(this.props);\n    });\n    for (const eventName in pointerEvents) {\n      map.on(eventName, this._onPointerEvent);\n    }\n    for (const eventName in cameraEvents) {\n      map.on(eventName, this._onCameraEvent);\n    }\n    for (const eventName in otherEvents) {\n      map.on(eventName, this._onEvent);\n    }\n    this._map = map;\n  }\n  /* eslint-enable complexity,max-statements */\n\n  recycle() {\n    // Clean up unnecessary elements before storing for reuse.\n    const container = this.map.getContainer();\n    const children = container.querySelector('[mapboxgl-children]');\n    children?.remove();\n\n    Maplibre.savedMaps.push(this);\n  }\n\n  destroy() {\n    this._map.remove();\n  }\n\n  // Force redraw the map now. Typically resize() and jumpTo() is reflected in the next\n  // render cycle, which is managed by Mapbox's animation loop.\n  // This removes the synchronization issue caused by requestAnimationFrame.\n  redraw() {\n    const map = this._map as any;\n    // map._render will throw error if style does not exist\n    // https://github.com/mapbox/mapbox-gl-js/blob/fb9fc316da14e99ff4368f3e4faa3888fb43c513\n    //   /src/ui/map.js#L1834\n    if (map.style) {\n      // cancel the scheduled update\n      if (map._frame) {\n        map._frame.cancel();\n        map._frame = null;\n      }\n      // the order is important - render() may schedule another update\n      map._render();\n    }\n  }\n\n  /* Trigger map resize if size is controlled\n     @param {object} nextProps\n     @returns {bool} true if size has changed\n   */\n  private _updateSize(nextProps: MaplibreProps): boolean {\n    // Check if size is controlled\n    const {viewState} = nextProps;\n    if (viewState) {\n      const map = this._map;\n      if (viewState.width !== map.transform.width || viewState.height !== map.transform.height) {\n        map.resize();\n        return true;\n      }\n    }\n    return false;\n  }\n\n  // Adapted from map.jumpTo\n  /* Update camera to match props\n     @param {object} nextProps\n     @param {bool} triggerEvents - should fire camera events\n     @returns {bool} true if anything is changed\n   */\n  private _updateViewState(nextProps: MaplibreProps): boolean {\n    const map = this._map;\n    const tr = map.transform;\n    const isMoving = map.isMoving();\n\n    // Avoid manipulating the real transform when interaction/animation is ongoing\n    // as it would interfere with Mapbox's handlers\n    if (!isMoving) {\n      const changes = applyViewStateToTransform(tr, nextProps);\n      if (Object.keys(changes).length > 0) {\n        this._internalUpdate = true;\n        map.jumpTo(changes);\n        this._internalUpdate = false;\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  /* Update camera constraints and projection settings to match props\n     @param {object} nextProps\n     @param {object} currProps\n     @returns {bool} true if anything is changed\n   */\n  private _updateSettings(nextProps: MaplibreProps, currProps: MaplibreProps): boolean {\n    const map = this._map;\n    let changed = false;\n    for (const propName of settingNames) {\n      if (propName in nextProps && !deepEqual(nextProps[propName], currProps[propName])) {\n        changed = true;\n        const setter = map[`set${propName[0].toUpperCase()}${propName.slice(1)}`];\n        setter?.call(map, nextProps[propName]);\n      }\n    }\n    return changed;\n  }\n\n  /* Update map style to match props */\n  private _updateStyle(nextProps: MaplibreProps, currProps: MaplibreProps): void {\n    if (nextProps.cursor !== currProps.cursor) {\n      this._map.getCanvas().style.cursor = nextProps.cursor || '';\n    }\n    if (nextProps.mapStyle !== currProps.mapStyle) {\n      const {mapStyle = DEFAULT_STYLE, styleDiffing = true} = nextProps;\n      const options: any = {\n        diff: styleDiffing\n      };\n      if ('localIdeographFontFamily' in nextProps) {\n        // @ts-ignore Mapbox specific prop\n        options.localIdeographFontFamily = nextProps.localIdeographFontFamily;\n      }\n      this._map.setStyle(normalizeStyle(mapStyle), options);\n    }\n  }\n\n  /* Update fog, light, projection and terrain to match props\n   * These props are special because\n   * 1. They can not be applied right away. Certain conditions (style loaded, source loaded, etc.) must be met\n   * 2. They can be overwritten by mapStyle\n   */\n  private _updateStyleComponents({light, projection, sky, terrain}: MaplibreProps): void {\n    const map = this._map;\n    const currProps = this._styleComponents;\n    // We can safely manipulate map style once it's loaded\n    if (map.style._loaded) {\n      if (light && !deepEqual(light, currProps.light)) {\n        currProps.light = light;\n        map.setLight(light);\n      }\n      if (\n        projection &&\n        !deepEqual(projection, currProps.projection) &&\n        projection !== currProps.projection?.type\n      ) {\n        currProps.projection = typeof projection === 'string' ? {type: projection} : projection;\n        // @ts-ignore setProjection does not exist in v4\n        map.setProjection?.(currProps.projection);\n      }\n      if (sky && !deepEqual(sky, currProps.sky)) {\n        currProps.sky = sky;\n        map.setSky(sky);\n      }\n      if (terrain !== undefined && !deepEqual(terrain, currProps.terrain)) {\n        if (!terrain || map.getSource(terrain.source)) {\n          currProps.terrain = terrain;\n          map.setTerrain(terrain);\n        }\n      }\n    }\n  }\n\n  /* Update interaction handlers to match props */\n  private _updateHandlers(nextProps: MaplibreProps, currProps: MaplibreProps): void {\n    const map = this._map;\n    for (const propName of handlerNames) {\n      const newValue = nextProps[propName] ?? true;\n      const oldValue = currProps[propName] ?? true;\n      if (!deepEqual(newValue, oldValue)) {\n        if (newValue) {\n          map[propName].enable(newValue);\n        } else {\n          map[propName].disable();\n        }\n      }\n    }\n  }\n\n  private _onEvent = (e: MapEvent) => {\n    // @ts-ignore\n    const cb = this.props[otherEvents[e.type]];\n    if (cb) {\n      cb(e);\n    } else if (e.type === 'error') {\n      console.error((e as ErrorEvent).error); // eslint-disable-line\n    }\n  };\n\n  private _onCameraEvent = (e: ViewStateChangeEvent) => {\n    if (this._internalUpdate) {\n      return;\n    }\n    e.viewState = this._propsedCameraUpdate || transformToViewState(this._map.transform);\n    // @ts-ignore\n    const cb = this.props[cameraEvents[e.type]];\n    if (cb) {\n      cb(e);\n    }\n  };\n\n  private _onCameraUpdate = (tr: TransformLike) => {\n    if (this._internalUpdate) {\n      return tr;\n    }\n    this._propsedCameraUpdate = transformToViewState(tr);\n    return applyViewStateToTransform(tr, this.props);\n  };\n\n  private _queryRenderedFeatures(point: Point) {\n    const map = this._map;\n    const {interactiveLayerIds = []} = this.props;\n    try {\n      return map.queryRenderedFeatures(point, {\n        layers: interactiveLayerIds.filter(map.getLayer.bind(map))\n      });\n    } catch {\n      // May fail if style is not loaded\n      return [];\n    }\n  }\n\n  private _updateHover(e: MapMouseEvent) {\n    const {props} = this;\n    const shouldTrackHoveredFeatures =\n      props.interactiveLayerIds && (props.onMouseMove || props.onMouseEnter || props.onMouseLeave);\n\n    if (shouldTrackHoveredFeatures) {\n      const eventType = e.type;\n      const wasHovering = this._hoveredFeatures?.length > 0;\n      const features = this._queryRenderedFeatures(e.point);\n      const isHovering = features.length > 0;\n\n      if (!isHovering && wasHovering) {\n        e.type = 'mouseleave';\n        this._onPointerEvent(e);\n      }\n      this._hoveredFeatures = features;\n      if (isHovering && !wasHovering) {\n        e.type = 'mouseenter';\n        this._onPointerEvent(e);\n      }\n      e.type = eventType;\n    } else {\n      this._hoveredFeatures = null;\n    }\n  }\n\n  private _onPointerEvent = (e: MapMouseEvent) => {\n    if (e.type === 'mousemove' || e.type === 'mouseout') {\n      this._updateHover(e);\n    }\n\n    // @ts-ignore\n    const cb = this.props[pointerEvents[e.type]];\n    if (cb) {\n      if (this.props.interactiveLayerIds && e.type !== 'mouseover' && e.type !== 'mouseout') {\n        e.features = this._hoveredFeatures || this._queryRenderedFeatures(e.point);\n      }\n      cb(e);\n      delete e.features;\n    }\n  };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 701, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 707, "column": 0}, "map": {"version":3,"file":"create-ref.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/maplibre/create-ref.ts"],"sourcesContent":["import type {MapInstance} from '../types/lib';\nimport type Maplibre from './maplibre';\n\n/** These methods may break the react binding if called directly */\nconst skipMethods = [\n  'setMaxBounds',\n  'setMinZoom',\n  'setMaxZoom',\n  'setMinPitch',\n  'setMaxPitch',\n  'setRenderWorldCopies',\n  'setProjection',\n  'setStyle',\n  'addSource',\n  'removeSource',\n  'addLayer',\n  'removeLayer',\n  'setLayerZoomRange',\n  'setFilter',\n  'setPaintProperty',\n  'setLayoutProperty',\n  'setLight',\n  'setTerrain',\n  'setFog',\n  'remove'\n] as const;\n\nexport type MapRef = {\n  getMap(): MapInstance;\n} & Omit<MapInstance, (typeof skipMethods)[number]>;\n\nexport default function createRef(mapInstance: Maplibre): MapRef | null {\n  if (!mapInstance) {\n    return null;\n  }\n\n  const map = mapInstance.map;\n  const result: any = {\n    getMap: () => map\n  };\n\n  for (const key of getMethodNames(map)) {\n    // @ts-expect-error\n    if (!(key in result) && !skipMethods.includes(key)) {\n      result[key] = map[key].bind(map);\n    }\n  }\n\n  return result;\n}\n\nfunction getMethodNames(obj: Object) {\n  const result = new Set<string>();\n\n  let proto = obj;\n  while (proto) {\n    for (const key of Object.getOwnPropertyNames(proto)) {\n      if (\n        key[0] !== '_' &&\n        typeof obj[key] === 'function' &&\n        key !== 'fire' &&\n        key !== 'setEventedParent'\n      ) {\n        result.add(key);\n      }\n    }\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Array.from(result);\n}\n"],"names":[],"mappings":"AAGA,iEAAA,EAAmE;;;AACnE,MAAM,WAAW,GAAG;IAClB,cAAc;IACd,YAAY;IACZ,YAAY;IACZ,aAAa;IACb,aAAa;IACb,sBAAsB;IACtB,eAAe;IACf,UAAU;IACV,WAAW;IACX,cAAc;IACd,UAAU;IACV,aAAa;IACb,mBAAmB;IACnB,WAAW;IACX,kBAAkB;IAClB,mBAAmB;IACnB,UAAU;IACV,YAAY;IACZ,QAAQ;IACR,QAAQ;CACA,CAAC;AAMG,SAAU,SAAS,CAAC,WAAqB;IACrD,IAAI,CAAC,WAAW,EAAE,CAAC;QACjB,OAAO,IAAI,CAAC;IACd,CAAC;IAED,MAAM,GAAG,GAAG,WAAW,CAAC,GAAG,CAAC;IAC5B,MAAM,MAAM,GAAQ;QAClB,MAAM,EAAE,GAAG,CAAG,CAAD,EAAI;KAClB,CAAC;IAEF,KAAK,MAAM,GAAG,IAAI,cAAc,CAAC,GAAG,CAAC,CAAE,CAAC;QACtC,mBAAmB;QACnB,IAAI,CAAC,CAAC,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC;YACnD,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACnC,CAAC;IACH,CAAC;IAED,OAAO,MAAM,CAAC;AAChB,CAAC;AAED,SAAS,cAAc,CAAC,GAAW;IACjC,MAAM,MAAM,GAAG,IAAI,GAAG,EAAU,CAAC;IAEjC,IAAI,KAAK,GAAG,GAAG,CAAC;IAChB,MAAO,KAAK,CAAE,CAAC;QACb,KAAK,MAAM,GAAG,IAAI,MAAM,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAE,CAAC;YACpD,IACE,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,IACd,OAAO,GAAG,CAAC,GAAG,CAAC,KAAK,UAAU,IAC9B,GAAG,KAAK,MAAM,IACd,GAAG,KAAK,kBAAkB,EAC1B,CAAC;gBACD,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YAClB,CAAC;QACH,CAAC;QACD,KAAK,GAAG,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;IACvC,CAAC;IACD,OAAO,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC5B,CAAC","ignoreList":[0]}},
    {"offset": {"line": 761, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 767, "column": 0}, "map": {"version":3,"file":"use-isomorphic-layout-effect.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/utils/use-isomorphic-layout-effect.ts"],"sourcesContent":["// From https://github.com/streamich/react-use/blob/master/src/useIsomorphicLayoutEffect.ts\n// useLayoutEffect but does not trigger warning in server-side rendering\nimport {useEffect, useLayoutEffect} from 'react';\n\nconst useIsomorphicLayoutEffect = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\nexport default useIsomorphicLayoutEffect;\n"],"names":[],"mappings":"AAAA,2FAA2F;AAC3F,wEAAwE;;;;AACxE,OAAO,EAAC,SAAS,EAAE,eAAe,EAAC,MAAM,OAAO,CAAC;;AAEjD,MAAM,yBAAyB,GAAG,OAAO,QAAQ,KAAK,WAAW,CAAC,CAAC,uMAAC,kBAAe,CAAC,CAAC,uMAAC,YAAS,CAAC;uCAEjF,yBAAyB,CAAC","ignoreList":[0]}},
    {"offset": {"line": 777, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 783, "column": 0}, "map": {"version":3,"file":"set-globals.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/utils/set-globals.ts"],"sourcesContent":["export type GlobalSettings = {\n  /** The maximum number of images (raster tiles, sprites, icons) to load in parallel.\n   * @default 16\n   */\n  maxParallelImageRequests?: number;\n  /** The map's RTL text plugin. Necessary for supporting the Arabic and Hebrew languages, which are written right-to-left.  */\n  RTLTextPlugin?: string | {pluginUrl: string; lazy?: boolean};\n  /** The number of web workers instantiated on a page with maplibre-gl maps.\n   * @default 2\n   */\n  workerCount?: number;\n  /** Provides an interface for loading maplibre-gl's WebWorker bundle from a self-hosted URL.\n   * This is useful if your site needs to operate in a strict CSP (Content Security Policy) environment\n   * wherein you are not allowed to load JavaScript code from a Blob URL, which is default behavior. */\n  workerUrl?: string;\n};\n\nexport default function setGlobals(mapLib: any, props: GlobalSettings) {\n  const {RTLTextPlugin, maxParallelImageRequests, workerCount, workerUrl} = props;\n  if (\n    RTLTextPlugin &&\n    mapLib.getRTLTextPluginStatus &&\n    mapLib.getRTLTextPluginStatus() === 'unavailable'\n  ) {\n    const {pluginUrl, lazy = true} =\n      typeof RTLTextPlugin === 'string' ? {pluginUrl: RTLTextPlugin} : RTLTextPlugin;\n\n    mapLib.setRTLTextPlugin(\n      pluginUrl,\n      (error?: Error) => {\n        if (error) {\n          // eslint-disable-next-line\n          console.error(error);\n        }\n      },\n      lazy\n    );\n  }\n  if (maxParallelImageRequests !== undefined) {\n    mapLib.setMaxParallelImageRequests(maxParallelImageRequests);\n  }\n  if (workerCount !== undefined) {\n    mapLib.setWorkerCount(workerCount);\n  }\n  if (workerUrl !== undefined) {\n    mapLib.setWorkerUrl(workerUrl);\n  }\n}\n"],"names":[],"mappings":";;;AAiBc,SAAU,UAAU,CAAC,MAAW,EAAE,KAAqB;IACnE,MAAM,EAAC,aAAa,EAAE,wBAAwB,EAAE,WAAW,EAAE,SAAS,EAAC,GAAG,KAAK,CAAC;IAChF,IACE,aAAa,IACb,MAAM,CAAC,sBAAsB,IAC7B,MAAM,CAAC,sBAAsB,EAAE,KAAK,aAAa,EACjD,CAAC;QACD,MAAM,EAAC,SAAS,EAAE,IAAI,GAAG,IAAI,EAAC,GAC5B,OAAO,aAAa,KAAK,QAAQ,CAAC,CAAC,CAAC;YAAC,SAAS,EAAE,aAAa;QAAA,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;QAEjF,MAAM,CAAC,gBAAgB,CACrB,SAAS,EACT,CAAC,KAAa,EAAE,EAAE;YAChB,IAAI,KAAK,EAAE,CAAC;gBACV,2BAA2B;gBAC3B,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACvB,CAAC;QACH,CAAC,EACD,IAAI,CACL,CAAC;IACJ,CAAC;IACD,IAAI,wBAAwB,KAAK,SAAS,EAAE,CAAC;QAC3C,MAAM,CAAC,2BAA2B,CAAC,wBAAwB,CAAC,CAAC;IAC/D,CAAC;IACD,IAAI,WAAW,KAAK,SAAS,EAAE,CAAC;QAC9B,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;IACrC,CAAC;IACD,IAAI,SAAS,KAAK,SAAS,EAAE,CAAC;QAC5B,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;IACjC,CAAC;AACH,CAAC","ignoreList":[0]}},
    {"offset": {"line": 809, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 815, "column": 0}, "map": {"version":3,"file":"map.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/components/map.tsx"],"sourcesContent":["import * as React from 'react';\nimport {useState, useRef, useEffect, useContext, useMemo, useImperativeHandle} from 'react';\n\nimport {MountedMapsContext} from './use-map';\nimport Maplibre, {MaplibreProps} from '../maplibre/maplibre';\nimport createRef, {MapRef} from '../maplibre/create-ref';\n\nimport type {CSSProperties} from 'react';\nimport useIsomorphicLayoutEffect from '../utils/use-isomorphic-layout-effect';\nimport setGlobals, {GlobalSettings} from '../utils/set-globals';\nimport type {MapLib, MapOptions} from '../types/lib';\n\nexport type MapContextValue = {\n  mapLib: MapLib;\n  map: MapRef;\n};\n\nexport const MapContext = React.createContext<MapContextValue>(null);\n\ntype MapInitOptions = Omit<\n  MapOptions,\n  'style' | 'container' | 'bounds' | 'fitBoundsOptions' | 'center'\n>;\n\nexport type MapProps = MapInitOptions &\n  MaplibreProps &\n  GlobalSettings & {\n    mapLib?: MapLib | Promise<MapLib>;\n    reuseMaps?: boolean;\n    /** Map container id */\n    id?: string;\n    /** Map container CSS style */\n    style?: CSSProperties;\n    children?: any;\n  };\n\nfunction _Map(props: MapProps, ref: React.Ref<MapRef>) {\n  const mountedMapsContext = useContext(MountedMapsContext);\n  const [mapInstance, setMapInstance] = useState<Maplibre>(null);\n  const containerRef = useRef();\n\n  const {current: contextValue} = useRef<MapContextValue>({mapLib: null, map: null});\n\n  useEffect(() => {\n    const mapLib = props.mapLib;\n    let isMounted = true;\n    let maplibre: Maplibre;\n\n    Promise.resolve(mapLib || import('maplibre-gl'))\n      .then((module: MapLib | {default: MapLib}) => {\n        if (!isMounted) {\n          return;\n        }\n        if (!module) {\n          throw new Error('Invalid mapLib');\n        }\n        const mapboxgl = 'Map' in module ? module : module.default;\n        if (!mapboxgl.Map) {\n          throw new Error('Invalid mapLib');\n        }\n\n        // workerUrl & workerClass may change the result of supported()\n        // https://github.com/visgl/react-map-gl/discussions/2027\n        setGlobals(mapboxgl, props);\n        if (!mapboxgl.supported || mapboxgl.supported(props)) {\n          if (props.reuseMaps) {\n            maplibre = Maplibre.reuse(props, containerRef.current);\n          }\n          if (!maplibre) {\n            maplibre = new Maplibre(mapboxgl.Map, props, containerRef.current);\n          }\n          contextValue.map = createRef(maplibre);\n          contextValue.mapLib = mapboxgl;\n\n          setMapInstance(maplibre);\n          mountedMapsContext?.onMapMount(contextValue.map, props.id);\n        } else {\n          throw new Error('Map is not supported by this browser');\n        }\n      })\n      .catch(error => {\n        const {onError} = props;\n        if (onError) {\n          onError({\n            type: 'error',\n            target: null,\n            originalEvent: null,\n            error\n          });\n        } else {\n          console.error(error); // eslint-disable-line\n        }\n      });\n\n    return () => {\n      isMounted = false;\n      if (maplibre) {\n        mountedMapsContext?.onMapUnmount(props.id);\n        if (props.reuseMaps) {\n          maplibre.recycle();\n        } else {\n          maplibre.destroy();\n        }\n      }\n    };\n  }, []);\n\n  useIsomorphicLayoutEffect(() => {\n    if (mapInstance) {\n      mapInstance.setProps(props);\n    }\n  });\n\n  useImperativeHandle(ref, () => contextValue.map, [mapInstance]);\n\n  const style: CSSProperties = useMemo(\n    () => ({\n      position: 'relative',\n      width: '100%',\n      height: '100%',\n      ...props.style\n    }),\n    [props.style]\n  );\n\n  const CHILD_CONTAINER_STYLE = {\n    height: '100%'\n  };\n\n  return (\n    <div id={props.id} ref={containerRef} style={style}>\n      {mapInstance && (\n        <MapContext.Provider value={contextValue}>\n          <div mapboxgl-children=\"\" style={CHILD_CONTAINER_STYLE}>\n            {props.children}\n          </div>\n        </MapContext.Provider>\n      )}\n    </div>\n  );\n}\n\nexport const Map = React.forwardRef(_Map);\n"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAG/B,OAAO,EAAC,kBAAkB,EAAC,qBAAkB;AAC7C,OAAO,QAAyB,gCAA6B;AAC7D,OAAO,SAAmB,kCAA+B;AAGzD,OAAO,yBAAyB,iDAA8C;AAC9E,OAAO,UAA4B,gCAA6B;;;;;;;;AAQzD,MAAM,UAAU,GAAG,KAAK,iMAAC,aAAa,CAAkB,IAAI,CAAC,CAAC;AAmBrE,SAAS,IAAI,CAAC,KAAe,EAAE,GAAsB;IACnD,MAAM,kBAAkB,6MAAG,aAAA,AAAU,uLAAC,qBAAkB,CAAC,CAAC;IAC1D,MAAM,CAAC,WAAW,EAAE,cAAc,CAAC,GAAG,qNAAA,AAAQ,EAAW,IAAI,CAAC,CAAC;IAC/D,MAAM,YAAY,6MAAG,SAAA,AAAM,EAAE,CAAC;IAE9B,MAAM,EAAC,OAAO,EAAE,YAAY,EAAC,6MAAG,SAAA,AAAM,EAAkB;QAAC,MAAM,EAAE,IAAI;QAAE,GAAG,EAAE,IAAI;IAAA,CAAC,CAAC,CAAC;8MAEnF,YAAA,AAAS,EAAC,GAAG,EAAE;QACb,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;QAC5B,IAAI,SAAS,GAAG,IAAI,CAAC;QACrB,IAAI,QAAkB,CAAC;QAEvB,OAAO,CAAC,OAAO,CAAC,MAAM,IAAI,MAAM,CAAC,aAAa,CAAC,CAAC,sHAC7C,IAAI,CAAC,CAAC,MAAkC,EAAE,EAAE;YAC3C,IAAI,CAAC,SAAS,EAAE,CAAC;gBACf,OAAO;YACT,CAAC;YACD,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;YACpC,CAAC;YACD,MAAM,QAAQ,GAAG,KAAK,IAAI,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC;YAC3D,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;gBAClB,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;YACpC,CAAC;YAED,+DAA+D;YAC/D,yDAAyD;oMACzD,UAAA,AAAU,EAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YAC5B,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC;gBACrD,IAAI,KAAK,CAAC,SAAS,EAAE,CAAC;oBACpB,QAAQ,oLAAG,UAAQ,CAAC,KAAK,CAAC,KAAK,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;gBACzD,CAAC;gBACD,IAAI,CAAC,QAAQ,EAAE,CAAC;oBACd,QAAQ,GAAG,IAAI,2LAAQ,CAAC,QAAQ,CAAC,GAAG,EAAE,KAAK,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;gBACrE,CAAC;gBACD,YAAY,CAAC,GAAG,6LAAG,UAAA,AAAS,EAAC,QAAQ,CAAC,CAAC;gBACvC,YAAY,CAAC,MAAM,GAAG,QAAQ,CAAC;gBAE/B,cAAc,CAAC,QAAQ,CAAC,CAAC;gBACzB,kBAAkB,EAAE,UAAU,CAAC,YAAY,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC;YAC7D,CAAC,MAAM,CAAC;gBACN,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC,CAAC;YAC1D,CAAC;QACH,CAAC,CAAC,CACD,KAAK,CAAC,KAAK,CAAC,EAAE;YACb,MAAM,EAAC,OAAO,EAAC,GAAG,KAAK,CAAC;YACxB,IAAI,OAAO,EAAE,CAAC;gBACZ,OAAO,CAAC;oBACN,IAAI,EAAE,OAAO;oBACb,MAAM,EAAE,IAAI;oBACZ,aAAa,EAAE,IAAI;oBACnB,KAAK;iBACN,CAAC,CAAC;YACL,CAAC,MAAM,CAAC;gBACN,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,sBAAsB;YAC9C,CAAC;QACH,CAAC,CAAC,CAAC;QAEL,OAAO,GAAG,EAAE;YACV,SAAS,GAAG,KAAK,CAAC;YAClB,IAAI,QAAQ,EAAE,CAAC;gBACb,kBAAkB,EAAE,YAAY,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;gBAC3C,IAAI,KAAK,CAAC,SAAS,EAAE,CAAC;oBACpB,QAAQ,CAAC,OAAO,EAAE,CAAC;gBACrB,CAAC,MAAM,CAAC;oBACN,QAAQ,CAAC,OAAO,EAAE,CAAC;gBACrB,CAAC;YACH,CAAC;QACH,CAAC,CAAC;IACJ,CAAC,EAAE,EAAE,CAAC,CAAC;mNAEP,UAAA,AAAyB,EAAC,GAAG,EAAE;QAC7B,IAAI,WAAW,EAAE,CAAC;YAChB,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC9B,CAAC;IACH,CAAC,CAAC,CAAC;8MAEH,sBAAA,AAAmB,EAAC,GAAG,EAAE,GAAG,CAAG,CAAD,WAAa,CAAC,GAAG,EAAE;QAAC,WAAW;KAAC,CAAC,CAAC;IAEhE,MAAM,KAAK,IAAkB,mNAAO,AAAP,EAC3B,GAAG,CAAG,CAAD,AAAE;YACL,QAAQ,EAAE,UAAU;YACpB,KAAK,EAAE,MAAM;YACb,MAAM,EAAE,MAAM;YACd,GAAG,KAAK,CAAC,KAAK;SACf,CAAC,EACF;QAAC,KAAK,CAAC,KAAK;KAAC,CACd,CAAC;IAEF,MAAM,qBAAqB,GAAG;QAC5B,MAAM,EAAE,MAAM;KACf,CAAC;IAEF,OAAO,AACL,sMAAA,aAAA,CAAA,OAAA;QAAK,EAAE,EAAE,KAAK,CAAC,EAAE;QAAE,GAAG,EAAE,YAAY;QAAE,KAAK,EAAE,KAAK;IAAA,GAC/C,WAAW,IAAI,AACd,sMAAA,aAAA,CAAC,UAAU,CAAC,QAAQ,EAAA;QAAC,KAAK,EAAE,YAAY;IAAA,GACtC,sMAAA,aAAA,CAAA,OAAA;QAAA,qBAAuB,EAAE;QAAC,KAAK,EAAE,qBAAqB;IAAA,GACnD,KAAK,CAAC,QAAQ,CACX,CACc,CACvB,CACG,CACP,CAAC;AACJ,CAAC;AAEM,MAAM,GAAG,GAAG,KAAK,iMAAC,UAAU,CAAC,IAAI,CAAC,CAAC","ignoreList":[0]}},
    {"offset": {"line": 929, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 935, "column": 0}, "map": {"version":3,"file":"apply-react-style.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/utils/apply-react-style.ts"],"sourcesContent":["import * as React from 'react';\n// This is a simplified version of\n// https://github.com/facebook/react/blob/4131af3e4bf52f3a003537ec95a1655147c81270/src/renderers/dom/shared/CSSPropertyOperations.js#L62\nconst unitlessNumber = /box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;\n\nexport function applyReactStyle(element: HTMLElement, styles: React.CSSProperties) {\n  if (!element || !styles) {\n    return;\n  }\n  const style = element.style;\n\n  for (const key in styles) {\n    const value = styles[key];\n    if (Number.isFinite(value) && !unitlessNumber.test(key)) {\n      style[key] = `${value}px`;\n    } else {\n      style[key] = value;\n    }\n  }\n}\n"],"names":[],"mappings":"AACA,kCAAkC;AAClC,wIAAwI;;;;AACxI,MAAM,cAAc,GAAG,yEAAyE,CAAC;AAE3F,SAAU,eAAe,CAAC,OAAoB,EAAE,MAA2B;IAC/E,IAAI,CAAC,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC;QACxB,OAAO;IACT,CAAC;IACD,MAAM,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;IAE5B,IAAK,MAAM,GAAG,IAAI,MAAM,CAAE,CAAC;QACzB,MAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;QAC1B,IAAI,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;YACxD,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,KAAK,CAAA,EAAA,CAAI,CAAC;QAC5B,CAAC,MAAM,CAAC;YACN,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;QACrB,CAAC;IACH,CAAC;AACH,CAAC","ignoreList":[0]}},
    {"offset": {"line": 955, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 961, "column": 0}, "map": {"version":3,"file":"marker.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/components/marker.ts"],"sourcesContent":["/* global document */\nimport * as React from 'react';\nimport {createPortal} from 'react-dom';\nimport {useImperativeHandle, useEffect, useMemo, useRef, useContext, forwardRef, memo} from 'react';\nimport {applyReactStyle} from '../utils/apply-react-style';\n\nimport type {PopupInstance, MarkerInstance, MarkerOptions} from '../types/lib';\nimport type {MarkerEvent, MarkerDragEvent} from '../types/events';\n\nimport {MapContext} from './map';\nimport {arePointsEqual} from '../utils/deep-equal';\n\nexport type MarkerProps = MarkerOptions & {\n  /** Longitude of the anchor location */\n  longitude: number;\n  /** Latitude of the anchor location */\n  latitude: number;\n\n  popup?: PopupInstance;\n\n  /** CSS style override, applied to the control's container */\n  style?: React.CSSProperties;\n  onClick?: (e: MarkerEvent<MouseEvent>) => void;\n  onDragStart?: (e: MarkerDragEvent) => void;\n  onDrag?: (e: MarkerDragEvent) => void;\n  onDragEnd?: (e: MarkerDragEvent) => void;\n  children?: React.ReactNode;\n};\n\n/* eslint-disable complexity,max-statements */\nexport const Marker = memo(\n  forwardRef((props: MarkerProps, ref: React.Ref<MarkerInstance>) => {\n    const {map, mapLib} = useContext(MapContext);\n    const thisRef = useRef({props});\n    thisRef.current.props = props;\n\n    const marker: MarkerInstance = useMemo(() => {\n      let hasChildren = false;\n      React.Children.forEach(props.children, el => {\n        if (el) {\n          hasChildren = true;\n        }\n      });\n      const options = {\n        ...props,\n        element: hasChildren ? document.createElement('div') : null\n      };\n\n      const mk = new mapLib.Marker(options);\n      mk.setLngLat([props.longitude, props.latitude]);\n\n      mk.getElement().addEventListener('click', (e: MouseEvent) => {\n        thisRef.current.props.onClick?.({\n          type: 'click',\n          target: mk,\n          originalEvent: e\n        });\n      });\n\n      mk.on('dragstart', e => {\n        const evt = e as MarkerDragEvent;\n        evt.lngLat = marker.getLngLat();\n        thisRef.current.props.onDragStart?.(evt);\n      });\n      mk.on('drag', e => {\n        const evt = e as MarkerDragEvent;\n        evt.lngLat = marker.getLngLat();\n        thisRef.current.props.onDrag?.(evt);\n      });\n      mk.on('dragend', e => {\n        const evt = e as MarkerDragEvent;\n        evt.lngLat = marker.getLngLat();\n        thisRef.current.props.onDragEnd?.(evt);\n      });\n\n      return mk;\n    }, []);\n\n    useEffect(() => {\n      marker.addTo(map.getMap());\n\n      return () => {\n        marker.remove();\n      };\n    }, []);\n\n    const {\n      longitude,\n      latitude,\n      offset,\n      style,\n      draggable = false,\n      popup = null,\n      rotation = 0,\n      rotationAlignment = 'auto',\n      pitchAlignment = 'auto'\n    } = props;\n\n    useEffect(() => {\n      applyReactStyle(marker.getElement(), style);\n    }, [style]);\n\n    useImperativeHandle(ref, () => marker, []);\n\n    if (marker.getLngLat().lng !== longitude || marker.getLngLat().lat !== latitude) {\n      marker.setLngLat([longitude, latitude]);\n    }\n    if (offset && !arePointsEqual(marker.getOffset(), offset)) {\n      marker.setOffset(offset);\n    }\n    if (marker.isDraggable() !== draggable) {\n      marker.setDraggable(draggable);\n    }\n    if (marker.getRotation() !== rotation) {\n      marker.setRotation(rotation);\n    }\n    if (marker.getRotationAlignment() !== rotationAlignment) {\n      marker.setRotationAlignment(rotationAlignment);\n    }\n    if (marker.getPitchAlignment() !== pitchAlignment) {\n      marker.setPitchAlignment(pitchAlignment);\n    }\n    if (marker.getPopup() !== popup) {\n      marker.setPopup(popup);\n    }\n\n    return createPortal(props.children, marker.getElement());\n  })\n);\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1060, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1066, "column": 0}, "map": {"version":3,"file":"popup.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/components/popup.ts"],"sourcesContent":["/* global document */\nimport * as React from 'react';\nimport {createPortal} from 'react-dom';\nimport {useImperativeHandle, useEffect, useMemo, useRef, useContext, forwardRef, memo} from 'react';\nimport {applyReactStyle} from '../utils/apply-react-style';\n\nimport type {PopupInstance, PopupOptions} from '../types/lib';\nimport type {PopupEvent} from '../types/events';\n\nimport {MapContext} from './map';\nimport {deepEqual} from '../utils/deep-equal';\n\nexport type PopupProps = PopupOptions & {\n  /** Longitude of the anchor location */\n  longitude: number;\n  /** Latitude of the anchor location */\n  latitude: number;\n\n  /** CSS style override, applied to the control's container */\n  style?: React.CSSProperties;\n\n  onOpen?: (e: PopupEvent) => void;\n  onClose?: (e: PopupEvent) => void;\n  children?: React.ReactNode;\n};\n\n// Adapted from https://github.com/mapbox/mapbox-gl-js/blob/v1.13.0/src/ui/popup.js\nfunction getClassList(className: string) {\n  return new Set(className ? className.trim().split(/\\s+/) : []);\n}\n\n/* eslint-disable complexity,max-statements */\nexport const Popup = memo(\n  forwardRef((props: PopupProps, ref: React.Ref<PopupInstance>) => {\n    const {map, mapLib} = useContext(MapContext);\n    const container = useMemo(() => {\n      return document.createElement('div');\n    }, []);\n    const thisRef = useRef({props});\n    thisRef.current.props = props;\n\n    const popup: PopupInstance = useMemo(() => {\n      const options = {...props};\n      const pp = new mapLib.Popup(options);\n      pp.setLngLat([props.longitude, props.latitude]);\n      pp.once('open', e => {\n        thisRef.current.props.onOpen?.(e as PopupEvent);\n      });\n      return pp;\n    }, []);\n\n    useEffect(() => {\n      const onClose = e => {\n        thisRef.current.props.onClose?.(e as PopupEvent);\n      };\n      popup.on('close', onClose);\n      popup.setDOMContent(container).addTo(map.getMap());\n\n      return () => {\n        // https://github.com/visgl/react-map-gl/issues/1825\n        // onClose should not be fired if the popup is removed by unmounting\n        // When using React strict mode, the component is mounted twice.\n        // Firing the onClose callback here would be a false signal to remove the component.\n        popup.off('close', onClose);\n        if (popup.isOpen()) {\n          popup.remove();\n        }\n      };\n    }, []);\n\n    useEffect(() => {\n      applyReactStyle(popup.getElement(), props.style);\n    }, [props.style]);\n\n    useImperativeHandle(ref, () => popup, []);\n\n    if (popup.isOpen()) {\n      if (popup.getLngLat().lng !== props.longitude || popup.getLngLat().lat !== props.latitude) {\n        popup.setLngLat([props.longitude, props.latitude]);\n      }\n      if (props.offset && !deepEqual(popup.options.offset, props.offset)) {\n        popup.setOffset(props.offset);\n      }\n      if (popup.options.anchor !== props.anchor || popup.options.maxWidth !== props.maxWidth) {\n        popup.options.anchor = props.anchor;\n        popup.setMaxWidth(props.maxWidth);\n      }\n      if (popup.options.className !== props.className) {\n        const prevClassList = getClassList(popup.options.className);\n        const nextClassList = getClassList(props.className);\n\n        for (const c of prevClassList) {\n          if (!nextClassList.has(c)) {\n            popup.removeClassName(c);\n          }\n        }\n        for (const c of nextClassList) {\n          if (!prevClassList.has(c)) {\n            popup.addClassName(c);\n          }\n        }\n        popup.options.className = props.className;\n      }\n    }\n\n    return createPortal(props.children, container);\n  })\n);\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1161, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1167, "column": 0}, "map": {"version":3,"file":"use-control.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/components/use-control.ts"],"sourcesContent":["import {useContext, useMemo, useEffect} from 'react';\nimport type {IControl, ControlPosition} from '../types/lib';\nimport {MapContext} from './map';\nimport type {MapContextValue} from './map';\n\ntype ControlOptions = {\n  position?: ControlPosition;\n};\n\nexport function useControl<T extends IControl>(\n  onCreate: (context: MapContextValue) => T,\n  opts?: ControlOptions\n): T;\n\nexport function useControl<T extends IControl>(\n  onCreate: (context: MapContextValue) => T,\n  onRemove: (context: MapContextValue) => void,\n  opts?: ControlOptions\n): T;\n\nexport function useControl<T extends IControl>(\n  onCreate: (context: MapContextValue) => T,\n  onAdd: (context: MapContextValue) => void,\n  onRemove: (context: MapContextValue) => void,\n  opts?: ControlOptions\n): T;\n\nexport function useControl<T extends IControl>(\n  onCreate: (context: MapContextValue) => T,\n  arg1?: ((context: MapContextValue) => void) | ControlOptions,\n  arg2?: ((context: MapContextValue) => void) | ControlOptions,\n  arg3?: ControlOptions\n): T {\n  const context = useContext(MapContext);\n  const ctrl = useMemo(() => onCreate(context), []);\n\n  useEffect(() => {\n    const opts = (arg3 || arg2 || arg1) as ControlOptions;\n    const onAdd = typeof arg1 === 'function' && typeof arg2 === 'function' ? arg1 : null;\n    const onRemove = typeof arg2 === 'function' ? arg2 : typeof arg1 === 'function' ? arg1 : null;\n\n    const {map} = context;\n    if (!map.hasControl(ctrl)) {\n      map.addControl(ctrl, opts?.position);\n      if (onAdd) {\n        onAdd(context);\n      }\n    }\n\n    return () => {\n      if (onRemove) {\n        onRemove(context);\n      }\n      // Map might have been removed (parent effects are destroyed before child ones)\n      if (map.hasControl(ctrl)) {\n        map.removeControl(ctrl);\n      }\n    };\n  }, []);\n\n  return ctrl;\n}\n"],"names":[],"mappings":";;;AAAA,OAAO,EAAC,UAAU,EAAE,OAAO,EAAE,SAAS,EAAC,MAAM,OAAO,CAAC;AAErD,OAAO,EAAC,UAAU,EAAC,iBAAc;;;AAyB3B,SAAU,UAAU,CACxB,QAAyC,EACzC,IAA4D,EAC5D,IAA4D,EAC5D,IAAqB;IAErB,MAAM,OAAO,OAAG,mNAAA,AAAU,gLAAC,aAAU,CAAC,CAAC;IACvC,MAAM,IAAI,6MAAG,UAAA,AAAO,EAAC,GAAG,CAAG,CAAD,OAAS,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,CAAC;KAElD,qNAAA,AAAS,EAAC,GAAG,EAAE;QACb,MAAM,IAAI,GAAI,AAAD,IAAK,IAAI,IAAI,IAAI,IAAI,CAAmB,CAAC;QACtD,MAAM,KAAK,GAAG,OAAO,IAAI,KAAK,UAAU,IAAI,OAAO,IAAI,KAAK,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;QACrF,MAAM,QAAQ,GAAG,OAAO,IAAI,KAAK,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,IAAI,KAAK,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;QAE9F,MAAM,EAAC,GAAG,EAAC,GAAG,OAAO,CAAC;QACtB,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC;YAC1B,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;YACrC,IAAI,KAAK,EAAE,CAAC;gBACV,KAAK,CAAC,OAAO,CAAC,CAAC;YACjB,CAAC;QACH,CAAC;QAED,OAAO,GAAG,EAAE;YACV,IAAI,QAAQ,EAAE,CAAC;gBACb,QAAQ,CAAC,OAAO,CAAC,CAAC;YACpB,CAAC;YACD,+EAA+E;YAC/E,IAAI,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC;gBACzB,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YAC1B,CAAC;QACH,CAAC,CAAC;IACJ,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,OAAO,IAAI,CAAC;AACd,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1200, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1206, "column": 0}, "map": {"version":3,"file":"attribution-control.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/components/attribution-control.ts"],"sourcesContent":["import * as React from 'react';\nimport {useEffect, memo} from 'react';\nimport {applyReactStyle} from '../utils/apply-react-style';\nimport {useControl} from './use-control';\n\nimport type {ControlPosition, AttributionControlOptions} from '../types/lib';\n\nexport type AttributionControlProps = AttributionControlOptions & {\n  /** Placement of the control relative to the map. */\n  position?: ControlPosition;\n  /** CSS style override, applied to the control's container */\n  style?: React.CSSProperties;\n};\n\nfunction _AttributionControl(props: AttributionControlProps) {\n  const ctrl = useControl(({mapLib}) => new mapLib.AttributionControl(props), {\n    position: props.position\n  });\n\n  useEffect(() => {\n    applyReactStyle(ctrl._container, props.style);\n  }, [props.style]);\n\n  return null;\n}\n\nexport const AttributionControl = memo(_AttributionControl);\n"],"names":[],"mappings":";;;AACA,OAAO,EAAC,SAAS,EAAE,IAAI,EAAC,MAAM,OAAO,CAAC;AACtC,OAAO,EAAC,eAAe,EAAC,sCAAmC;AAC3D,OAAO,EAAC,UAAU,EAAC,yBAAsB;;;;AAWzC,SAAS,mBAAmB,CAAC,KAA8B;IACzD,MAAM,IAAI,gMAAG,aAAA,AAAU,EAAC,CAAC,EAAC,MAAM,EAAC,EAAE,CAAG,CAAD,GAAK,MAAM,CAAC,kBAAkB,CAAC,KAAK,CAAC,EAAE;QAC1E,QAAQ,EAAE,KAAK,CAAC,QAAQ;KACzB,CAAC,CAAC;8MAEH,YAAA,AAAS,EAAC,GAAG,EAAE;SACb,kNAAA,AAAe,EAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC,EAAE;QAAC,KAAK,CAAC,KAAK;KAAC,CAAC,CAAC;IAElB,OAAO,IAAI,CAAC;AACd,CAAC;AAEM,MAAM,kBAAkB,6MAAG,OAAA,AAAI,EAAC,mBAAmB,CAAC,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1227, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1233, "column": 0}, "map": {"version":3,"file":"fullscreen-control.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/components/fullscreen-control.ts"],"sourcesContent":["/* global document */\nimport * as React from 'react';\nimport {useEffect, memo} from 'react';\nimport {applyReactStyle} from '../utils/apply-react-style';\nimport {useControl} from './use-control';\n\nimport type {ControlPosition, FullscreenControlOptions} from '../types/lib';\n\nexport type FullscreenControlProps = Omit<FullscreenControlOptions, 'container'> & {\n  /** Id of the DOM element which should be made full screen. By default, the map container\n   * element will be made full screen. */\n  containerId?: string;\n  /** Placement of the control relative to the map. */\n  position?: ControlPosition;\n  /** CSS style override, applied to the control's container */\n  style?: React.CSSProperties;\n};\n\nfunction _FullscreenControl(props: FullscreenControlProps) {\n  const ctrl = useControl(\n    ({mapLib}) =>\n      new mapLib.FullscreenControl({\n        container: props.containerId && document.getElementById(props.containerId)\n      }),\n    {position: props.position}\n  );\n\n  useEffect(() => {\n    applyReactStyle(ctrl._controlContainer, props.style);\n  }, [props.style]);\n\n  return null;\n}\n\nexport const FullscreenControl = memo(_FullscreenControl);\n"],"names":[],"mappings":";;;AAEA,OAAO,EAAC,SAAS,EAAE,IAAI,EAAC,MAAM,OAAO,CAAC;AACtC,OAAO,EAAC,eAAe,EAAC,sCAAmC;AAC3D,OAAO,EAAC,UAAU,EAAC,yBAAsB;;;;AAczC,SAAS,kBAAkB,CAAC,KAA6B;IACvD,MAAM,IAAI,gMAAG,aAAA,AAAU,EACrB,CAAC,EAAC,MAAM,EAAC,EAAE,CACT,CADW,GACP,MAAM,CAAC,iBAAiB,CAAC;YAC3B,SAAS,EAAE,KAAK,CAAC,WAAW,IAAI,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,WAAW,CAAC;SAC3E,CAAC,EACJ;QAAC,QAAQ,EAAE,KAAK,CAAC,QAAQ;IAAA,CAAC,CAC3B,CAAC;KAEF,qNAAA,AAAS,EAAC,GAAG,EAAE;yMACb,kBAAA,AAAe,EAAC,IAAI,CAAC,iBAAiB,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;IACvD,CAAC,EAAE;QAAC,KAAK,CAAC,KAAK;KAAC,CAAC,CAAC;IAElB,OAAO,IAAI,CAAC;AACd,CAAC;AAEM,MAAM,iBAAiB,6MAAG,OAAA,AAAI,EAAC,kBAAkB,CAAC,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1256, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1262, "column": 0}, "map": {"version":3,"file":"geolocate-control.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/components/geolocate-control.ts"],"sourcesContent":["import * as React from 'react';\nimport {useImperativeHandle, useRef, useEffect, forwardRef, memo} from 'react';\nimport {applyReactStyle} from '../utils/apply-react-style';\nimport {useControl} from './use-control';\n\nimport type {\n  ControlPosition,\n  GeolocateControlInstance,\n  GeolocateControlOptions\n} from '../types/lib';\nimport type {GeolocateEvent, GeolocateResultEvent, GeolocateErrorEvent} from '../types/events';\n\nexport type GeolocateControlProps = GeolocateControlOptions & {\n  /** Placement of the control relative to the map. */\n  position?: ControlPosition;\n  /** CSS style override, applied to the control's container */\n  style?: React.CSSProperties;\n\n  /** Called on each Geolocation API position update that returned as success. */\n  onGeolocate?: (e: GeolocateResultEvent) => void;\n  /** Called on each Geolocation API position update that returned as an error. */\n  onError?: (e: GeolocateErrorEvent) => void;\n  /** Called on each Geolocation API position update that returned as success but user position\n   * is out of map `maxBounds`. */\n  onOutOfMaxBounds?: (e: GeolocateResultEvent) => void;\n  /** Called when the GeolocateControl changes to the active lock state. */\n  onTrackUserLocationStart?: (e: GeolocateEvent) => void;\n  /** Called when the GeolocateControl changes to the background state. */\n  onTrackUserLocationEnd?: (e: GeolocateEvent) => void;\n};\n\nfunction _GeolocateControl(props: GeolocateControlProps, ref: React.Ref<GeolocateControlInstance>) {\n  const thisRef = useRef({props});\n\n  const ctrl = useControl(\n    ({mapLib}) => {\n      const gc = new mapLib.GeolocateControl(props);\n\n      // Hack: fix GeolocateControl reuse\n      // When using React strict mode, the component is mounted twice.\n      // GeolocateControl's UI creation is asynchronous. Removing and adding it back causes the UI to be initialized twice.\n      const setupUI = gc._setupUI;\n      gc._setupUI = () => {\n        if (!gc._container.hasChildNodes()) {\n          setupUI();\n        }\n      };\n\n      gc.on('geolocate', e => {\n        thisRef.current.props.onGeolocate?.(e as GeolocateResultEvent);\n      });\n      gc.on('error', e => {\n        thisRef.current.props.onError?.(e as GeolocateErrorEvent);\n      });\n      gc.on('outofmaxbounds', e => {\n        thisRef.current.props.onOutOfMaxBounds?.(e as GeolocateResultEvent);\n      });\n      gc.on('trackuserlocationstart', e => {\n        thisRef.current.props.onTrackUserLocationStart?.(e as GeolocateEvent);\n      });\n      gc.on('trackuserlocationend', e => {\n        thisRef.current.props.onTrackUserLocationEnd?.(e as GeolocateEvent);\n      });\n\n      return gc;\n    },\n    {position: props.position}\n  );\n\n  thisRef.current.props = props;\n\n  useImperativeHandle(ref, () => ctrl, []);\n\n  useEffect(() => {\n    applyReactStyle(ctrl._container, props.style);\n  }, [props.style]);\n\n  return null;\n}\n\nexport const GeolocateControl = memo(forwardRef(_GeolocateControl));\n"],"names":[],"mappings":";;;AACA,OAAO,EAAC,mBAAmB,EAAE,MAAM,EAAE,SAAS,EAAE,UAAU,EAAE,IAAI,EAAC,MAAM,OAAO,CAAC;AAC/E,OAAO,EAAC,eAAe,EAAC,sCAAmC;AAC3D,OAAO,EAAC,UAAU,EAAC,yBAAsB;;;;AA4BzC,SAAS,iBAAiB,CAAC,KAA4B,EAAE,GAAwC;IAC/F,MAAM,OAAO,6MAAG,SAAA,AAAM,EAAC;QAAC,KAAK;IAAA,CAAC,CAAC,CAAC;IAEhC,MAAM,IAAI,gMAAG,aAAA,AAAU,EACrB,CAAC,EAAC,MAAM,EAAC,EAAE,EAAE;QACX,MAAM,EAAE,GAAG,IAAI,MAAM,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QAE9C,mCAAmC;QACnC,gEAAgE;QAChE,qHAAqH;QACrH,MAAM,OAAO,GAAG,EAAE,CAAC,QAAQ,CAAC;QAC5B,EAAE,CAAC,QAAQ,GAAG,GAAG,EAAE;YACjB,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,aAAa,EAAE,EAAE,CAAC;gBACnC,OAAO,EAAE,CAAC;YACZ,CAAC;QACH,CAAC,CAAC;QAEF,EAAE,CAAC,EAAE,CAAC,WAAW,GAAE,CAAC,CAAC,EAAE;YACrB,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAyB,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC;QACH,EAAE,CAAC,EAAE,CAAC,OAAO,GAAE,CAAC,CAAC,EAAE;YACjB,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAwB,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;QACH,EAAE,CAAC,EAAE,CAAC,gBAAgB,GAAE,CAAC,CAAC,EAAE;YAC1B,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC,CAAyB,CAAC,CAAC;QACtE,CAAC,CAAC,CAAC;QACH,EAAE,CAAC,EAAE,CAAC,wBAAwB,GAAE,CAAC,CAAC,EAAE;YAClC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,CAAC,CAAmB,CAAC,CAAC;QACxE,CAAC,CAAC,CAAC;QACH,EAAE,CAAC,EAAE,CAAC,sBAAsB,GAAE,CAAC,CAAC,EAAE;YAChC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,sBAAsB,EAAE,CAAC,CAAmB,CAAC,CAAC;QACtE,CAAC,CAAC,CAAC;QAEH,OAAO,EAAE,CAAC;IACZ,CAAC,EACD;QAAC,QAAQ,EAAE,KAAK,CAAC,QAAQ;IAAA,CAAC,CAC3B,CAAC;IAEF,OAAO,CAAC,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;8MAE9B,sBAAA,AAAmB,EAAC,GAAG,EAAE,GAAG,CAAG,CAAD,GAAK,EAAE,EAAE,CAAC,CAAC;KAEzC,qNAAA,AAAS,EAAC,GAAG,EAAE;yMACb,kBAAA,AAAe,EAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC,EAAE;QAAC,KAAK,CAAC,KAAK;KAAC,CAAC,CAAC;IAElB,OAAO,IAAI,CAAC;AACd,CAAC;AAEM,MAAM,gBAAgB,6MAAG,OAAA,AAAI,4MAAC,aAAA,AAAU,EAAC,iBAAiB,CAAC,CAAC,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1315, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1321, "column": 0}, "map": {"version":3,"file":"navigation-control.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/components/navigation-control.ts"],"sourcesContent":["import * as React from 'react';\nimport {useEffect, memo} from 'react';\nimport {applyReactStyle} from '../utils/apply-react-style';\nimport {useControl} from './use-control';\n\nimport type {ControlPosition, NavigationControlOptions} from '../types/lib';\n\nexport type NavigationControlProps = NavigationControlOptions & {\n  /** Placement of the control relative to the map. */\n  position?: ControlPosition;\n  /** CSS style override, applied to the control's container */\n  style?: React.CSSProperties;\n};\n\nfunction _NavigationControl(props: NavigationControlProps) {\n  const ctrl = useControl(({mapLib}) => new mapLib.NavigationControl(props), {\n    position: props.position\n  });\n\n  useEffect(() => {\n    applyReactStyle(ctrl._container, props.style);\n  }, [props.style]);\n\n  return null;\n}\n\nexport const NavigationControl = memo(_NavigationControl);\n"],"names":[],"mappings":";;;AACA,OAAO,EAAC,SAAS,EAAE,IAAI,EAAC,MAAM,OAAO,CAAC;AACtC,OAAO,EAAC,eAAe,EAAC,sCAAmC;AAC3D,OAAO,EAAC,UAAU,EAAC,yBAAsB;;;;AAWzC,SAAS,kBAAkB,CAAC,KAA6B;IACvD,MAAM,IAAI,gMAAG,aAAA,AAAU,EAAC,CAAC,EAAC,MAAM,EAAC,EAAE,CAAG,CAAD,GAAK,MAAM,CAAC,iBAAiB,CAAC,KAAK,CAAC,EAAE;QACzE,QAAQ,EAAE,KAAK,CAAC,QAAQ;KACzB,CAAC,CAAC;8MAEH,YAAA,AAAS,EAAC,GAAG,EAAE;SACb,kNAAA,AAAe,EAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC,EAAE;QAAC,KAAK,CAAC,KAAK;KAAC,CAAC,CAAC;IAElB,OAAO,IAAI,CAAC;AACd,CAAC;AAEM,MAAM,iBAAiB,6MAAG,OAAA,AAAI,EAAC,kBAAkB,CAAC,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1342, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1348, "column": 0}, "map": {"version":3,"file":"scale-control.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/components/scale-control.ts"],"sourcesContent":["import * as React from 'react';\nimport {useEffect, useRef, memo} from 'react';\nimport {applyReactStyle} from '../utils/apply-react-style';\nimport {useControl} from './use-control';\n\nimport type {ControlPosition, ScaleControlOptions} from '../types/lib';\n\nexport type ScaleControlProps = ScaleControlOptions & {\n  // These props will be further constraint by OptionsT\n  unit?: string;\n  maxWidth?: number;\n\n  /** Placement of the control relative to the map. */\n  position?: ControlPosition;\n  /** CSS style override, applied to the control's container */\n  style?: React.CSSProperties;\n};\n\nfunction _ScaleControl(props: ScaleControlProps) {\n  const ctrl = useControl(({mapLib}) => new mapLib.ScaleControl(props), {\n    position: props.position\n  });\n  const propsRef = useRef<ScaleControlProps>(props);\n\n  const prevProps = propsRef.current;\n  propsRef.current = props;\n\n  const {style} = props;\n\n  if (props.maxWidth !== undefined && props.maxWidth !== prevProps.maxWidth) {\n    ctrl.options.maxWidth = props.maxWidth;\n  }\n  if (props.unit !== undefined && props.unit !== prevProps.unit) {\n    ctrl.setUnit(props.unit);\n  }\n\n  useEffect(() => {\n    applyReactStyle(ctrl._container, style);\n  }, [style]);\n\n  return null;\n}\n\nexport const ScaleControl = memo(_ScaleControl);\n"],"names":[],"mappings":";;;AACA,OAAO,EAAC,SAAS,EAAE,MAAM,EAAE,IAAI,EAAC,MAAM,OAAO,CAAC;AAC9C,OAAO,EAAC,eAAe,EAAC,sCAAmC;AAC3D,OAAO,EAAC,UAAU,EAAC,yBAAsB;;;;AAezC,SAAS,aAAa,CAAC,KAAwB;IAC7C,MAAM,IAAI,gMAAG,aAAA,AAAU,EAAC,CAAC,EAAC,MAAM,EAAC,EAAE,CAAG,CAAD,GAAK,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE;QACpE,QAAQ,EAAE,KAAK,CAAC,QAAQ;KACzB,CAAC,CAAC;IACH,MAAM,QAAQ,6MAAG,SAAA,AAAM,EAAoB,KAAK,CAAC,CAAC;IAElD,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC;IACnC,QAAQ,CAAC,OAAO,GAAG,KAAK,CAAC;IAEzB,MAAM,EAAC,KAAK,EAAC,GAAG,KAAK,CAAC;IAEtB,IAAI,KAAK,CAAC,QAAQ,KAAK,SAAS,IAAI,KAAK,CAAC,QAAQ,KAAK,SAAS,CAAC,QAAQ,EAAE,CAAC;QAC1E,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;IACzC,CAAC;IACD,IAAI,KAAK,CAAC,IAAI,KAAK,SAAS,IAAI,KAAK,CAAC,IAAI,KAAK,SAAS,CAAC,IAAI,EAAE,CAAC;QAC9D,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC3B,CAAC;KAED,qNAAA,AAAS,EAAC,GAAG,EAAE;yMACb,kBAAA,AAAe,EAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;IAC1C,CAAC,EAAE;QAAC,KAAK;KAAC,CAAC,CAAC;IAEZ,OAAO,IAAI,CAAC;AACd,CAAC;AAEM,MAAM,YAAY,6MAAG,OAAA,AAAI,EAAC,aAAa,CAAC,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1379, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1385, "column": 0}, "map": {"version":3,"file":"terrain-control.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/components/terrain-control.ts"],"sourcesContent":["import * as React from 'react';\nimport {useEffect, memo} from 'react';\nimport {applyReactStyle} from '../utils/apply-react-style';\nimport {useControl} from './use-control';\n\nimport type {ControlPosition} from '../types/lib';\nimport type {TerrainSpecification} from '../types/style-spec';\n\nexport type TerrainControlProps = TerrainSpecification & {\n  /** Placement of the control relative to the map. */\n  position?: ControlPosition;\n  /** CSS style override, applied to the control's container */\n  style?: React.CSSProperties;\n};\n\nfunction _TerrainControl(props: TerrainControlProps) {\n  const ctrl = useControl(({mapLib}) => new mapLib.TerrainControl(props), {\n    position: props.position\n  });\n\n  useEffect(() => {\n    applyReactStyle(ctrl._container, props.style);\n  }, [props.style]);\n\n  return null;\n}\n\nexport const TerrainControl = memo(_TerrainControl);\n"],"names":[],"mappings":";;;AACA,OAAO,EAAC,SAAS,EAAE,IAAI,EAAC,MAAM,OAAO,CAAC;AACtC,OAAO,EAAC,eAAe,EAAC,sCAAmC;AAC3D,OAAO,EAAC,UAAU,EAAC,yBAAsB;;;;AAYzC,SAAS,eAAe,CAAC,KAA0B;IACjD,MAAM,IAAI,gMAAG,aAAA,AAAU,EAAC,CAAC,EAAC,MAAM,EAAC,EAAE,CAAG,CAAD,GAAK,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;QACtE,QAAQ,EAAE,KAAK,CAAC,QAAQ;KACzB,CAAC,CAAC;8MAEH,YAAA,AAAS,EAAC,GAAG,EAAE;SACb,kNAAA,AAAe,EAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC,EAAE;QAAC,KAAK,CAAC,KAAK;KAAC,CAAC,CAAC;IAElB,OAAO,IAAI,CAAC;AACd,CAAC;AAEM,MAAM,cAAc,6MAAG,OAAA,AAAI,EAAC,eAAe,CAAC,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1406, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1412, "column": 0}, "map": {"version":3,"file":"logo-control.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/components/logo-control.ts"],"sourcesContent":["import * as React from 'react';\nimport {useEffect, memo} from 'react';\nimport {applyReactStyle} from '../utils/apply-react-style';\nimport {useControl} from './use-control';\n\nimport type {ControlPosition, LogoControlOptions} from '../types/lib';\n\nexport type LogoControlProps = LogoControlOptions & {\n  /** Placement of the control relative to the map. */\n  position?: ControlPosition;\n  /** CSS style override, applied to the control's container */\n  style?: React.CSSProperties;\n};\n\nfunction _LogoControl(props: LogoControlProps) {\n  const ctrl = useControl(({mapLib}) => new mapLib.LogoControl(props), {position: props.position});\n\n  useEffect(() => {\n    applyReactStyle(ctrl._container, props.style);\n  }, [props.style]);\n\n  return null;\n}\n\nexport const LogoControl = memo(_LogoControl);\n"],"names":[],"mappings":";;;AACA,OAAO,EAAC,SAAS,EAAE,IAAI,EAAC,MAAM,OAAO,CAAC;AACtC,OAAO,EAAC,eAAe,EAAC,sCAAmC;AAC3D,OAAO,EAAC,UAAU,EAAC,yBAAsB;;;;AAWzC,SAAS,YAAY,CAAC,KAAuB;IAC3C,MAAM,IAAI,gMAAG,aAAA,AAAU,EAAC,CAAC,EAAC,MAAM,EAAC,EAAE,CAAG,CAAD,GAAK,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE;QAAC,QAAQ,EAAE,KAAK,CAAC,QAAQ;IAAA,CAAC,CAAC,CAAC;8MAEjG,YAAA,AAAS,EAAC,GAAG,EAAE;SACb,kNAAA,AAAe,EAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC,EAAE;QAAC,KAAK,CAAC,KAAK;KAAC,CAAC,CAAC;IAElB,OAAO,IAAI,CAAC;AACd,CAAC;AAEM,MAAM,WAAW,6MAAG,OAAA,AAAI,EAAC,YAAY,CAAC,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1433, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1439, "column": 0}, "map": {"version":3,"file":"assert.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/utils/assert.ts"],"sourcesContent":["export default function assert(condition: any, message: string) {\n  if (!condition) {\n    throw new Error(message);\n  }\n}\n"],"names":[],"mappings":";;;AAAc,SAAU,MAAM,CAAC,SAAc,EAAE,OAAe;IAC5D,IAAI,CAAC,SAAS,EAAE,CAAC;QACf,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;IAC3B,CAAC;AACH,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1447, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1453, "column": 0}, "map": {"version":3,"file":"source.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/components/source.ts"],"sourcesContent":["import * as React from 'react';\nimport {useContext, useEffect, useMemo, useState, useRef, cloneElement} from 'react';\nimport {MapContext} from './map';\nimport assert from '../utils/assert';\nimport {deepEqual} from '../utils/deep-equal';\n\nimport type {\n  GeoJSONSourceImplementation,\n  ImageSourceImplementation,\n  AnySourceImplementation\n} from '../types/internal';\nimport type {SourceSpecification} from '../types/style-spec';\nimport type {MapInstance} from '../types/lib';\n\nexport type SourceProps = SourceSpecification & {\n  id?: string;\n  children?: any;\n};\n\nlet sourceCounter = 0;\n\nfunction createSource(map: MapInstance, id: string, props: SourceProps) {\n  // @ts-ignore\n  if (map.style && map.style._loaded) {\n    const options = {...props};\n    delete options.id;\n    delete options.children;\n    // @ts-ignore\n    map.addSource(id, options);\n    return map.getSource(id);\n  }\n  return null;\n}\n\n/* eslint-disable complexity */\nfunction updateSource(source: AnySourceImplementation, props: SourceProps, prevProps: SourceProps) {\n  assert(props.id === prevProps.id, 'source id changed');\n  assert(props.type === prevProps.type, 'source type changed');\n\n  let changedKey = '';\n  let changedKeyCount = 0;\n\n  for (const key in props) {\n    if (key !== 'children' && key !== 'id' && !deepEqual(prevProps[key], props[key])) {\n      changedKey = key;\n      changedKeyCount++;\n    }\n  }\n\n  if (!changedKeyCount) {\n    return;\n  }\n\n  const type = props.type;\n\n  if (type === 'geojson') {\n    (source as GeoJSONSourceImplementation).setData(props.data);\n  } else if (type === 'image') {\n    (source as ImageSourceImplementation).updateImage({\n      url: props.url,\n      coordinates: props.coordinates\n    });\n  } else {\n    switch (changedKey) {\n      case 'coordinates':\n        // @ts-ignore\n        source.setCoordinates?.(props.coordinates);\n        break;\n      case 'url':\n        // @ts-ignore\n        source.setUrl?.(props.url);\n        break;\n      case 'tiles':\n        // @ts-ignore\n        source.setTiles?.(props.tiles);\n        break;\n      default:\n        // eslint-disable-next-line\n        console.warn(`Unable to update <Source> prop: ${changedKey}`);\n    }\n  }\n}\n/* eslint-enable complexity */\n\nexport function Source(props: SourceProps) {\n  const map = useContext(MapContext).map.getMap();\n  const propsRef = useRef(props);\n  const [, setStyleLoaded] = useState(0);\n\n  const id = useMemo(() => props.id || `jsx-source-${sourceCounter++}`, []);\n\n  useEffect(() => {\n    if (map) {\n      /* global setTimeout */\n      const forceUpdate = () => setTimeout(() => setStyleLoaded(version => version + 1), 0);\n      map.on('styledata', forceUpdate);\n      forceUpdate();\n\n      return () => {\n        map.off('styledata', forceUpdate);\n        // @ts-ignore\n        if (map.style && map.style._loaded && map.getSource(id)) {\n          // Parent effects are destroyed before child ones, see\n          // https://github.com/facebook/react/issues/16728\n          // Source can only be removed after all child layers are removed\n          const allLayers = map.getStyle()?.layers;\n          if (allLayers) {\n            for (const layer of allLayers) {\n              // @ts-ignore (2339) source does not exist on all layer types\n              if (layer.source === id) {\n                map.removeLayer(layer.id);\n              }\n            }\n          }\n          map.removeSource(id);\n        }\n      };\n    }\n    return undefined;\n  }, [map]);\n\n  // @ts-ignore\n  let source = map && map.style && map.getSource(id);\n  if (source) {\n    updateSource(source, props, propsRef.current);\n  } else {\n    source = createSource(map, id, props);\n  }\n  propsRef.current = props;\n\n  return (\n    (source &&\n      React.Children.map(\n        props.children,\n        child =>\n          child &&\n          cloneElement(child, {\n            source: id\n          })\n      )) ||\n    null\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1568, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1574, "column": 0}, "map": {"version":3,"file":"layer.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/components/layer.ts"],"sourcesContent":["import {useContext, useEffect, useMemo, useState, useRef} from 'react';\nimport {MapContext} from './map';\nimport assert from '../utils/assert';\nimport {deepEqual} from '../utils/deep-equal';\n\nimport type {MapInstance, CustomLayerInterface} from '../types/lib';\nimport type {LayerSpecification} from '../types/style-spec';\n\n// Omiting property from a union type, see\n// https://github.com/microsoft/TypeScript/issues/39556#issuecomment-656925230\ntype OptionalId<T> = T extends {id: string} ? Omit<T, 'id'> & {id?: string} : T;\ntype OptionalSource<T> = T extends {source: string} ? Omit<T, 'source'> & {source?: string} : T;\n\nexport type LayerProps = (OptionalSource<OptionalId<LayerSpecification>> | CustomLayerInterface) & {\n  /** If set, the layer will be inserted before the specified layer */\n  beforeId?: string;\n};\n\n/* eslint-disable complexity, max-statements */\nfunction updateLayer(map: MapInstance, id: string, props: LayerProps, prevProps: LayerProps) {\n  assert(props.id === prevProps.id, 'layer id changed');\n  assert(props.type === prevProps.type, 'layer type changed');\n\n  if (props.type === 'custom' || prevProps.type === 'custom') {\n    return;\n  }\n\n  // @ts-ignore filter does not exist in some Layer types\n  const {layout = {}, paint = {}, filter, minzoom, maxzoom, beforeId} = props;\n\n  if (beforeId !== prevProps.beforeId) {\n    map.moveLayer(id, beforeId);\n  }\n  if (layout !== prevProps.layout) {\n    const prevLayout = prevProps.layout || {};\n    for (const key in layout) {\n      if (!deepEqual(layout[key], prevLayout[key])) {\n        map.setLayoutProperty(id, key, layout[key]);\n      }\n    }\n    for (const key in prevLayout) {\n      if (!layout.hasOwnProperty(key)) {\n        map.setLayoutProperty(id, key, undefined);\n      }\n    }\n  }\n  if (paint !== prevProps.paint) {\n    const prevPaint = prevProps.paint || {};\n    for (const key in paint) {\n      if (!deepEqual(paint[key], prevPaint[key])) {\n        map.setPaintProperty(id, key, paint[key]);\n      }\n    }\n    for (const key in prevPaint) {\n      if (!paint.hasOwnProperty(key)) {\n        map.setPaintProperty(id, key, undefined);\n      }\n    }\n  }\n\n  // @ts-ignore filter does not exist in some Layer types\n  if (!deepEqual(filter, prevProps.filter)) {\n    map.setFilter(id, filter);\n  }\n  if (minzoom !== prevProps.minzoom || maxzoom !== prevProps.maxzoom) {\n    map.setLayerZoomRange(id, minzoom, maxzoom);\n  }\n}\n\nfunction createLayer(map: MapInstance, id: string, props: LayerProps) {\n  // @ts-ignore\n  if (map.style && map.style._loaded && (!('source' in props) || map.getSource(props.source))) {\n    const options: LayerProps = {...props, id};\n    delete options.beforeId;\n\n    // @ts-ignore\n    map.addLayer(options, props.beforeId);\n  }\n}\n\n/* eslint-enable complexity, max-statements */\n\nlet layerCounter = 0;\n\nexport function Layer(props: LayerProps) {\n  const map = useContext(MapContext).map.getMap();\n  const propsRef = useRef(props);\n  const [, setStyleLoaded] = useState(0);\n\n  const id = useMemo(() => props.id || `jsx-layer-${layerCounter++}`, []);\n\n  useEffect(() => {\n    if (map) {\n      const forceUpdate = () => setStyleLoaded(version => version + 1);\n      map.on('styledata', forceUpdate);\n      forceUpdate();\n\n      return () => {\n        map.off('styledata', forceUpdate);\n        // @ts-ignore\n        if (map.style && map.style._loaded && map.getLayer(id)) {\n          map.removeLayer(id);\n        }\n      };\n    }\n    return undefined;\n  }, [map]);\n\n  // @ts-ignore\n  const layer = map && map.style && map.getLayer(id);\n  if (layer) {\n    try {\n      updateLayer(map, id, props, propsRef.current);\n    } catch (error) {\n      console.warn(error); // eslint-disable-line\n    }\n  } else {\n    createLayer(map, id, props);\n  }\n\n  // Store last rendered props\n  propsRef.current = props;\n\n  return null;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1680, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1686, "column": 0}, "map": {"version":3,"file":"common.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/types/common.ts"],"sourcesContent":["import type {PaddingOptions} from 'maplibre-gl';\n\nexport type {\n  Point,\n  PointLike,\n  LngLat,\n  LngLatLike,\n  LngLatBounds,\n  LngLatBoundsLike,\n  PaddingOptions,\n  MapGeoJSONFeature\n} from 'maplibre-gl';\n\n/* Public */\n\n/** Describes the camera's state */\nexport type ViewState = {\n  /** Longitude at map center */\n  longitude: number;\n  /** Latitude at map center */\n  latitude: number;\n  /** Map zoom level */\n  zoom: number;\n  /** Map rotation bearing in degrees counter-clockwise from north */\n  bearing: number;\n  /** Map angle in degrees at which the camera is looking at the ground */\n  pitch: number;\n  /** Dimensions in pixels applied on each side of the viewport for shifting the vanishing point. */\n  padding: PaddingOptions;\n};\n\nexport interface ImmutableLike<T> {\n  toJS: () => T;\n}\n"],"names":[],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 1689, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1695, "column": 0}, "map": {"version":3,"file":"events.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/types/events.ts"],"sourcesContent":["import type {Point, LngLat, MapGeoJSONFeature, ViewState} from './common';\n\nimport type {\n  Map,\n  Marker,\n  Popup,\n  GeolocateControl,\n  MapLibreEvent,\n  MapMouseEvent as _MapMouseEvent,\n  MapLayerMouseEvent,\n  MapTouchEvent,\n  MapLayerTouchEvent,\n  MapStyleDataEvent,\n  MapSourceDataEvent,\n  MapWheelEvent,\n  MapLibreZoomEvent as MapBoxZoomEvent\n} from 'maplibre-gl';\n\nexport type {\n  MapLibreEvent as MapEvent,\n  MapLayerMouseEvent,\n  MapTouchEvent,\n  MapLayerTouchEvent,\n  MapStyleDataEvent,\n  MapSourceDataEvent,\n  MapWheelEvent,\n  MapBoxZoomEvent\n};\n\nexport type MapCallbacks = {\n  onMouseDown?: (e: MapLayerMouseEvent) => void;\n  onMouseUp?: (e: MapLayerMouseEvent) => void;\n  onMouseOver?: (e: MapLayerMouseEvent) => void;\n  onMouseMove?: (e: MapLayerMouseEvent) => void;\n  onClick?: (e: MapLayerMouseEvent) => void;\n  onDblClick?: (e: MapLayerMouseEvent) => void;\n  onMouseEnter?: (e: MapLayerMouseEvent) => void;\n  onMouseLeave?: (e: MapLayerMouseEvent) => void;\n  onMouseOut?: (e: MapLayerMouseEvent) => void;\n  onContextMenu?: (e: MapLayerMouseEvent) => void;\n  onTouchStart?: (e: MapLayerTouchEvent) => void;\n  onTouchEnd?: (e: MapLayerTouchEvent) => void;\n  onTouchMove?: (e: MapLayerTouchEvent) => void;\n  onTouchCancel?: (e: MapLayerTouchEvent) => void;\n\n  onMoveStart?: (e: ViewStateChangeEvent) => void;\n  onMove?: (e: ViewStateChangeEvent) => void;\n  onMoveEnd?: (e: ViewStateChangeEvent) => void;\n  onDragStart?: (e: ViewStateChangeEvent) => void;\n  onDrag?: (e: ViewStateChangeEvent) => void;\n  onDragEnd?: (e: ViewStateChangeEvent) => void;\n  onZoomStart?: (e: ViewStateChangeEvent) => void;\n  onZoom?: (e: ViewStateChangeEvent) => void;\n  onZoomEnd?: (e: ViewStateChangeEvent) => void;\n  onRotateStart?: (e: ViewStateChangeEvent) => void;\n  onRotate?: (e: ViewStateChangeEvent) => void;\n  onRotateEnd?: (e: ViewStateChangeEvent) => void;\n  onPitchStart?: (e: ViewStateChangeEvent) => void;\n  onPitch?: (e: ViewStateChangeEvent) => void;\n  onPitchEnd?: (e: ViewStateChangeEvent) => void;\n\n  onWheel?: (e: MapWheelEvent) => void;\n  onBoxZoomStart?: (e: MapBoxZoomEvent) => void;\n  onBoxZoomEnd?: (e: MapBoxZoomEvent) => void;\n  onBoxZoomCancel?: (e: MapBoxZoomEvent) => void;\n\n  onResize?: (e: MapLibreEvent) => void;\n  onLoad?: (e: MapLibreEvent) => void;\n  onRender?: (e: MapLibreEvent) => void;\n  onIdle?: (e: MapLibreEvent) => void;\n  onError?: (e: ErrorEvent) => void;\n  onRemove?: (e: MapLibreEvent) => void;\n  onData?: (e: MapStyleDataEvent | MapSourceDataEvent) => void;\n  onStyleData?: (e: MapStyleDataEvent) => void;\n  onSourceData?: (e: MapSourceDataEvent) => void;\n};\n\ninterface MapEvent<SourceT, OriginalEventT = undefined> {\n  type: string;\n  target: SourceT;\n  originalEvent: OriginalEventT;\n}\n\nexport type ErrorEvent = MapEvent<Map> & {\n  type: 'error';\n  error: Error;\n};\n\nexport type MapMouseEvent = _MapMouseEvent & {\n  point: Point;\n  lngLat: LngLat;\n  features?: MapGeoJSONFeature[];\n};\n\nexport type ViewStateChangeEvent =\n  | (MapEvent<Map, MouseEvent | TouchEvent | WheelEvent | undefined> & {\n      type: 'movestart' | 'move' | 'moveend' | 'zoomstart' | 'zoom' | 'zoomend';\n      viewState: ViewState;\n    })\n  | (MapEvent<Map, MouseEvent | TouchEvent | undefined> & {\n      type:\n        | 'rotatestart'\n        | 'rotate'\n        | 'rotateend'\n        | 'dragstart'\n        | 'drag'\n        | 'dragend'\n        | 'pitchstart'\n        | 'pitch'\n        | 'pitchend';\n      viewState: ViewState;\n    });\n\nexport type PopupEvent = {\n  type: 'open' | 'close';\n  target: Popup;\n};\n\nexport type MarkerEvent<OriginalEventT = undefined> = MapEvent<Marker, OriginalEventT>;\n\nexport type MarkerDragEvent = MarkerEvent & {\n  type: 'dragstart' | 'drag' | 'dragend';\n  lngLat: LngLat;\n};\n\nexport type GeolocateEvent = MapEvent<GeolocateControl>;\n\nexport type GeolocateResultEvent = GeolocateEvent & GeolocationPosition;\n\nexport type GeolocateErrorEvent = GeolocateEvent & GeolocationPositionError;\n"],"names":[],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 1698, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1704, "column": 0}, "map": {"version":3,"file":"lib.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/types/lib.ts"],"sourcesContent":["import type {\n  Map,\n  MapOptions,\n  Marker,\n  MarkerOptions,\n  Popup,\n  PopupOptions,\n  AttributionControl,\n  AttributionControlOptions,\n  FullscreenControl,\n  FullscreenControlOptions,\n  GeolocateControl,\n  GeolocateControlOptions,\n  NavigationControl,\n  NavigationControlOptions,\n  ScaleControl,\n  ScaleControlOptions,\n  TerrainControl,\n  TerrainSpecification,\n  LogoControl,\n  LogoControlOptions\n} from 'maplibre-gl';\n\nexport type {\n  ControlPosition,\n  IControl,\n  Map as MapInstance,\n  MapOptions,\n  Marker as MarkerInstance,\n  MarkerOptions,\n  Popup as PopupInstance,\n  PopupOptions,\n  AttributionControl as AttributionControlInstance,\n  AttributionControlOptions,\n  FullscreenControl as FullscreenControlInstance,\n  FullscreenControlOptions,\n  GeolocateControl as GeolocateControlInstance,\n  GeolocateControlOptions,\n  NavigationControl as NavigationControlInstance,\n  NavigationControlOptions,\n  ScaleControl as ScaleControlInstance,\n  ScaleControlOptions,\n  TerrainControl as TerrainControlInstance,\n  LogoControl as LogoControlInstance,\n  LogoControlOptions,\n  CustomLayerInterface\n} from 'maplibre-gl';\n\n/**\n * A user-facing type that represents the minimal intersection between Mapbox and Maplibre\n * User provided `mapLib` is supposed to implement this interface\n * Only losely typed for compatibility\n */\nexport interface MapLib {\n  supported?: (options: any) => boolean;\n\n  Map: {new (options: MapOptions): Map};\n\n  Marker: {new (options: MarkerOptions): Marker};\n\n  Popup: {new (options: PopupOptions): Popup};\n\n  AttributionControl: {new (options: AttributionControlOptions): AttributionControl};\n\n  FullscreenControl: {new (options: FullscreenControlOptions): FullscreenControl};\n\n  GeolocateControl: {new (options: GeolocateControlOptions): GeolocateControl};\n\n  NavigationControl: {new (options: NavigationControlOptions): NavigationControl};\n\n  ScaleControl: {new (options: ScaleControlOptions): ScaleControl};\n\n  TerrainControl: {new (options: TerrainSpecification): TerrainControl};\n\n  LogoControl: {new (options: LogoControlOptions): LogoControl};\n}\n"],"names":[],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 1707, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1713, "column": 0}, "map": {"version":3,"file":"style-spec.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/types/style-spec.ts"],"sourcesContent":["/*\n * Maplibre Style Specification types\n * Type names are aligned with mapbox\n */\nexport type {\n  // Layers\n  LayerSpecification,\n  FillLayerSpecification,\n  LineLayerSpecification,\n  SymbolLayerSpecification,\n  CircleLayerSpecification,\n  HeatmapLayerSpecification,\n  FillExtrusionLayerSpecification,\n  RasterLayerSpecification,\n  HillshadeLayerSpecification,\n  BackgroundLayerSpecification,\n\n  // Sources\n  SourceSpecification,\n  VectorSourceSpecification,\n  RasterSourceSpecification,\n  RasterDEMSourceSpecification,\n  GeoJSONSourceSpecification,\n  VideoSourceSpecification,\n  ImageSourceSpecification,\n  CanvasSourceSpecification,\n\n  // Style\n  StyleSpecification,\n  SkySpecification,\n  LightSpecification,\n  TerrainSpecification,\n  ProjectionSpecification\n} from 'maplibre-gl';\n"],"names":[],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 1716, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1722, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/%40vis.gl/react-maplibre/src/index.ts"],"sourcesContent":["import {Map} from './components/map';\nexport {Map};\nexport default Map;\n\nexport {Marker} from './components/marker';\nexport {Popup} from './components/popup';\nexport {AttributionControl} from './components/attribution-control';\nexport {FullscreenControl} from './components/fullscreen-control';\nexport {GeolocateControl} from './components/geolocate-control';\nexport {NavigationControl} from './components/navigation-control';\nexport {ScaleControl} from './components/scale-control';\nexport {TerrainControl} from './components/terrain-control';\nexport {LogoControl} from './components/logo-control';\nexport {Source} from './components/source';\nexport {Layer} from './components/layer';\nexport {useControl} from './components/use-control';\nexport {MapProvider, useMap} from './components/use-map';\n\nexport type {MapProps} from './components/map';\nexport type {MapRef} from './maplibre/create-ref';\nexport type {MarkerProps} from './components/marker';\nexport type {PopupProps} from './components/popup';\nexport type {AttributionControlProps} from './components/attribution-control';\nexport type {FullscreenControlProps} from './components/fullscreen-control';\nexport type {GeolocateControlProps} from './components/geolocate-control';\nexport type {NavigationControlProps} from './components/navigation-control';\nexport type {ScaleControlProps} from './components/scale-control';\nexport type {TerrainControlProps} from './components/terrain-control';\nexport type {LogoControlProps} from './components/logo-control';\nexport type {SourceProps} from './components/source';\nexport type {LayerProps} from './components/layer';\n\n// Types\nexport * from './types/common';\nexport * from './types/events';\nexport * from './types/lib';\nexport * from './types/style-spec';\n"],"names":[],"mappings":";;;AAAA,OAAO,EAAC,GAAG,EAAC,4BAAyB;;;qNAEtB,MAAG,CAAC","ignoreList":[0]}},
    {"offset": {"line": 1747, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1778, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].ReactDOM\n"],"names":["module","exports","require","vendored","ReactDOM"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CAAC,YAAY,CAACC,QAAQ","ignoreList":[0]}},
    {"offset": {"line": 1780, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1785, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/next/src/client/app-call-server.ts"],"sourcesContent":["import { startTransition, useCallback } from 'react'\nimport {\n  ACTION_SERVER_ACTION,\n  type ReducerActions,\n  type ServerActionDispatcher,\n} from './components/router-reducer/router-reducer-types'\n\nlet globalServerActionDispatcher = null as ServerActionDispatcher | null\n\nexport function useServerActionDispatcher(\n  dispatch: React.Dispatch<ReducerActions>\n) {\n  const serverActionDispatcher: ServerActionDispatcher = useCallback(\n    (actionPayload) => {\n      startTransition(() => {\n        dispatch({\n          ...actionPayload,\n          type: ACTION_SERVER_ACTION,\n        })\n      })\n    },\n    [dispatch]\n  )\n  globalServerActionDispatcher = serverActionDispatcher\n}\n\nexport async function callServer(actionId: string, actionArgs: any[]) {\n  const actionDispatcher = globalServerActionDispatcher\n\n  if (!actionDispatcher) {\n    throw new Error('Invariant: missing action dispatcher.')\n  }\n\n  return new Promise((resolve, reject) => {\n    actionDispatcher({\n      actionId,\n      actionArgs,\n      resolve,\n      reject,\n    })\n  })\n}\n"],"names":["callServer","useServerActionDispatcher","globalServerActionDispatcher","dispatch","serverActionDispatcher","useCallback","actionPayload","startTransition","type","ACTION_SERVER_ACTION","actionId","actionArgs","actionDispatcher","Error","Promise","resolve","reject"],"mappings":";;;;;;;;;;;;;;;IA0BsBA,UAAU,EAAA;eAAVA;;IAjBNC,yBAAyB,EAAA;eAAzBA;;;uBAT6B;oCAKtC;AAEP,IAAIC,+BAA+B;AAE5B,SAASD,0BACdE,QAAwC;IAExC,MAAMC,yBAAiDC,CAAAA,GAAAA,OAAAA,WAAW,EAChE,CAACC;QACCC,CAAAA,GAAAA,OAAAA,eAAe,EAAC;YACdJ,SAAS;gBACP,GAAGG,aAAa;gBAChBE,MAAMC,oBAAAA,oBAAoB;YAC5B;QACF;IACF,GACA;QAACN;KAAS;IAEZD,+BAA+BE;AACjC;AAEO,eAAeJ,WAAWU,QAAgB,EAAEC,UAAiB;IAClE,MAAMC,mBAAmBV;IAEzB,IAAI,CAACU,kBAAkB;QACrB,MAAM,IAAIC,MAAM;IAClB;IAEA,OAAO,IAAIC,QAAQ,CAACC,SAASC;QAC3BJ,iBAAiB;YACfF;YACAC;YACAI;YACAC;QACF;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 1844, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1849, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/next/src/client/app-find-source-map-url.ts"],"sourcesContent":["const basePath = process.env.__NEXT_ROUTER_BASEPATH || ''\nconst pathname = `${basePath}/__nextjs_source-map`\n\nexport const findSourceMapURL =\n  process.env.NODE_ENV === 'development'\n    ? function findSourceMapURL(filename: string): string | null {\n        if (filename === '') {\n          return null\n        }\n\n        if (\n          filename.startsWith(document.location.origin) &&\n          filename.includes('/_next/static')\n        ) {\n          // This is a request for a client chunk. This can only happen when\n          // using Turbopack. In this case, since we control how those source\n          // maps are generated, we can safely assume that the sourceMappingURL\n          // is relative to the filename, with an added `.map` extension. The\n          // browser can just request this file, and it gets served through the\n          // normal dev server, without the need to route this through\n          // the `/__nextjs_source-map` dev middleware.\n          return `${filename}.map`\n        }\n\n        const url = new URL(pathname, document.location.origin)\n        url.searchParams.set('filename', filename)\n\n        return url.href\n      }\n    : undefined\n"],"names":["findSourceMapURL","basePath","process","env","__NEXT_ROUTER_BASEPATH","pathname","NODE_ENV","filename","startsWith","document","location","origin","includes","url","URL","searchParams","set","href","undefined"],"mappings":";;;;+BAGaA,oBAAAA;;;eAAAA;;;AAHb,MAAMC,WAAWC,QAAQC,GAAG,CAACC,sBAAsB,MAAI;AACvD,MAAMC,WAAY,KAAEJ,WAAS;AAEtB,MAAMD,mBACXE,QAAQC,GAAG,CAACG,QAAQ,KAAK,cACrB,SAASN,iBAAiBO,QAAgB;IACxC,IAAIA,aAAa,IAAI;QACnB,OAAO;IACT;IAEA,IACEA,SAASC,UAAU,CAACC,SAASC,QAAQ,CAACC,MAAM,KAC5CJ,SAASK,QAAQ,CAAC,kBAClB;QACA,kEAAkE;QAClE,mEAAmE;QACnE,qEAAqE;QACrE,mEAAmE;QACnE,qEAAqE;QACrE,4DAA4D;QAC5D,6CAA6C;QAC7C,OAAQ,KAAEL,WAAS;IACrB;IAEA,MAAMM,MAAM,IAAIC,IAAIT,UAAUI,SAASC,QAAQ,CAACC,MAAM;IACtDE,IAAIE,YAAY,CAACC,GAAG,CAAC,YAAYT;IAEjC,OAAOM,IAAII,IAAI;AACjB,IACAC","ignoreList":[0]}},
    {"offset": {"line": 1886, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1891, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client-edge.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactServerDOMTurbopackClientEdge\n"],"names":["module","exports","require","vendored","ReactServerDOMTurbopackClientEdge"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CACxD,YACD,CAACC,iCAAiC","ignoreList":[0]}},
    {"offset": {"line": 1893, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1898, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// Since we're using the Edge build of Flight client for SSR [1], here we need to\n// also use the same Edge build to create the reference. For the client bundle,\n// we use the default and let Webpack to resolve it to the correct version.\n// 1: https://github.com/vercel/next.js/blob/16eb80b0b0be13f04a6407943664b5efd8f3d7d0/packages/next/src/server/app-render/use-flight-response.tsx#L24-L26\nexport const createServerReference = (\n  (!!process.env.NEXT_RUNTIME\n    ? // eslint-disable-next-line import/no-extraneous-dependencies\n      require('react-server-dom-webpack/client.edge')\n    : // eslint-disable-next-line import/no-extraneous-dependencies\n      require('react-server-dom-webpack/client')) as typeof import('react-server-dom-webpack/client')\n).createServerReference\n"],"names":["callServer","createServerReference","findSourceMapURL","process","env","NEXT_RUNTIME","require"],"mappings":"AAAA,gFAAgF;AAChF,0BAA0B;;;;;;;;;;;;;;;;;IAEjBA,UAAU,EAAA;eAAVA,eAAAA,UAAU;;IASNC,qBAAqB,EAAA;eAArBA;;IARJC,gBAAgB,EAAA;eAAhBA,qBAAAA,gBAAgB;;;+BADE;qCACM;AAQ1B,MAAMD,wBACV,CAAA,CAAC,CAACE,QAAQC,GAAG,CAACC,YAAY,GAEvBC,QAAQ,0CAERA,QAAQ,4JAAiC,EAC7CL,qBAAqB","ignoreList":[0]}},
    {"offset": {"line": 1929, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1935, "column": 0}, "map": {"version":3,"file":"maplibre.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/react-map-gl/src/maplibre.ts"],"sourcesContent":["export * from '@vis.gl/react-maplibre';\n\nexport {Map as default} from '@vis.gl/react-maplibre';\n"],"names":[],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 1939, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1954, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/next-themes/dist/index.mjs"],"sourcesContent":["\"use client\";import*as t from\"react\";var L=(e,r,s,u,d,m,l,h)=>{let c=document.documentElement,v=[\"light\",\"dark\"];function p(i){(Array.isArray(e)?e:[e]).forEach(y=>{let k=y===\"class\",S=k&&m?d.map(f=>m[f]||f):d;k?(c.classList.remove(...S),c.classList.add(i)):c.setAttribute(y,i)}),R(i)}function R(i){h&&v.includes(i)&&(c.style.colorScheme=i)}function a(){return window.matchMedia(\"(prefers-color-scheme: dark)\").matches?\"dark\":\"light\"}if(u)p(u);else try{let i=localStorage.getItem(r)||s,y=l&&i===\"system\"?a():i;p(y)}catch(i){}};var M=[\"light\",\"dark\"],Q=\"(prefers-color-scheme: dark)\",U=typeof window==\"undefined\",E=t.createContext(void 0),N={setTheme:e=>{},themes:[]},z=()=>{var e;return(e=t.useContext(E))!=null?e:N},J=e=>t.useContext(E)?t.createElement(t.Fragment,null,e.children):t.createElement(_,{...e}),V=[\"light\",\"dark\"],_=({forcedTheme:e,disableTransitionOnChange:r=!1,enableSystem:s=!0,enableColorScheme:u=!0,storageKey:d=\"theme\",themes:m=V,defaultTheme:l=s?\"system\":\"light\",attribute:h=\"data-theme\",value:c,children:v,nonce:p,scriptProps:R})=>{let[a,i]=t.useState(()=>b(d,l)),[w,y]=t.useState(()=>b(d)),k=c?Object.values(c):m,S=t.useCallback(n=>{let o=n;if(!o)return;n===\"system\"&&s&&(o=I());let T=c?c[o]:o,C=r?W(p):null,P=document.documentElement,x=g=>{g===\"class\"?(P.classList.remove(...k),T&&P.classList.add(T)):g.startsWith(\"data-\")&&(T?P.setAttribute(g,T):P.removeAttribute(g))};if(Array.isArray(h)?h.forEach(x):x(h),u){let g=M.includes(l)?l:null,O=M.includes(o)?o:g;P.style.colorScheme=O}C==null||C()},[p]),f=t.useCallback(n=>{let o=typeof n==\"function\"?n(a):n;i(o);try{localStorage.setItem(d,o)}catch(T){}},[a]),A=t.useCallback(n=>{let o=I(n);y(o),a===\"system\"&&s&&!e&&S(\"system\")},[a,e]);t.useEffect(()=>{let n=window.matchMedia(Q);return n.addListener(A),A(n),()=>n.removeListener(A)},[A]),t.useEffect(()=>{let n=o=>{o.key===d&&(o.newValue?i(o.newValue):f(l))};return window.addEventListener(\"storage\",n),()=>window.removeEventListener(\"storage\",n)},[f]),t.useEffect(()=>{S(e!=null?e:a)},[e,a]);let D=t.useMemo(()=>({theme:a,setTheme:f,forcedTheme:e,resolvedTheme:a===\"system\"?w:a,themes:s?[...m,\"system\"]:m,systemTheme:s?w:void 0}),[a,f,e,w,s,m]);return t.createElement(E.Provider,{value:D},t.createElement(H,{forcedTheme:e,storageKey:d,attribute:h,enableSystem:s,enableColorScheme:u,defaultTheme:l,value:c,themes:m,nonce:p,scriptProps:R}),v)},H=t.memo(({forcedTheme:e,storageKey:r,attribute:s,enableSystem:u,enableColorScheme:d,defaultTheme:m,value:l,themes:h,nonce:c,scriptProps:v})=>{let p=JSON.stringify([s,r,m,e,h,l,u,d]).slice(1,-1);return t.createElement(\"script\",{...v,suppressHydrationWarning:!0,nonce:typeof window==\"undefined\"?c:\"\",dangerouslySetInnerHTML:{__html:`(${L.toString()})(${p})`}})}),b=(e,r)=>{if(U)return;let s;try{s=localStorage.getItem(e)||void 0}catch(u){}return s||r},W=e=>{let r=document.createElement(\"style\");return e&&r.setAttribute(\"nonce\",e),r.appendChild(document.createTextNode(\"*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}\")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(r)},1)}},I=e=>(e||(e=window.matchMedia(Q)),e.matches?\"dark\":\"light\");export{J as ThemeProvider,z as useTheme};\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2115, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2121, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/point-in-polygon-hao/dist/esm/index.js"],"sourcesContent":["import { orient2d } from 'robust-predicates';\n\nfunction pointInPolygon(p, polygon) {\n    var i;\n    var ii;\n    var k = 0;\n    var f;\n    var u1;\n    var v1;\n    var u2;\n    var v2;\n    var currentP;\n    var nextP;\n\n    var x = p[0];\n    var y = p[1];\n\n    var numContours = polygon.length;\n    for (i = 0; i < numContours; i++) {\n        ii = 0;\n        var contour = polygon[i];\n        var contourLen = contour.length - 1;\n\n        currentP = contour[0];\n        if (currentP[0] !== contour[contourLen][0] &&\n            currentP[1] !== contour[contourLen][1]) {\n            throw new Error('First and last coordinates in a ring must be the same')\n        }\n\n        u1 = currentP[0] - x;\n        v1 = currentP[1] - y;\n\n        for (ii; ii < contourLen; ii++) {\n            nextP = contour[ii + 1];\n\n            u2 = nextP[0] - x;\n            v2 = nextP[1] - y;\n\n            if (v1 === 0 && v2 === 0) {\n                if ((u2 <= 0 && u1 >= 0) || (u1 <= 0 && u2 >= 0)) { return 0 }\n            } else if ((v2 >= 0 && v1 <= 0) || (v2 <= 0 && v1 >= 0)) {\n                f = orient2d(u1, u2, v1, v2, 0, 0);\n                if (f === 0) { return 0 }\n                if ((f > 0 && v2 > 0 && v1 <= 0) || (f < 0 && v2 <= 0 && v1 > 0)) { k++; }\n            }\n            currentP = nextP;\n            v1 = v2;\n            u1 = u2;\n        }\n    }\n\n    if (k % 2 === 0) { return false }\n    return true\n}\n\nexport { pointInPolygon as default };\n"],"names":[],"mappings":";;;AAAA;AAAA;;AAEA,SAAS,eAAe,CAAC,EAAE,OAAO;IAC9B,IAAI;IACJ,IAAI;IACJ,IAAI,IAAI;IACR,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IAEJ,IAAI,IAAI,CAAC,CAAC,EAAE;IACZ,IAAI,IAAI,CAAC,CAAC,EAAE;IAEZ,IAAI,cAAc,QAAQ,MAAM;IAChC,IAAK,IAAI,GAAG,IAAI,aAAa,IAAK;QAC9B,KAAK;QACL,IAAI,UAAU,OAAO,CAAC,EAAE;QACxB,IAAI,aAAa,QAAQ,MAAM,GAAG;QAElC,WAAW,OAAO,CAAC,EAAE;QACrB,IAAI,QAAQ,CAAC,EAAE,KAAK,OAAO,CAAC,WAAW,CAAC,EAAE,IACtC,QAAQ,CAAC,EAAE,KAAK,OAAO,CAAC,WAAW,CAAC,EAAE,EAAE;YACxC,MAAM,IAAI,MAAM;QACpB;QAEA,KAAK,QAAQ,CAAC,EAAE,GAAG;QACnB,KAAK,QAAQ,CAAC,EAAE,GAAG;QAEnB,IAAK,IAAI,KAAK,YAAY,KAAM;YAC5B,QAAQ,OAAO,CAAC,KAAK,EAAE;YAEvB,KAAK,KAAK,CAAC,EAAE,GAAG;YAChB,KAAK,KAAK,CAAC,EAAE,GAAG;YAEhB,IAAI,OAAO,KAAK,OAAO,GAAG;gBACtB,IAAI,AAAC,MAAM,KAAK,MAAM,KAAO,MAAM,KAAK,MAAM,GAAI;oBAAE,OAAO;gBAAE;YACjE,OAAO,IAAI,AAAC,MAAM,KAAK,MAAM,KAAO,MAAM,KAAK,MAAM,GAAI;gBACrD,IAAI,CAAA,GAAA,wMAAA,CAAA,WAAQ,AAAD,EAAE,IAAI,IAAI,IAAI,IAAI,GAAG;gBAChC,IAAI,MAAM,GAAG;oBAAE,OAAO;gBAAE;gBACxB,IAAI,AAAC,IAAI,KAAK,KAAK,KAAK,MAAM,KAAO,IAAI,KAAK,MAAM,KAAK,KAAK,GAAI;oBAAE;gBAAK;YAC7E;YACA,WAAW;YACX,KAAK;YACL,KAAK;QACT;IACJ;IAEA,IAAI,IAAI,MAAM,GAAG;QAAE,OAAO;IAAM;IAChC,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 2179, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2185, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/sweepline-intersections/dist/sweeplineIntersections.esm.js"],"sourcesContent":["class TinyQueue {\n    constructor(data = [], compare = defaultCompare) {\n        this.data = data;\n        this.length = this.data.length;\n        this.compare = compare;\n\n        if (this.length > 0) {\n            for (let i = (this.length >> 1) - 1; i >= 0; i--) this._down(i);\n        }\n    }\n\n    push(item) {\n        this.data.push(item);\n        this.length++;\n        this._up(this.length - 1);\n    }\n\n    pop() {\n        if (this.length === 0) return undefined;\n\n        const top = this.data[0];\n        const bottom = this.data.pop();\n        this.length--;\n\n        if (this.length > 0) {\n            this.data[0] = bottom;\n            this._down(0);\n        }\n\n        return top;\n    }\n\n    peek() {\n        return this.data[0];\n    }\n\n    _up(pos) {\n        const {data, compare} = this;\n        const item = data[pos];\n\n        while (pos > 0) {\n            const parent = (pos - 1) >> 1;\n            const current = data[parent];\n            if (compare(item, current) >= 0) break;\n            data[pos] = current;\n            pos = parent;\n        }\n\n        data[pos] = item;\n    }\n\n    _down(pos) {\n        const {data, compare} = this;\n        const halfLength = this.length >> 1;\n        const item = data[pos];\n\n        while (pos < halfLength) {\n            let left = (pos << 1) + 1;\n            let best = data[left];\n            const right = left + 1;\n\n            if (right < this.length && compare(data[right], best) < 0) {\n                left = right;\n                best = data[right];\n            }\n            if (compare(best, item) >= 0) break;\n\n            data[pos] = best;\n            pos = left;\n        }\n\n        data[pos] = item;\n    }\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n\nfunction checkWhichEventIsLeft (e1, e2) {\n    if (e1.p.x > e2.p.x) return 1\n    if (e1.p.x < e2.p.x) return -1\n\n    if (e1.p.y !== e2.p.y) return e1.p.y > e2.p.y ? 1 : -1\n    return 1\n}\n\nfunction checkWhichSegmentHasRightEndpointFirst (seg1, seg2) {\n    if (seg1.rightSweepEvent.p.x > seg2.rightSweepEvent.p.x) return 1\n    if (seg1.rightSweepEvent.p.x < seg2.rightSweepEvent.p.x) return -1\n\n    if (seg1.rightSweepEvent.p.y !== seg2.rightSweepEvent.p.y) return seg1.rightSweepEvent.p.y < seg2.rightSweepEvent.p.y ? 1 : -1\n    return 1\n}\n\nclass Event {\n\n    constructor (p, featureId, ringId, eventId) {\n        this.p = {\n            x: p[0],\n            y: p[1]\n        };\n        this.featureId = featureId;\n        this.ringId = ringId;\n        this.eventId = eventId;\n\n        this.otherEvent = null;\n        this.isLeftEndpoint = null;\n    }\n\n    isSamePoint (eventToCheck) {\n        return this.p.x === eventToCheck.p.x && this.p.y === eventToCheck.p.y\n    }\n}\n\nfunction fillEventQueue (geojson, eventQueue) {\n    if (geojson.type === 'FeatureCollection') {\n        const features = geojson.features;\n        for (let i = 0; i < features.length; i++) {\n            processFeature(features[i], eventQueue);\n        }\n    } else {\n        processFeature(geojson, eventQueue);\n    }\n}\n\nlet featureId = 0;\nlet ringId = 0;\nlet eventId = 0;\nfunction processFeature (featureOrGeometry, eventQueue) {\n    const geom = featureOrGeometry.type === 'Feature' ? featureOrGeometry.geometry : featureOrGeometry;\n    let coords = geom.coordinates;\n    // standardise the input\n    if (geom.type === 'Polygon' || geom.type === 'MultiLineString') coords = [coords];\n    if (geom.type === 'LineString') coords = [[coords]];\n\n    for (let i = 0; i < coords.length; i++) {\n        for (let ii = 0; ii < coords[i].length; ii++) {\n            let currentP = coords[i][ii][0];\n            let nextP = null;\n            ringId = ringId + 1;\n            for (let iii = 0; iii < coords[i][ii].length - 1; iii++) {\n                nextP = coords[i][ii][iii + 1];\n\n                const e1 = new Event(currentP, featureId, ringId, eventId);\n                const e2 = new Event(nextP, featureId, ringId, eventId + 1);\n\n                e1.otherEvent = e2;\n                e2.otherEvent = e1;\n\n                if (checkWhichEventIsLeft(e1, e2) > 0) {\n                    e2.isLeftEndpoint = true;\n                    e1.isLeftEndpoint = false;\n                } else {\n                    e1.isLeftEndpoint = true;\n                    e2.isLeftEndpoint = false;\n                }\n                eventQueue.push(e1);\n                eventQueue.push(e2);\n\n                currentP = nextP;\n                eventId = eventId + 1;\n            }\n        }\n    }\n    featureId = featureId + 1;\n}\n\nclass Segment {\n\n    constructor (event) {\n        this.leftSweepEvent = event;\n        this.rightSweepEvent = event.otherEvent;\n    }\n}\n\nfunction testSegmentIntersect (seg1, seg2) {\n    if (seg1 === null || seg2 === null) return false\n\n    if (seg1.leftSweepEvent.ringId === seg2.leftSweepEvent.ringId &&\n        (seg1.rightSweepEvent.isSamePoint(seg2.leftSweepEvent) ||\n        seg1.rightSweepEvent.isSamePoint(seg2.leftSweepEvent) ||\n        seg1.rightSweepEvent.isSamePoint(seg2.rightSweepEvent) ||\n        seg1.leftSweepEvent.isSamePoint(seg2.leftSweepEvent) ||\n        seg1.leftSweepEvent.isSamePoint(seg2.rightSweepEvent))) return false\n\n    const x1 = seg1.leftSweepEvent.p.x;\n    const y1 = seg1.leftSweepEvent.p.y;\n    const x2 = seg1.rightSweepEvent.p.x;\n    const y2 = seg1.rightSweepEvent.p.y;\n    const x3 = seg2.leftSweepEvent.p.x;\n    const y3 = seg2.leftSweepEvent.p.y;\n    const x4 = seg2.rightSweepEvent.p.x;\n    const y4 = seg2.rightSweepEvent.p.y;\n\n    const denom = ((y4 - y3) * (x2 - x1)) - ((x4 - x3) * (y2 - y1));\n    const numeA = ((x4 - x3) * (y1 - y3)) - ((y4 - y3) * (x1 - x3));\n    const numeB = ((x2 - x1) * (y1 - y3)) - ((y2 - y1) * (x1 - x3));\n\n    if (denom === 0) {\n        if (numeA === 0 && numeB === 0) return false\n        return false\n    }\n\n    const uA = numeA / denom;\n    const uB = numeB / denom;\n\n    if (uA >= 0 && uA <= 1 && uB >= 0 && uB <= 1) {\n        const x = x1 + (uA * (x2 - x1));\n        const y = y1 + (uA * (y2 - y1));\n        return [x, y]\n    }\n    return false\n}\n\n// import {debugEventAndSegments, debugRemovingSegment} from './debug'\n\nfunction runCheck (eventQueue, ignoreSelfIntersections) {\n    ignoreSelfIntersections = ignoreSelfIntersections ? ignoreSelfIntersections : false;\n\n    const intersectionPoints = [];\n    const outQueue = new TinyQueue([], checkWhichSegmentHasRightEndpointFirst);\n\n    while (eventQueue.length) {\n        const event = eventQueue.pop();\n        if (event.isLeftEndpoint) {\n            // debugEventAndSegments(event.p, outQueue.data)\n            const segment = new Segment(event);\n            for (let i = 0; i < outQueue.data.length; i++) {\n                const otherSeg = outQueue.data[i];\n                if (ignoreSelfIntersections) {\n                    if (otherSeg.leftSweepEvent.featureId === event.featureId) continue\n                }\n                const intersection = testSegmentIntersect(segment, otherSeg);\n                if (intersection !== false) intersectionPoints.push(intersection);\n            }\n            outQueue.push(segment);\n        } else if (event.isLeftEndpoint === false) {\n            outQueue.pop();\n            // const seg = outQueue.pop()\n            // debugRemovingSegment(event.p, seg)\n        }\n    }\n    return intersectionPoints\n}\n\nfunction sweeplineIntersections (geojson, ignoreSelfIntersections) {\n    const eventQueue = new TinyQueue([], checkWhichEventIsLeft);\n    fillEventQueue(geojson, eventQueue);\n    return runCheck(eventQueue, ignoreSelfIntersections)\n}\n\nexport default sweeplineIntersections;\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2399, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2405, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/geojson-equality-ts/index.ts"],"sourcesContent":["import {\n  Feature,\n  LineString,\n  Position,\n  GeoJSON,\n  Point,\n  Polygon,\n  GeometryCollection,\n  FeatureCollection,\n  MultiLineString,\n  MultiPoint,\n  MultiPolygon,\n  GeoJsonProperties,\n} from \"geojson\";\n\n/**\n\n * GeoJSON equality checking utility.\n * Adapted from https://github.com/geosquare/geojson-equality\n *\n * @memberof helpers\n * @type {Class}\n */\nclass GeojsonEquality {\n  private precision: number;\n  private direction = false;\n  private compareProperties = true;\n\n  constructor(opts?: {\n    precision?: number;\n    direction?: boolean;\n    compareProperties?: boolean;\n  }) {\n    this.precision = 10 ** -(opts?.precision ?? 17);\n    this.direction = opts?.direction ?? false;\n    this.compareProperties = opts?.compareProperties ?? true;\n  }\n\n  compare(g1: GeoJSON, g2: GeoJSON): boolean {\n    if (g1.type !== g2.type) {\n      return false;\n    }\n\n    if (!sameLength(g1, g2)) {\n      return false;\n    }\n\n    switch (g1.type) {\n      case \"Point\":\n        return this.compareCoord(g1.coordinates, (g2 as Point).coordinates);\n      case \"LineString\":\n        return this.compareLine(g1.coordinates, (g2 as LineString).coordinates);\n      case \"Polygon\":\n        return this.comparePolygon(g1, g2 as Polygon);\n      case \"GeometryCollection\":\n        return this.compareGeometryCollection(g1, g2 as GeometryCollection);\n      case \"Feature\":\n        return this.compareFeature(g1, g2 as Feature);\n      case \"FeatureCollection\":\n        return this.compareFeatureCollection(g1, g2 as FeatureCollection);\n      default:\n        if (g1.type.startsWith(\"Multi\")) {\n          const g1s = explode(g1);\n          const g2s = explode(\n            g2 as MultiLineString | MultiPoint | MultiPolygon\n          );\n          return g1s.every((g1part) =>\n            g2s.some((g2part) => this.compare(g1part as any, g2part as any))\n          );\n        }\n    }\n    return false;\n  }\n\n  private compareCoord(c1: Position, c2: Position) {\n    return (\n      c1.length === c2.length &&\n      c1.every((c, i) => Math.abs(c - c2[i]) < this.precision)\n    );\n  }\n\n  private compareLine(\n    path1: Position[],\n    path2: Position[],\n    ind = 0,\n    isPoly = false\n  ): boolean {\n    if (!sameLength(path1, path2)) {\n      return false;\n    }\n    const p1 = path1;\n    let p2 = path2;\n    if (isPoly && !this.compareCoord(p1[0], p2[0])) {\n      // fix start index of both to same point\n      const startIndex = this.fixStartIndex(p2, p1);\n      if (!startIndex) {\n        return false;\n      } else {\n        p2 = startIndex;\n      }\n    }\n    // for linestring ind =0 and for polygon ind =1\n    const sameDirection = this.compareCoord(p1[ind], p2[ind]);\n    if (this.direction || sameDirection) {\n      return this.comparePath(p1, p2);\n    } else {\n      if (this.compareCoord(p1[ind], p2[p2.length - (1 + ind)])) {\n        return this.comparePath(p1.slice().reverse(), p2);\n      }\n      return false;\n    }\n  }\n\n  private fixStartIndex(sourcePath: Position[], targetPath: Position[]) {\n    //make sourcePath first point same as of targetPath\n    let correctPath,\n      ind = -1;\n    for (let i = 0; i < sourcePath.length; i++) {\n      if (this.compareCoord(sourcePath[i], targetPath[0])) {\n        ind = i;\n        break;\n      }\n    }\n    if (ind >= 0) {\n      correctPath = ([] as Position[]).concat(\n        sourcePath.slice(ind, sourcePath.length),\n        sourcePath.slice(1, ind + 1)\n      );\n    }\n    return correctPath;\n  }\n\n  private comparePath(p1: Position[], p2: Position[]) {\n    return p1.every((c, i) => this.compareCoord(c, p2[i]));\n  }\n\n  private comparePolygon(g1: Polygon, g2: Polygon) {\n    if (this.compareLine(g1.coordinates[0], g2.coordinates[0], 1, true)) {\n      const holes1 = g1.coordinates.slice(1, g1.coordinates.length);\n      const holes2 = g2.coordinates.slice(1, g2.coordinates.length);\n      return holes1.every((h1) =>\n        holes2.some((h2) => this.compareLine(h1, h2, 1, true))\n      );\n    }\n    return false;\n  }\n\n  private compareGeometryCollection(\n    g1: GeometryCollection,\n    g2: GeometryCollection\n  ) {\n    return (\n      sameLength(g1.geometries, g2.geometries) &&\n      this.compareBBox(g1, g2) &&\n      g1.geometries.every((g, i) => this.compare(g, g2.geometries[i]))\n    );\n  }\n\n  private compareFeature(g1: Feature, g2: Feature) {\n    return (\n      g1.id === g2.id &&\n      (this.compareProperties ? equal(g1.properties, g2.properties) : true) &&\n      this.compareBBox(g1, g2) &&\n      this.compare(g1.geometry, g2.geometry)\n    );\n  }\n\n  private compareFeatureCollection(\n    g1: FeatureCollection,\n    g2: FeatureCollection\n  ) {\n    return (\n      sameLength(g1.features, g2.features) &&\n      this.compareBBox(g1, g2) &&\n      g1.features.every((f, i) => this.compare(f, g2.features[i]))\n    );\n  }\n\n  private compareBBox(g1: GeoJSON, g2: GeoJSON): boolean {\n    return (\n      Boolean(!g1.bbox && !g2.bbox) ||\n      (g1.bbox && g2.bbox ? this.compareCoord(g1.bbox, g2.bbox) : false)\n    );\n  }\n}\n\nfunction sameLength(g1: any, g2: any) {\n  return g1.coordinates\n    ? g1.coordinates.length === g2.coordinates.length\n    : g1.length === g2.length;\n}\n\nfunction explode(g: MultiLineString | MultiPoint | MultiPolygon) {\n  return g.coordinates.map((part) => ({\n    type: g.type.replace(\"Multi\", \"\"),\n    coordinates: part,\n  }));\n}\n\nfunction geojsonEquality(\n  g1: GeoJSON,\n  g2: GeoJSON,\n  opts?: {\n    precision?: number;\n    direction?: boolean;\n    compareProperties?: boolean;\n  }\n): boolean {\n  const eq = new GeojsonEquality(opts);\n\n  return eq.compare(g1, g2);\n}\n\n// Adapted from https://medium.com/syncfusion/5-different-ways-to-deep-compare-javascript-objects-6708a0da9f05\nfunction equal(object1: GeoJsonProperties, object2: GeoJsonProperties) {\n  if (object1 === null && object2 === null) {\n    return true;\n  }\n\n  if (object1 === null || object2 === null) {\n    return false;\n  }\n\n  const objKeys1 = Object.keys(object1);\n  const objKeys2 = Object.keys(object2);\n\n  if (objKeys1.length !== objKeys2.length) return false;\n\n  for (var key of objKeys1) {\n    const value1 = object1[key];\n    const value2 = object2[key];\n\n    const isObjects = isObject(value1) && isObject(value2);\n\n    if (\n      (isObjects && !equal(value1, value2)) ||\n      (!isObjects && value1 !== value2)\n    ) {\n      return false;\n    }\n  }\n  return true;\n}\n\nconst isObject = (object: any) => {\n  return object != null && typeof object === \"object\";\n};\n\nexport { GeojsonEquality, geojsonEquality };\nexport default GeojsonEquality;\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2563, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2568, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/fast-deep-equal/index.js"],"sourcesContent":["'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n"],"names":[],"mappings":"AAAA;AAEA,sDAAsD;AAItD,OAAO,OAAO,GAAG,SAAS,MAAM,CAAC,EAAE,CAAC;IAClC,IAAI,MAAM,GAAG,OAAO;IAEpB,IAAI,KAAK,KAAK,OAAO,KAAK,YAAY,OAAO,KAAK,UAAU;QAC1D,IAAI,EAAE,WAAW,KAAK,EAAE,WAAW,EAAE,OAAO;QAE5C,IAAI,QAAQ,GAAG;QACf,IAAI,MAAM,OAAO,CAAC,IAAI;YACpB,SAAS,EAAE,MAAM;YACjB,IAAI,UAAU,EAAE,MAAM,EAAE,OAAO;YAC/B,IAAK,IAAI,QAAQ,QAAQ,GACvB,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,GAAG,OAAO;YACjC,OAAO;QACT;QAIA,IAAI,EAAE,WAAW,KAAK,QAAQ,OAAO,EAAE,MAAM,KAAK,EAAE,MAAM,IAAI,EAAE,KAAK,KAAK,EAAE,KAAK;QACjF,IAAI,EAAE,OAAO,KAAK,OAAO,SAAS,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,OAAO,EAAE,OAAO;QAC5E,IAAI,EAAE,QAAQ,KAAK,OAAO,SAAS,CAAC,QAAQ,EAAE,OAAO,EAAE,QAAQ,OAAO,EAAE,QAAQ;QAEhF,OAAO,OAAO,IAAI,CAAC;QACnB,SAAS,KAAK,MAAM;QACpB,IAAI,WAAW,OAAO,IAAI,CAAC,GAAG,MAAM,EAAE,OAAO;QAE7C,IAAK,IAAI,QAAQ,QAAQ,GACvB,IAAI,CAAC,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG,OAAO;QAEhE,IAAK,IAAI,QAAQ,QAAQ,GAAI;YAC3B,IAAI,MAAM,IAAI,CAAC,EAAE;YAEjB,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,GAAG,OAAO;QACrC;QAEA,OAAO;IACT;IAEA,oCAAoC;IACpC,OAAO,MAAI,KAAK,MAAI;AACtB","ignoreList":[0]}},
    {"offset": {"line": 2597, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2603, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/rbush/node_modules/quickselect/index.js"],"sourcesContent":["\nexport default function quickselect(arr, k, left, right, compare) {\n    quickselectStep(arr, k, left || 0, right || (arr.length - 1), compare || defaultCompare);\n}\n\nfunction quickselectStep(arr, k, left, right, compare) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp(2 * z / 3);\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            quickselectStep(arr, k, newLeft, newRight, compare);\n        }\n\n        var t = arr[k];\n        var i = left;\n        var j = right;\n\n        swap(arr, left, k);\n        if (compare(arr[right], t) > 0) swap(arr, left, right);\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (compare(arr[i], t) < 0) i++;\n            while (compare(arr[j], t) > 0) j--;\n        }\n\n        if (compare(arr[left], t) === 0) swap(arr, left, j);\n        else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swap(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n"],"names":[],"mappings":";;;AACe,SAAS,YAAY,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO;IAC5D,gBAAgB,KAAK,GAAG,QAAQ,GAAG,SAAU,IAAI,MAAM,GAAG,GAAI,WAAW;AAC7E;AAEA,SAAS,gBAAgB,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO;IAEjD,MAAO,QAAQ,KAAM;QACjB,IAAI,QAAQ,OAAO,KAAK;YACpB,IAAI,IAAI,QAAQ,OAAO;YACvB,IAAI,IAAI,IAAI,OAAO;YACnB,IAAI,IAAI,KAAK,GAAG,CAAC;YACjB,IAAI,IAAI,MAAM,KAAK,GAAG,CAAC,IAAI,IAAI;YAC/B,IAAI,KAAK,MAAM,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC;YACvE,IAAI,UAAU,KAAK,GAAG,CAAC,MAAM,KAAK,KAAK,CAAC,IAAI,IAAI,IAAI,IAAI;YACxD,IAAI,WAAW,KAAK,GAAG,CAAC,OAAO,KAAK,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI;YAChE,gBAAgB,KAAK,GAAG,SAAS,UAAU;QAC/C;QAEA,IAAI,IAAI,GAAG,CAAC,EAAE;QACd,IAAI,IAAI;QACR,IAAI,IAAI;QAER,KAAK,KAAK,MAAM;QAChB,IAAI,QAAQ,GAAG,CAAC,MAAM,EAAE,KAAK,GAAG,KAAK,KAAK,MAAM;QAEhD,MAAO,IAAI,EAAG;YACV,KAAK,KAAK,GAAG;YACb;YACA;YACA,MAAO,QAAQ,GAAG,CAAC,EAAE,EAAE,KAAK,EAAG;YAC/B,MAAO,QAAQ,GAAG,CAAC,EAAE,EAAE,KAAK,EAAG;QACnC;QAEA,IAAI,QAAQ,GAAG,CAAC,KAAK,EAAE,OAAO,GAAG,KAAK,KAAK,MAAM;aAC5C;YACD;YACA,KAAK,KAAK,GAAG;QACjB;QAEA,IAAI,KAAK,GAAG,OAAO,IAAI;QACvB,IAAI,KAAK,GAAG,QAAQ,IAAI;IAC5B;AACJ;AAEA,SAAS,KAAK,GAAG,EAAE,CAAC,EAAE,CAAC;IACnB,IAAI,MAAM,GAAG,CAAC,EAAE;IAChB,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE;IACf,GAAG,CAAC,EAAE,GAAG;AACb;AAEA,SAAS,eAAe,CAAC,EAAE,CAAC;IACxB,OAAO,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI;AACpC","ignoreList":[0]}},
    {"offset": {"line": 2650, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2656, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/rbush/index.js"],"sourcesContent":["import quickselect from 'quickselect';\n\nexport default class RBush {\n    constructor(maxEntries = 9) {\n        // max entries in a node is 9 by default; min node fill is 40% for best performance\n        this._maxEntries = Math.max(4, maxEntries);\n        this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4));\n        this.clear();\n    }\n\n    all() {\n        return this._all(this.data, []);\n    }\n\n    search(bbox) {\n        let node = this.data;\n        const result = [];\n\n        if (!intersects(bbox, node)) return result;\n\n        const toBBox = this.toBBox;\n        const nodesToSearch = [];\n\n        while (node) {\n            for (let i = 0; i < node.children.length; i++) {\n                const child = node.children[i];\n                const childBBox = node.leaf ? toBBox(child) : child;\n\n                if (intersects(bbox, childBBox)) {\n                    if (node.leaf) result.push(child);\n                    else if (contains(bbox, childBBox)) this._all(child, result);\n                    else nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return result;\n    }\n\n    collides(bbox) {\n        let node = this.data;\n\n        if (!intersects(bbox, node)) return false;\n\n        const nodesToSearch = [];\n        while (node) {\n            for (let i = 0; i < node.children.length; i++) {\n                const child = node.children[i];\n                const childBBox = node.leaf ? this.toBBox(child) : child;\n\n                if (intersects(bbox, childBBox)) {\n                    if (node.leaf || contains(bbox, childBBox)) return true;\n                    nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return false;\n    }\n\n    load(data) {\n        if (!(data && data.length)) return this;\n\n        if (data.length < this._minEntries) {\n            for (let i = 0; i < data.length; i++) {\n                this.insert(data[i]);\n            }\n            return this;\n        }\n\n        // recursively build the tree with the given data from scratch using OMT algorithm\n        let node = this._build(data.slice(), 0, data.length - 1, 0);\n\n        if (!this.data.children.length) {\n            // save as is if tree is empty\n            this.data = node;\n\n        } else if (this.data.height === node.height) {\n            // split root if trees have the same height\n            this._splitRoot(this.data, node);\n\n        } else {\n            if (this.data.height < node.height) {\n                // swap trees if inserted one is bigger\n                const tmpNode = this.data;\n                this.data = node;\n                node = tmpNode;\n            }\n\n            // insert the small tree into the large tree at appropriate level\n            this._insert(node, this.data.height - node.height - 1, true);\n        }\n\n        return this;\n    }\n\n    insert(item) {\n        if (item) this._insert(item, this.data.height - 1);\n        return this;\n    }\n\n    clear() {\n        this.data = createNode([]);\n        return this;\n    }\n\n    remove(item, equalsFn) {\n        if (!item) return this;\n\n        let node = this.data;\n        const bbox = this.toBBox(item);\n        const path = [];\n        const indexes = [];\n        let i, parent, goingUp;\n\n        // depth-first iterative tree traversal\n        while (node || path.length) {\n\n            if (!node) { // go up\n                node = path.pop();\n                parent = path[path.length - 1];\n                i = indexes.pop();\n                goingUp = true;\n            }\n\n            if (node.leaf) { // check current node\n                const index = findItem(item, node.children, equalsFn);\n\n                if (index !== -1) {\n                    // item found, remove the item and condense tree upwards\n                    node.children.splice(index, 1);\n                    path.push(node);\n                    this._condense(path);\n                    return this;\n                }\n            }\n\n            if (!goingUp && !node.leaf && contains(node, bbox)) { // go down\n                path.push(node);\n                indexes.push(i);\n                i = 0;\n                parent = node;\n                node = node.children[0];\n\n            } else if (parent) { // go right\n                i++;\n                node = parent.children[i];\n                goingUp = false;\n\n            } else node = null; // nothing found\n        }\n\n        return this;\n    }\n\n    toBBox(item) { return item; }\n\n    compareMinX(a, b) { return a.minX - b.minX; }\n    compareMinY(a, b) { return a.minY - b.minY; }\n\n    toJSON() { return this.data; }\n\n    fromJSON(data) {\n        this.data = data;\n        return this;\n    }\n\n    _all(node, result) {\n        const nodesToSearch = [];\n        while (node) {\n            if (node.leaf) result.push(...node.children);\n            else nodesToSearch.push(...node.children);\n\n            node = nodesToSearch.pop();\n        }\n        return result;\n    }\n\n    _build(items, left, right, height) {\n\n        const N = right - left + 1;\n        let M = this._maxEntries;\n        let node;\n\n        if (N <= M) {\n            // reached leaf level; return leaf\n            node = createNode(items.slice(left, right + 1));\n            calcBBox(node, this.toBBox);\n            return node;\n        }\n\n        if (!height) {\n            // target height of the bulk-loaded tree\n            height = Math.ceil(Math.log(N) / Math.log(M));\n\n            // target number of root entries to maximize storage utilization\n            M = Math.ceil(N / Math.pow(M, height - 1));\n        }\n\n        node = createNode([]);\n        node.leaf = false;\n        node.height = height;\n\n        // split the items into M mostly square tiles\n\n        const N2 = Math.ceil(N / M);\n        const N1 = N2 * Math.ceil(Math.sqrt(M));\n\n        multiSelect(items, left, right, N1, this.compareMinX);\n\n        for (let i = left; i <= right; i += N1) {\n\n            const right2 = Math.min(i + N1 - 1, right);\n\n            multiSelect(items, i, right2, N2, this.compareMinY);\n\n            for (let j = i; j <= right2; j += N2) {\n\n                const right3 = Math.min(j + N2 - 1, right2);\n\n                // pack each entry recursively\n                node.children.push(this._build(items, j, right3, height - 1));\n            }\n        }\n\n        calcBBox(node, this.toBBox);\n\n        return node;\n    }\n\n    _chooseSubtree(bbox, node, level, path) {\n        while (true) {\n            path.push(node);\n\n            if (node.leaf || path.length - 1 === level) break;\n\n            let minArea = Infinity;\n            let minEnlargement = Infinity;\n            let targetNode;\n\n            for (let i = 0; i < node.children.length; i++) {\n                const child = node.children[i];\n                const area = bboxArea(child);\n                const enlargement = enlargedArea(bbox, child) - area;\n\n                // choose entry with the least area enlargement\n                if (enlargement < minEnlargement) {\n                    minEnlargement = enlargement;\n                    minArea = area < minArea ? area : minArea;\n                    targetNode = child;\n\n                } else if (enlargement === minEnlargement) {\n                    // otherwise choose one with the smallest area\n                    if (area < minArea) {\n                        minArea = area;\n                        targetNode = child;\n                    }\n                }\n            }\n\n            node = targetNode || node.children[0];\n        }\n\n        return node;\n    }\n\n    _insert(item, level, isNode) {\n        const bbox = isNode ? item : this.toBBox(item);\n        const insertPath = [];\n\n        // find the best node for accommodating the item, saving all nodes along the path too\n        const node = this._chooseSubtree(bbox, this.data, level, insertPath);\n\n        // put the item into the node\n        node.children.push(item);\n        extend(node, bbox);\n\n        // split on node overflow; propagate upwards if necessary\n        while (level >= 0) {\n            if (insertPath[level].children.length > this._maxEntries) {\n                this._split(insertPath, level);\n                level--;\n            } else break;\n        }\n\n        // adjust bboxes along the insertion path\n        this._adjustParentBBoxes(bbox, insertPath, level);\n    }\n\n    // split overflowed node into two\n    _split(insertPath, level) {\n        const node = insertPath[level];\n        const M = node.children.length;\n        const m = this._minEntries;\n\n        this._chooseSplitAxis(node, m, M);\n\n        const splitIndex = this._chooseSplitIndex(node, m, M);\n\n        const newNode = createNode(node.children.splice(splitIndex, node.children.length - splitIndex));\n        newNode.height = node.height;\n        newNode.leaf = node.leaf;\n\n        calcBBox(node, this.toBBox);\n        calcBBox(newNode, this.toBBox);\n\n        if (level) insertPath[level - 1].children.push(newNode);\n        else this._splitRoot(node, newNode);\n    }\n\n    _splitRoot(node, newNode) {\n        // split root node\n        this.data = createNode([node, newNode]);\n        this.data.height = node.height + 1;\n        this.data.leaf = false;\n        calcBBox(this.data, this.toBBox);\n    }\n\n    _chooseSplitIndex(node, m, M) {\n        let index;\n        let minOverlap = Infinity;\n        let minArea = Infinity;\n\n        for (let i = m; i <= M - m; i++) {\n            const bbox1 = distBBox(node, 0, i, this.toBBox);\n            const bbox2 = distBBox(node, i, M, this.toBBox);\n\n            const overlap = intersectionArea(bbox1, bbox2);\n            const area = bboxArea(bbox1) + bboxArea(bbox2);\n\n            // choose distribution with minimum overlap\n            if (overlap < minOverlap) {\n                minOverlap = overlap;\n                index = i;\n\n                minArea = area < minArea ? area : minArea;\n\n            } else if (overlap === minOverlap) {\n                // otherwise choose distribution with minimum area\n                if (area < minArea) {\n                    minArea = area;\n                    index = i;\n                }\n            }\n        }\n\n        return index || M - m;\n    }\n\n    // sorts node children by the best axis for split\n    _chooseSplitAxis(node, m, M) {\n        const compareMinX = node.leaf ? this.compareMinX : compareNodeMinX;\n        const compareMinY = node.leaf ? this.compareMinY : compareNodeMinY;\n        const xMargin = this._allDistMargin(node, m, M, compareMinX);\n        const yMargin = this._allDistMargin(node, m, M, compareMinY);\n\n        // if total distributions margin value is minimal for x, sort by minX,\n        // otherwise it's already sorted by minY\n        if (xMargin < yMargin) node.children.sort(compareMinX);\n    }\n\n    // total margin of all possible split distributions where each node is at least m full\n    _allDistMargin(node, m, M, compare) {\n        node.children.sort(compare);\n\n        const toBBox = this.toBBox;\n        const leftBBox = distBBox(node, 0, m, toBBox);\n        const rightBBox = distBBox(node, M - m, M, toBBox);\n        let margin = bboxMargin(leftBBox) + bboxMargin(rightBBox);\n\n        for (let i = m; i < M - m; i++) {\n            const child = node.children[i];\n            extend(leftBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(leftBBox);\n        }\n\n        for (let i = M - m - 1; i >= m; i--) {\n            const child = node.children[i];\n            extend(rightBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(rightBBox);\n        }\n\n        return margin;\n    }\n\n    _adjustParentBBoxes(bbox, path, level) {\n        // adjust bboxes along the given tree path\n        for (let i = level; i >= 0; i--) {\n            extend(path[i], bbox);\n        }\n    }\n\n    _condense(path) {\n        // go through the path, removing empty nodes and updating bboxes\n        for (let i = path.length - 1, siblings; i >= 0; i--) {\n            if (path[i].children.length === 0) {\n                if (i > 0) {\n                    siblings = path[i - 1].children;\n                    siblings.splice(siblings.indexOf(path[i]), 1);\n\n                } else this.clear();\n\n            } else calcBBox(path[i], this.toBBox);\n        }\n    }\n}\n\nfunction findItem(item, items, equalsFn) {\n    if (!equalsFn) return items.indexOf(item);\n\n    for (let i = 0; i < items.length; i++) {\n        if (equalsFn(item, items[i])) return i;\n    }\n    return -1;\n}\n\n// calculate node's bbox from bboxes of its children\nfunction calcBBox(node, toBBox) {\n    distBBox(node, 0, node.children.length, toBBox, node);\n}\n\n// min bounding rectangle of node children from k to p-1\nfunction distBBox(node, k, p, toBBox, destNode) {\n    if (!destNode) destNode = createNode(null);\n    destNode.minX = Infinity;\n    destNode.minY = Infinity;\n    destNode.maxX = -Infinity;\n    destNode.maxY = -Infinity;\n\n    for (let i = k; i < p; i++) {\n        const child = node.children[i];\n        extend(destNode, node.leaf ? toBBox(child) : child);\n    }\n\n    return destNode;\n}\n\nfunction extend(a, b) {\n    a.minX = Math.min(a.minX, b.minX);\n    a.minY = Math.min(a.minY, b.minY);\n    a.maxX = Math.max(a.maxX, b.maxX);\n    a.maxY = Math.max(a.maxY, b.maxY);\n    return a;\n}\n\nfunction compareNodeMinX(a, b) { return a.minX - b.minX; }\nfunction compareNodeMinY(a, b) { return a.minY - b.minY; }\n\nfunction bboxArea(a)   { return (a.maxX - a.minX) * (a.maxY - a.minY); }\nfunction bboxMargin(a) { return (a.maxX - a.minX) + (a.maxY - a.minY); }\n\nfunction enlargedArea(a, b) {\n    return (Math.max(b.maxX, a.maxX) - Math.min(b.minX, a.minX)) *\n           (Math.max(b.maxY, a.maxY) - Math.min(b.minY, a.minY));\n}\n\nfunction intersectionArea(a, b) {\n    const minX = Math.max(a.minX, b.minX);\n    const minY = Math.max(a.minY, b.minY);\n    const maxX = Math.min(a.maxX, b.maxX);\n    const maxY = Math.min(a.maxY, b.maxY);\n\n    return Math.max(0, maxX - minX) *\n           Math.max(0, maxY - minY);\n}\n\nfunction contains(a, b) {\n    return a.minX <= b.minX &&\n           a.minY <= b.minY &&\n           b.maxX <= a.maxX &&\n           b.maxY <= a.maxY;\n}\n\nfunction intersects(a, b) {\n    return b.minX <= a.maxX &&\n           b.minY <= a.maxY &&\n           b.maxX >= a.minX &&\n           b.maxY >= a.minY;\n}\n\nfunction createNode(children) {\n    return {\n        children,\n        height: 1,\n        leaf: true,\n        minX: Infinity,\n        minY: Infinity,\n        maxX: -Infinity,\n        maxY: -Infinity\n    };\n}\n\n// sort an array so that items come in groups of n unsorted items, with groups sorted between each other;\n// combines selection algorithm with binary divide & conquer approach\n\nfunction multiSelect(arr, left, right, n, compare) {\n    const stack = [left, right];\n\n    while (stack.length) {\n        right = stack.pop();\n        left = stack.pop();\n\n        if (right - left <= n) continue;\n\n        const mid = left + Math.ceil((right - left) / n / 2) * n;\n        quickselect(arr, mid, left, right, compare);\n\n        stack.push(left, mid, mid, right);\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3071, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3077, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/ascending.js"],"sourcesContent":["export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,CAAC,EAAE,CAAC;IAC1B,OAAO,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI;AAC/C","ignoreList":[0]}},
    {"offset": {"line": 3083, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3089, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/bisector.js"],"sourcesContent":["import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n"],"names":[],"mappings":";;;AAAA;;AAEe,wCAAS,OAAO;IAC7B,IAAI,QAAQ,MAAM,KAAK,GAAG,UAAU,oBAAoB;IACxD,OAAO;QACL,MAAM,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE;YACzB,IAAI,MAAM,MAAM,KAAK;YACrB,IAAI,MAAM,MAAM,KAAK,EAAE,MAAM;YAC7B,MAAO,KAAK,GAAI;gBACd,IAAI,MAAM,KAAK,OAAO;gBACtB,IAAI,QAAQ,CAAC,CAAC,IAAI,EAAE,KAAK,GAAG,KAAK,MAAM;qBAClC,KAAK;YACZ;YACA,OAAO;QACT;QACA,OAAO,SAAS,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE;YAC1B,IAAI,MAAM,MAAM,KAAK;YACrB,IAAI,MAAM,MAAM,KAAK,EAAE,MAAM;YAC7B,MAAO,KAAK,GAAI;gBACd,IAAI,MAAM,KAAK,OAAO;gBACtB,IAAI,QAAQ,CAAC,CAAC,IAAI,EAAE,KAAK,GAAG,KAAK;qBAC5B,KAAK,MAAM;YAClB;YACA,OAAO;QACT;IACF;AACF;AAEA,SAAS,oBAAoB,CAAC;IAC5B,OAAO,SAAS,CAAC,EAAE,CAAC;QAClB,OAAO,CAAA,GAAA,+IAAA,CAAA,UAAS,AAAD,EAAE,EAAE,IAAI;IACzB;AACF","ignoreList":[0]}},
    {"offset": {"line": 3124, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3130, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/bisect.js"],"sourcesContent":["import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAEA,IAAI,kBAAkB,CAAA,GAAA,8IAAA,CAAA,UAAQ,AAAD,EAAE,+IAAA,CAAA,UAAS;AACjC,IAAI,cAAc,gBAAgB,KAAK;AACvC,IAAI,aAAa,gBAAgB,IAAI;uCAC7B","ignoreList":[0]}},
    {"offset": {"line": 3143, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3149, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/pairs.js"],"sourcesContent":["export default function(array, f) {\n  if (f == null) f = pair;\n  var i = 0, n = array.length - 1, p = array[0], pairs = new Array(n < 0 ? 0 : n);\n  while (i < n) pairs[i] = f(p, p = array[++i]);\n  return pairs;\n}\n\nexport function pair(a, b) {\n  return [a, b];\n}\n"],"names":[],"mappings":";;;;AAAe,wCAAS,KAAK,EAAE,CAAC;IAC9B,IAAI,KAAK,MAAM,IAAI;IACnB,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,GAAG,GAAG,IAAI,KAAK,CAAC,EAAE,EAAE,QAAQ,IAAI,MAAM,IAAI,IAAI,IAAI;IAC7E,MAAO,IAAI,EAAG,KAAK,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,KAAK,CAAC,EAAE,EAAE;IAC5C,OAAO;AACT;AAEO,SAAS,KAAK,CAAC,EAAE,CAAC;IACvB,OAAO;QAAC;QAAG;KAAE;AACf","ignoreList":[0]}},
    {"offset": {"line": 3165, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3171, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/cross.js"],"sourcesContent":["import {pair} from \"./pairs\";\n\nexport default function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}\n"],"names":[],"mappings":";;;AAAA;;AAEe,wCAAS,OAAO,EAAE,OAAO,EAAE,MAAM;IAC9C,IAAI,KAAK,QAAQ,MAAM,EACnB,KAAK,QAAQ,MAAM,EACnB,SAAS,IAAI,MAAM,KAAK,KACxB,IACA,IACA,GACA;IAEJ,IAAI,UAAU,MAAM,SAAS,2IAAA,CAAA,OAAI;IAEjC,IAAK,KAAK,IAAI,GAAG,KAAK,IAAI,EAAE,GAAI;QAC9B,IAAK,SAAS,OAAO,CAAC,GAAG,EAAE,KAAK,GAAG,KAAK,IAAI,EAAE,IAAI,EAAE,EAAG;YACrD,MAAM,CAAC,EAAE,GAAG,OAAO,QAAQ,OAAO,CAAC,GAAG;QACxC;IACF;IAEA,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 3186, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3192, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/descending.js"],"sourcesContent":["export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,CAAC,EAAE,CAAC;IAC1B,OAAO,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI;AAC/C","ignoreList":[0]}},
    {"offset": {"line": 3198, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3204, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/number.js"],"sourcesContent":["export default function(x) {\n  return x === null ? NaN : +x;\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,CAAC;IACvB,OAAO,MAAM,OAAO,MAAM,CAAC;AAC7B","ignoreList":[0]}},
    {"offset": {"line": 3210, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3216, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/variance.js"],"sourcesContent":["import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = 0,\n      i = -1,\n      mean = 0,\n      value,\n      delta,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  if (m > 1) return sum / (m - 1);\n}\n"],"names":[],"mappings":";;;AAAA;;AAEe,wCAAS,MAAM,EAAE,OAAO;IACrC,IAAI,IAAI,OAAO,MAAM,EACjB,IAAI,GACJ,IAAI,CAAC,GACL,OAAO,GACP,OACA,OACA,MAAM;IAEV,IAAI,WAAW,MAAM;QACnB,MAAO,EAAE,IAAI,EAAG;YACd,IAAI,CAAC,MAAM,QAAQ,CAAA,GAAA,4IAAA,CAAA,UAAM,AAAD,EAAE,MAAM,CAAC,EAAE,IAAI;gBACrC,QAAQ,QAAQ;gBAChB,QAAQ,QAAQ,EAAE;gBAClB,OAAO,QAAQ,CAAC,QAAQ,IAAI;YAC9B;QACF;IACF,OAEK;QACH,MAAO,EAAE,IAAI,EAAG;YACd,IAAI,CAAC,MAAM,QAAQ,CAAA,GAAA,4IAAA,CAAA,UAAM,AAAD,EAAE,QAAQ,MAAM,CAAC,EAAE,EAAE,GAAG,WAAW;gBACzD,QAAQ,QAAQ;gBAChB,QAAQ,QAAQ,EAAE;gBAClB,OAAO,QAAQ,CAAC,QAAQ,IAAI;YAC9B;QACF;IACF;IAEA,IAAI,IAAI,GAAG,OAAO,MAAM,CAAC,IAAI,CAAC;AAChC","ignoreList":[0]}},
    {"offset": {"line": 3242, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3248, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/deviation.js"],"sourcesContent":["import variance from \"./variance\";\n\nexport default function(array, f) {\n  var v = variance(array, f);\n  return v ? Math.sqrt(v) : v;\n}\n"],"names":[],"mappings":";;;AAAA;;AAEe,wCAAS,KAAK,EAAE,CAAC;IAC9B,IAAI,IAAI,CAAA,GAAA,8IAAA,CAAA,UAAQ,AAAD,EAAE,OAAO;IACxB,OAAO,IAAI,KAAK,IAAI,CAAC,KAAK;AAC5B","ignoreList":[0]}},
    {"offset": {"line": 3257, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3263, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/extent.js"],"sourcesContent":["export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return [min, max];\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,MAAM,EAAE,OAAO;IACrC,IAAI,IAAI,OAAO,MAAM,EACjB,IAAI,CAAC,GACL,OACA,KACA;IAEJ,IAAI,WAAW,MAAM;QACnB,MAAO,EAAE,IAAI,EAAG;YACd,IAAI,CAAC,QAAQ,MAAM,CAAC,EAAE,KAAK,QAAQ,SAAS,OAAO;gBACjD,MAAM,MAAM;gBACZ,MAAO,EAAE,IAAI,EAAG;oBACd,IAAI,CAAC,QAAQ,MAAM,CAAC,EAAE,KAAK,MAAM;wBAC/B,IAAI,MAAM,OAAO,MAAM;wBACvB,IAAI,MAAM,OAAO,MAAM;oBACzB;gBACF;YACF;QACF;IACF,OAEK;QACH,MAAO,EAAE,IAAI,EAAG;YACd,IAAI,CAAC,QAAQ,QAAQ,MAAM,CAAC,EAAE,EAAE,GAAG,OAAO,KAAK,QAAQ,SAAS,OAAO;gBACrE,MAAM,MAAM;gBACZ,MAAO,EAAE,IAAI,EAAG;oBACd,IAAI,CAAC,QAAQ,QAAQ,MAAM,CAAC,EAAE,EAAE,GAAG,OAAO,KAAK,MAAM;wBACnD,IAAI,MAAM,OAAO,MAAM;wBACvB,IAAI,MAAM,OAAO,MAAM;oBACzB;gBACF;YACF;QACF;IACF;IAEA,OAAO;QAAC;QAAK;KAAI;AACnB","ignoreList":[0]}},
    {"offset": {"line": 3298, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3304, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/array.js"],"sourcesContent":["var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n"],"names":[],"mappings":";;;;AAAA,IAAI,QAAQ,MAAM,SAAS;AAEpB,IAAI,QAAQ,MAAM,KAAK;AACvB,IAAI,MAAM,MAAM,GAAG","ignoreList":[0]}},
    {"offset": {"line": 3311, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3317, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/constant.js"],"sourcesContent":["export default function(x) {\n  return function() {\n    return x;\n  };\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,CAAC;IACvB,OAAO;QACL,OAAO;IACT;AACF","ignoreList":[0]}},
    {"offset": {"line": 3325, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3331, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/identity.js"],"sourcesContent":["export default function(x) {\n  return x;\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,CAAC;IACvB,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 3337, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3343, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/range.js"],"sourcesContent":["export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,KAAK,EAAE,IAAI,EAAE,IAAI;IACvC,QAAQ,CAAC,OAAO,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,UAAU,MAAM,IAAI,IAAI,CAAC,OAAO,OAAO,QAAQ,GAAG,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC;IAE9G,IAAI,IAAI,CAAC,GACL,IAAI,KAAK,GAAG,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC,OAAO,KAAK,IAAI,SAAS,GACpD,QAAQ,IAAI,MAAM;IAEtB,MAAO,EAAE,IAAI,EAAG;QACd,KAAK,CAAC,EAAE,GAAG,QAAQ,IAAI;IACzB;IAEA,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 3354, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3360, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/ticks.js"],"sourcesContent":["var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n"],"names":[],"mappings":";;;;;AAAA,IAAI,MAAM,KAAK,IAAI,CAAC,KAChB,KAAK,KAAK,IAAI,CAAC,KACf,KAAK,KAAK,IAAI,CAAC;AAEJ,wCAAS,KAAK,EAAE,IAAI,EAAE,KAAK;IACxC,IAAI,SACA,IAAI,CAAC,GACL,GACA,OACA;IAEJ,OAAO,CAAC,MAAM,QAAQ,CAAC,OAAO,QAAQ,CAAC;IACvC,IAAI,UAAU,QAAQ,QAAQ,GAAG,OAAO;QAAC;KAAM;IAC/C,IAAI,UAAU,OAAO,OAAO,IAAI,OAAO,QAAQ,MAAM,OAAO;IAC5D,IAAI,CAAC,OAAO,cAAc,OAAO,MAAM,MAAM,MAAM,KAAK,CAAC,SAAS,OAAO,OAAO,EAAE;IAElF,IAAI,OAAO,GAAG;QACZ,QAAQ,KAAK,IAAI,CAAC,QAAQ;QAC1B,OAAO,KAAK,KAAK,CAAC,OAAO;QACzB,QAAQ,IAAI,MAAM,IAAI,KAAK,IAAI,CAAC,OAAO,QAAQ;QAC/C,MAAO,EAAE,IAAI,EAAG,KAAK,CAAC,EAAE,GAAG,CAAC,QAAQ,CAAC,IAAI;IAC3C,OAAO;QACL,QAAQ,KAAK,KAAK,CAAC,QAAQ;QAC3B,OAAO,KAAK,IAAI,CAAC,OAAO;QACxB,QAAQ,IAAI,MAAM,IAAI,KAAK,IAAI,CAAC,QAAQ,OAAO;QAC/C,MAAO,EAAE,IAAI,EAAG,KAAK,CAAC,EAAE,GAAG,CAAC,QAAQ,CAAC,IAAI;IAC3C;IAEA,IAAI,SAAS,MAAM,OAAO;IAE1B,OAAO;AACT;AAEO,SAAS,cAAc,KAAK,EAAE,IAAI,EAAE,KAAK;IAC9C,IAAI,OAAO,CAAC,OAAO,KAAK,IAAI,KAAK,GAAG,CAAC,GAAG,QACpC,QAAQ,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,QAAQ,KAAK,IAAI,GAC7C,QAAQ,OAAO,KAAK,GAAG,CAAC,IAAI;IAChC,OAAO,SAAS,IACV,CAAC,SAAS,MAAM,KAAK,SAAS,KAAK,IAAI,SAAS,KAAK,IAAI,CAAC,IAAI,KAAK,GAAG,CAAC,IAAI,SAC3E,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,MAAM,KAAK,SAAS,KAAK,IAAI,SAAS,KAAK,IAAI,CAAC;AAC1F;AAEO,SAAS,SAAS,KAAK,EAAE,IAAI,EAAE,KAAK;IACzC,IAAI,QAAQ,KAAK,GAAG,CAAC,OAAO,SAAS,KAAK,GAAG,CAAC,GAAG,QAC7C,QAAQ,KAAK,GAAG,CAAC,IAAI,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,SAAS,KAAK,IAAI,IAC3D,QAAQ,QAAQ;IACpB,IAAI,SAAS,KAAK,SAAS;SACtB,IAAI,SAAS,IAAI,SAAS;SAC1B,IAAI,SAAS,IAAI,SAAS;IAC/B,OAAO,OAAO,QAAQ,CAAC,QAAQ;AACjC","ignoreList":[0]}},
    {"offset": {"line": 3399, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3405, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/threshold/sturges.js"],"sourcesContent":["export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,MAAM;IAC5B,OAAO,KAAK,IAAI,CAAC,KAAK,GAAG,CAAC,OAAO,MAAM,IAAI,KAAK,GAAG,IAAI;AACzD","ignoreList":[0]}},
    {"offset": {"line": 3411, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3417, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/histogram.js"],"sourcesContent":["import {slice} from \"./array\";\nimport bisect from \"./bisect\";\nimport constant from \"./constant\";\nimport extent from \"./extent\";\nimport identity from \"./identity\";\nimport range from \"./range\";\nimport {tickStep} from \"./ticks\";\nimport sturges from \"./threshold/sturges\";\n\nexport default function() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    var i,\n        n = data.length,\n        x,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      tz = tickStep(x0, x1, tz);\n      tz = range(Math.ceil(x0 / tz) * tz, x1, tz); // exclusive\n    }\n\n    // Remove any thresholds outside the domain.\n    var m = tz.length;\n    while (tz[0] <= x0) tz.shift(), --m;\n    while (tz[m - 1] > x1) tz.pop(), --m;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    for (i = 0; i < n; ++i) {\n      x = values[i];\n      if (x0 <= x && x <= x1) {\n        bins[bisect(tz, x, 0, m)].push(data[i]);\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n  };\n\n  return histogram;\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAEe;IACb,IAAI,QAAQ,8IAAA,CAAA,UAAQ,EAChB,SAAS,4IAAA,CAAA,UAAM,EACf,YAAY,0JAAA,CAAA,UAAO;IAEvB,SAAS,UAAU,IAAI;QACrB,IAAI,GACA,IAAI,KAAK,MAAM,EACf,GACA,SAAS,IAAI,MAAM;QAEvB,IAAK,IAAI,GAAG,IAAI,GAAG,EAAE,EAAG;YACtB,MAAM,CAAC,EAAE,GAAG,MAAM,IAAI,CAAC,EAAE,EAAE,GAAG;QAChC;QAEA,IAAI,KAAK,OAAO,SACZ,KAAK,EAAE,CAAC,EAAE,EACV,KAAK,EAAE,CAAC,EAAE,EACV,KAAK,UAAU,QAAQ,IAAI;QAE/B,wDAAwD;QACxD,IAAI,CAAC,MAAM,OAAO,CAAC,KAAK;YACtB,KAAK,CAAA,GAAA,2IAAA,CAAA,WAAQ,AAAD,EAAE,IAAI,IAAI;YACtB,KAAK,CAAA,GAAA,2IAAA,CAAA,UAAK,AAAD,EAAE,KAAK,IAAI,CAAC,KAAK,MAAM,IAAI,IAAI,KAAK,YAAY;QAC3D;QAEA,4CAA4C;QAC5C,IAAI,IAAI,GAAG,MAAM;QACjB,MAAO,EAAE,CAAC,EAAE,IAAI,GAAI,GAAG,KAAK,IAAI,EAAE;QAClC,MAAO,EAAE,CAAC,IAAI,EAAE,GAAG,GAAI,GAAG,GAAG,IAAI,EAAE;QAEnC,IAAI,OAAO,IAAI,MAAM,IAAI,IACrB;QAEJ,mBAAmB;QACnB,IAAK,IAAI,GAAG,KAAK,GAAG,EAAE,EAAG;YACvB,MAAM,IAAI,CAAC,EAAE,GAAG,EAAE;YAClB,IAAI,EAAE,GAAG,IAAI,IAAI,EAAE,CAAC,IAAI,EAAE,GAAG;YAC7B,IAAI,EAAE,GAAG,IAAI,IAAI,EAAE,CAAC,EAAE,GAAG;QAC3B;QAEA,iEAAiE;QACjE,IAAK,IAAI,GAAG,IAAI,GAAG,EAAE,EAAG;YACtB,IAAI,MAAM,CAAC,EAAE;YACb,IAAI,MAAM,KAAK,KAAK,IAAI;gBACtB,IAAI,CAAC,CAAA,GAAA,4IAAA,CAAA,UAAM,AAAD,EAAE,IAAI,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YACxC;QACF;QAEA,OAAO;IACT;IAEA,UAAU,KAAK,GAAG,SAAS,CAAC;QAC1B,OAAO,UAAU,MAAM,GAAG,CAAC,QAAQ,OAAO,MAAM,aAAa,IAAI,CAAA,GAAA,8IAAA,CAAA,UAAQ,AAAD,EAAE,IAAI,SAAS,IAAI;IAC7F;IAEA,UAAU,MAAM,GAAG,SAAS,CAAC;QAC3B,OAAO,UAAU,MAAM,GAAG,CAAC,SAAS,OAAO,MAAM,aAAa,IAAI,CAAA,GAAA,8IAAA,CAAA,UAAQ,AAAD,EAAE;YAAC,CAAC,CAAC,EAAE;YAAE,CAAC,CAAC,EAAE;SAAC,GAAG,SAAS,IAAI;IACzG;IAEA,UAAU,UAAU,GAAG,SAAS,CAAC;QAC/B,OAAO,UAAU,MAAM,GAAG,CAAC,YAAY,OAAO,MAAM,aAAa,IAAI,MAAM,OAAO,CAAC,KAAK,CAAA,GAAA,8IAAA,CAAA,UAAQ,AAAD,EAAE,2IAAA,CAAA,QAAK,CAAC,IAAI,CAAC,MAAM,CAAA,GAAA,8IAAA,CAAA,UAAQ,AAAD,EAAE,IAAI,SAAS,IAAI;IAC9I;IAEA,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 3483, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3489, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/quantile.js"],"sourcesContent":["import number from \"./number\";\n\nexport default function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n"],"names":[],"mappings":";;;AAAA;;AAEe,wCAAS,MAAM,EAAE,CAAC,EAAE,OAAO;IACxC,IAAI,WAAW,MAAM,UAAU,4IAAA,CAAA,UAAM;IACrC,IAAI,CAAC,CAAC,IAAI,OAAO,MAAM,GAAG;IAC1B,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,OAAO,CAAC,QAAQ,MAAM,CAAC,EAAE,EAAE,GAAG;IAC1D,IAAI,KAAK,GAAG,OAAO,CAAC,QAAQ,MAAM,CAAC,IAAI,EAAE,EAAE,IAAI,GAAG;IAClD,IAAI,GACA,IAAI,CAAC,IAAI,CAAC,IAAI,GACd,KAAK,KAAK,KAAK,CAAC,IAChB,SAAS,CAAC,QAAQ,MAAM,CAAC,GAAG,EAAE,IAAI,SAClC,SAAS,CAAC,QAAQ,MAAM,CAAC,KAAK,EAAE,EAAE,KAAK,GAAG;IAC9C,OAAO,SAAS,CAAC,SAAS,MAAM,IAAI,CAAC,IAAI,EAAE;AAC7C","ignoreList":[0]}},
    {"offset": {"line": 3502, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3508, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/threshold/freedmanDiaconis.js"],"sourcesContent":["import {map} from \"../array\";\nimport ascending from \"../ascending\";\nimport number from \"../number\";\nimport quantile from \"../quantile\";\n\nexport default function(values, min, max) {\n  values = map.call(values, number).sort(ascending);\n  return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;;;;;AAEe,wCAAS,MAAM,EAAE,GAAG,EAAE,GAAG;IACtC,SAAS,2IAAA,CAAA,MAAG,CAAC,IAAI,CAAC,QAAQ,4IAAA,CAAA,UAAM,EAAE,IAAI,CAAC,+IAAA,CAAA,UAAS;IAChD,OAAO,KAAK,IAAI,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,CAAA,GAAA,8IAAA,CAAA,UAAQ,AAAD,EAAE,QAAQ,QAAQ,CAAA,GAAA,8IAAA,CAAA,UAAQ,AAAD,EAAE,QAAQ,KAAK,IAAI,KAAK,GAAG,CAAC,OAAO,MAAM,EAAE,CAAC,IAAI,EAAE;AACzH","ignoreList":[0]}},
    {"offset": {"line": 3523, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3529, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/threshold/scott.js"],"sourcesContent":["import deviation from \"../deviation\";\n\nexport default function(values, min, max) {\n  return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n}\n"],"names":[],"mappings":";;;AAAA;;AAEe,wCAAS,MAAM,EAAE,GAAG,EAAE,GAAG;IACtC,OAAO,KAAK,IAAI,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAA,GAAA,+IAAA,CAAA,UAAS,AAAD,EAAE,UAAU,KAAK,GAAG,CAAC,OAAO,MAAM,EAAE,CAAC,IAAI,EAAE;AAC3F","ignoreList":[0]}},
    {"offset": {"line": 3537, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3543, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/max.js"],"sourcesContent":["export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return max;\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,MAAM,EAAE,OAAO;IACrC,IAAI,IAAI,OAAO,MAAM,EACjB,IAAI,CAAC,GACL,OACA;IAEJ,IAAI,WAAW,MAAM;QACnB,MAAO,EAAE,IAAI,EAAG;YACd,IAAI,CAAC,QAAQ,MAAM,CAAC,EAAE,KAAK,QAAQ,SAAS,OAAO;gBACjD,MAAM;gBACN,MAAO,EAAE,IAAI,EAAG;oBACd,IAAI,CAAC,QAAQ,MAAM,CAAC,EAAE,KAAK,QAAQ,QAAQ,KAAK;wBAC9C,MAAM;oBACR;gBACF;YACF;QACF;IACF,OAEK;QACH,MAAO,EAAE,IAAI,EAAG;YACd,IAAI,CAAC,QAAQ,QAAQ,MAAM,CAAC,EAAE,EAAE,GAAG,OAAO,KAAK,QAAQ,SAAS,OAAO;gBACrE,MAAM;gBACN,MAAO,EAAE,IAAI,EAAG;oBACd,IAAI,CAAC,QAAQ,QAAQ,MAAM,CAAC,EAAE,EAAE,GAAG,OAAO,KAAK,QAAQ,QAAQ,KAAK;wBAClE,MAAM;oBACR;gBACF;YACF;QACF;IACF;IAEA,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 3573, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3579, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/mean.js"],"sourcesContent":["import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = n,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;\n      else --m;\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;\n      else --m;\n    }\n  }\n\n  if (m) return sum / m;\n}\n"],"names":[],"mappings":";;;AAAA;;AAEe,wCAAS,MAAM,EAAE,OAAO;IACrC,IAAI,IAAI,OAAO,MAAM,EACjB,IAAI,GACJ,IAAI,CAAC,GACL,OACA,MAAM;IAEV,IAAI,WAAW,MAAM;QACnB,MAAO,EAAE,IAAI,EAAG;YACd,IAAI,CAAC,MAAM,QAAQ,CAAA,GAAA,4IAAA,CAAA,UAAM,AAAD,EAAE,MAAM,CAAC,EAAE,IAAI,OAAO;iBACzC,EAAE;QACT;IACF,OAEK;QACH,MAAO,EAAE,IAAI,EAAG;YACd,IAAI,CAAC,MAAM,QAAQ,CAAA,GAAA,4IAAA,CAAA,UAAM,AAAD,EAAE,QAAQ,MAAM,CAAC,EAAE,EAAE,GAAG,WAAW,OAAO;iBAC7D,EAAE;QACT;IACF;IAEA,IAAI,GAAG,OAAO,MAAM;AACtB","ignoreList":[0]}},
    {"offset": {"line": 3599, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3605, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/median.js"],"sourcesContent":["import ascending from \"./ascending\";\nimport number from \"./number\";\nimport quantile from \"./quantile\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      numbers = [];\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  return quantile(numbers.sort(ascending), 0.5);\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEe,wCAAS,MAAM,EAAE,OAAO;IACrC,IAAI,IAAI,OAAO,MAAM,EACjB,IAAI,CAAC,GACL,OACA,UAAU,EAAE;IAEhB,IAAI,WAAW,MAAM;QACnB,MAAO,EAAE,IAAI,EAAG;YACd,IAAI,CAAC,MAAM,QAAQ,CAAA,GAAA,4IAAA,CAAA,UAAM,AAAD,EAAE,MAAM,CAAC,EAAE,IAAI;gBACrC,QAAQ,IAAI,CAAC;YACf;QACF;IACF,OAEK;QACH,MAAO,EAAE,IAAI,EAAG;YACd,IAAI,CAAC,MAAM,QAAQ,CAAA,GAAA,4IAAA,CAAA,UAAM,AAAD,EAAE,QAAQ,MAAM,CAAC,EAAE,EAAE,GAAG,WAAW;gBACzD,QAAQ,IAAI,CAAC;YACf;QACF;IACF;IAEA,OAAO,CAAA,GAAA,8IAAA,CAAA,UAAQ,AAAD,EAAE,QAAQ,IAAI,CAAC,+IAAA,CAAA,UAAS,GAAG;AAC3C","ignoreList":[0]}},
    {"offset": {"line": 3631, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3637, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/merge.js"],"sourcesContent":["export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,MAAM;IAC5B,IAAI,IAAI,OAAO,MAAM,EACjB,GACA,IAAI,CAAC,GACL,IAAI,GACJ,QACA;IAEJ,MAAO,EAAE,IAAI,EAAG,KAAK,MAAM,CAAC,EAAE,CAAC,MAAM;IACrC,SAAS,IAAI,MAAM;IAEnB,MAAO,EAAE,KAAK,EAAG;QACf,QAAQ,MAAM,CAAC,EAAE;QACjB,IAAI,MAAM,MAAM;QAChB,MAAO,EAAE,KAAK,EAAG;YACf,MAAM,CAAC,EAAE,EAAE,GAAG,KAAK,CAAC,EAAE;QACxB;IACF;IAEA,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 3653, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3659, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/min.js"],"sourcesContent":["export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  return min;\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,MAAM,EAAE,OAAO;IACrC,IAAI,IAAI,OAAO,MAAM,EACjB,IAAI,CAAC,GACL,OACA;IAEJ,IAAI,WAAW,MAAM;QACnB,MAAO,EAAE,IAAI,EAAG;YACd,IAAI,CAAC,QAAQ,MAAM,CAAC,EAAE,KAAK,QAAQ,SAAS,OAAO;gBACjD,MAAM;gBACN,MAAO,EAAE,IAAI,EAAG;oBACd,IAAI,CAAC,QAAQ,MAAM,CAAC,EAAE,KAAK,QAAQ,MAAM,OAAO;wBAC9C,MAAM;oBACR;gBACF;YACF;QACF;IACF,OAEK;QACH,MAAO,EAAE,IAAI,EAAG;YACd,IAAI,CAAC,QAAQ,QAAQ,MAAM,CAAC,EAAE,EAAE,GAAG,OAAO,KAAK,QAAQ,SAAS,OAAO;gBACrE,MAAM;gBACN,MAAO,EAAE,IAAI,EAAG;oBACd,IAAI,CAAC,QAAQ,QAAQ,MAAM,CAAC,EAAE,EAAE,GAAG,OAAO,KAAK,QAAQ,MAAM,OAAO;wBAClE,MAAM;oBACR;gBACF;YACF;QACF;IACF;IAEA,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 3689, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3695, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/permute.js"],"sourcesContent":["export default function(array, indexes) {\n  var i = indexes.length, permutes = new Array(i);\n  while (i--) permutes[i] = array[indexes[i]];\n  return permutes;\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,KAAK,EAAE,OAAO;IACpC,IAAI,IAAI,QAAQ,MAAM,EAAE,WAAW,IAAI,MAAM;IAC7C,MAAO,IAAK,QAAQ,CAAC,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC;IAC3C,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 3703, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3709, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/scan.js"],"sourcesContent":["import ascending from \"./ascending\";\n\nexport default function(values, compare) {\n  if (!(n = values.length)) return;\n  var n,\n      i = 0,\n      j = 0,\n      xi,\n      xj = values[j];\n\n  if (compare == null) compare = ascending;\n\n  while (++i < n) {\n    if (compare(xi = values[i], xj) < 0 || compare(xj, xj) !== 0) {\n      xj = xi, j = i;\n    }\n  }\n\n  if (compare(xj, xj) === 0) return j;\n}\n"],"names":[],"mappings":";;;AAAA;;AAEe,wCAAS,MAAM,EAAE,OAAO;IACrC,IAAI,CAAC,CAAC,IAAI,OAAO,MAAM,GAAG;IAC1B,IAAI,GACA,IAAI,GACJ,IAAI,GACJ,IACA,KAAK,MAAM,CAAC,EAAE;IAElB,IAAI,WAAW,MAAM,UAAU,+IAAA,CAAA,UAAS;IAExC,MAAO,EAAE,IAAI,EAAG;QACd,IAAI,QAAQ,KAAK,MAAM,CAAC,EAAE,EAAE,MAAM,KAAK,QAAQ,IAAI,QAAQ,GAAG;YAC5D,KAAK,IAAI,IAAI;QACf;IACF;IAEA,IAAI,QAAQ,IAAI,QAAQ,GAAG,OAAO;AACpC","ignoreList":[0]}},
    {"offset": {"line": 3725, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3731, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/shuffle.js"],"sourcesContent":["export default function(array, i0, i1) {\n  var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m + i0];\n    array[m + i0] = array[i + i0];\n    array[i + i0] = t;\n  }\n\n  return array;\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,KAAK,EAAE,EAAE,EAAE,EAAE;IACnC,IAAI,IAAI,CAAC,MAAM,OAAO,MAAM,MAAM,GAAG,EAAE,IAAI,CAAC,KAAK,MAAM,OAAO,IAAI,CAAC,EAAE,GACjE,GACA;IAEJ,MAAO,EAAG;QACR,IAAI,KAAK,MAAM,KAAK,MAAM;QAC1B,IAAI,KAAK,CAAC,IAAI,GAAG;QACjB,KAAK,CAAC,IAAI,GAAG,GAAG,KAAK,CAAC,IAAI,GAAG;QAC7B,KAAK,CAAC,IAAI,GAAG,GAAG;IAClB;IAEA,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 3744, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3750, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/sum.js"],"sourcesContent":["export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,MAAM,EAAE,OAAO;IACrC,IAAI,IAAI,OAAO,MAAM,EACjB,IAAI,CAAC,GACL,OACA,MAAM;IAEV,IAAI,WAAW,MAAM;QACnB,MAAO,EAAE,IAAI,EAAG;YACd,IAAI,QAAQ,CAAC,MAAM,CAAC,EAAE,EAAE,OAAO,OAAO,sCAAsC;QAC9E;IACF,OAEK;QACH,MAAO,EAAE,IAAI,EAAG;YACd,IAAI,QAAQ,CAAC,QAAQ,MAAM,CAAC,EAAE,EAAE,GAAG,SAAS,OAAO;QACrD;IACF;IAEA,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 3766, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3772, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/transpose.js"],"sourcesContent":["import min from \"./min\";\n\nexport default function(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n"],"names":[],"mappings":";;;AAAA;;AAEe,wCAAS,MAAM;IAC5B,IAAI,CAAC,CAAC,IAAI,OAAO,MAAM,GAAG,OAAO,EAAE;IACnC,IAAK,IAAI,IAAI,CAAC,GAAG,IAAI,CAAA,GAAA,yIAAA,CAAA,UAAG,AAAD,EAAE,QAAQ,SAAS,YAAY,IAAI,MAAM,IAAI,EAAE,IAAI,GAAI;QAC5E,IAAK,IAAI,IAAI,CAAC,GAAG,GAAG,MAAM,SAAS,CAAC,EAAE,GAAG,IAAI,MAAM,IAAI,EAAE,IAAI,GAAI;YAC/D,GAAG,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC,EAAE;QACvB;IACF;IACA,OAAO;AACT;AAEA,SAAS,OAAO,CAAC;IACf,OAAO,EAAE,MAAM;AACjB","ignoreList":[0]}},
    {"offset": {"line": 3789, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3795, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-array/src/zip.js"],"sourcesContent":["import transpose from \"./transpose\";\n\nexport default function() {\n  return transpose(arguments);\n}\n"],"names":[],"mappings":";;;AAAA;;AAEe;IACb,OAAO,CAAA,GAAA,+IAAA,CAAA,UAAS,AAAD,EAAE;AACnB","ignoreList":[0]}},
    {"offset": {"line": 3803, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3809, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 3837, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3898, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/concaveman/node_modules/tinyqueue/index.js"],"sourcesContent":["\nexport default class TinyQueue {\n    constructor(data = [], compare = defaultCompare) {\n        this.data = data;\n        this.length = this.data.length;\n        this.compare = compare;\n\n        if (this.length > 0) {\n            for (let i = (this.length >> 1) - 1; i >= 0; i--) this._down(i);\n        }\n    }\n\n    push(item) {\n        this.data.push(item);\n        this.length++;\n        this._up(this.length - 1);\n    }\n\n    pop() {\n        if (this.length === 0) return undefined;\n\n        const top = this.data[0];\n        const bottom = this.data.pop();\n        this.length--;\n\n        if (this.length > 0) {\n            this.data[0] = bottom;\n            this._down(0);\n        }\n\n        return top;\n    }\n\n    peek() {\n        return this.data[0];\n    }\n\n    _up(pos) {\n        const {data, compare} = this;\n        const item = data[pos];\n\n        while (pos > 0) {\n            const parent = (pos - 1) >> 1;\n            const current = data[parent];\n            if (compare(item, current) >= 0) break;\n            data[pos] = current;\n            pos = parent;\n        }\n\n        data[pos] = item;\n    }\n\n    _down(pos) {\n        const {data, compare} = this;\n        const halfLength = this.length >> 1;\n        const item = data[pos];\n\n        while (pos < halfLength) {\n            let left = (pos << 1) + 1;\n            let best = data[left];\n            const right = left + 1;\n\n            if (right < this.length && compare(data[right], best) < 0) {\n                left = right;\n                best = data[right];\n            }\n            if (compare(best, item) >= 0) break;\n\n            data[pos] = best;\n            pos = left;\n        }\n\n        data[pos] = item;\n    }\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n"],"names":[],"mappings":";;;AACe,MAAM;IACjB,YAAY,OAAO,EAAE,EAAE,UAAU,cAAc,CAAE;QAC7C,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM;QAC9B,IAAI,CAAC,OAAO,GAAG;QAEf,IAAI,IAAI,CAAC,MAAM,GAAG,GAAG;YACjB,IAAK,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,GAAG,KAAK,GAAG,IAAK,IAAI,CAAC,KAAK,CAAC;QACjE;IACJ;IAEA,KAAK,IAAI,EAAE;QACP,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;QACf,IAAI,CAAC,MAAM;QACX,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG;IAC3B;IAEA,MAAM;QACF,IAAI,IAAI,CAAC,MAAM,KAAK,GAAG,OAAO;QAE9B,MAAM,MAAM,IAAI,CAAC,IAAI,CAAC,EAAE;QACxB,MAAM,SAAS,IAAI,CAAC,IAAI,CAAC,GAAG;QAC5B,IAAI,CAAC,MAAM;QAEX,IAAI,IAAI,CAAC,MAAM,GAAG,GAAG;YACjB,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG;YACf,IAAI,CAAC,KAAK,CAAC;QACf;QAEA,OAAO;IACX;IAEA,OAAO;QACH,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE;IACvB;IAEA,IAAI,GAAG,EAAE;QACL,MAAM,EAAC,IAAI,EAAE,OAAO,EAAC,GAAG,IAAI;QAC5B,MAAM,OAAO,IAAI,CAAC,IAAI;QAEtB,MAAO,MAAM,EAAG;YACZ,MAAM,SAAS,AAAC,MAAM,KAAM;YAC5B,MAAM,UAAU,IAAI,CAAC,OAAO;YAC5B,IAAI,QAAQ,MAAM,YAAY,GAAG;YACjC,IAAI,CAAC,IAAI,GAAG;YACZ,MAAM;QACV;QAEA,IAAI,CAAC,IAAI,GAAG;IAChB;IAEA,MAAM,GAAG,EAAE;QACP,MAAM,EAAC,IAAI,EAAE,OAAO,EAAC,GAAG,IAAI;QAC5B,MAAM,aAAa,IAAI,CAAC,MAAM,IAAI;QAClC,MAAM,OAAO,IAAI,CAAC,IAAI;QAEtB,MAAO,MAAM,WAAY;YACrB,IAAI,OAAO,CAAC,OAAO,CAAC,IAAI;YACxB,IAAI,OAAO,IAAI,CAAC,KAAK;YACrB,MAAM,QAAQ,OAAO;YAErB,IAAI,QAAQ,IAAI,CAAC,MAAM,IAAI,QAAQ,IAAI,CAAC,MAAM,EAAE,QAAQ,GAAG;gBACvD,OAAO;gBACP,OAAO,IAAI,CAAC,MAAM;YACtB;YACA,IAAI,QAAQ,MAAM,SAAS,GAAG;YAE9B,IAAI,CAAC,IAAI,GAAG;YACZ,MAAM;QACV;QAEA,IAAI,CAAC,IAAI,GAAG;IAChB;AACJ;AAEA,SAAS,eAAe,CAAC,EAAE,CAAC;IACxB,OAAO,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI;AACpC","ignoreList":[0]}},
    {"offset": {"line": 3963, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3968, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/concaveman/index.js"],"sourcesContent":["'use strict';\n\nvar RBush = require('rbush');\nvar Queue = require('tinyqueue');\nvar pointInPolygon = require('point-in-polygon');\nvar orient = require('robust-predicates/umd/orient2d.min.js').orient2d;\n\n// Fix for require issue in webpack https://github.com/mapbox/concaveman/issues/18\nif (Queue.default) {\n    Queue = Queue.default;\n}\n\nmodule.exports = concaveman;\nmodule.exports.default = concaveman;\n\nfunction concaveman(points, concavity, lengthThreshold) {\n    // a relative measure of concavity; higher value means simpler hull\n    concavity = Math.max(0, concavity === undefined ? 2 : concavity);\n\n    // when a segment goes below this length threshold, it won't be drilled down further\n    lengthThreshold = lengthThreshold || 0;\n\n    // start with a convex hull of the points\n    var hull = fastConvexHull(points);\n\n    // index the points with an R-tree\n    var tree = new RBush(16);\n    tree.toBBox = function (a) {\n        return {\n            minX: a[0],\n            minY: a[1],\n            maxX: a[0],\n            maxY: a[1]\n        };\n    };\n    tree.compareMinX = function (a, b) { return a[0] - b[0]; };\n    tree.compareMinY = function (a, b) { return a[1] - b[1]; };\n\n    tree.load(points);\n\n    // turn the convex hull into a linked list and populate the initial edge queue with the nodes\n    var queue = [];\n    for (var i = 0, last; i < hull.length; i++) {\n        var p = hull[i];\n        tree.remove(p);\n        last = insertNode(p, last);\n        queue.push(last);\n    }\n\n    // index the segments with an R-tree (for intersection checks)\n    var segTree = new RBush(16);\n    for (i = 0; i < queue.length; i++) segTree.insert(updateBBox(queue[i]));\n\n    var sqConcavity = concavity * concavity;\n    var sqLenThreshold = lengthThreshold * lengthThreshold;\n\n    // process edges one by one\n    while (queue.length) {\n        var node = queue.shift();\n        var a = node.p;\n        var b = node.next.p;\n\n        // skip the edge if it's already short enough\n        var sqLen = getSqDist(a, b);\n        if (sqLen < sqLenThreshold) continue;\n\n        var maxSqLen = sqLen / sqConcavity;\n\n        // find the best connection point for the current edge to flex inward to\n        p = findCandidate(tree, node.prev.p, a, b, node.next.next.p, maxSqLen, segTree);\n\n        // if we found a connection and it satisfies our concavity measure\n        if (p && Math.min(getSqDist(p, a), getSqDist(p, b)) <= maxSqLen) {\n            // connect the edge endpoints through this point and add 2 new edges to the queue\n            queue.push(node);\n            queue.push(insertNode(p, node));\n\n            // update point and segment indexes\n            tree.remove(p);\n            segTree.remove(node);\n            segTree.insert(updateBBox(node));\n            segTree.insert(updateBBox(node.next));\n        }\n    }\n\n    // convert the resulting hull linked list to an array of points\n    node = last;\n    var concave = [];\n    do {\n        concave.push(node.p);\n        node = node.next;\n    } while (node !== last);\n\n    concave.push(node.p);\n\n    return concave;\n}\n\nfunction findCandidate(tree, a, b, c, d, maxDist, segTree) {\n    var queue = new Queue([], compareDist);\n    var node = tree.data;\n\n    // search through the point R-tree with a depth-first search using a priority queue\n    // in the order of distance to the edge (b, c)\n    while (node) {\n        for (var i = 0; i < node.children.length; i++) {\n            var child = node.children[i];\n\n            var dist = node.leaf ? sqSegDist(child, b, c) : sqSegBoxDist(b, c, child);\n            if (dist > maxDist) continue; // skip the node if it's farther than we ever need\n\n            queue.push({\n                node: child,\n                dist: dist\n            });\n        }\n\n        while (queue.length && !queue.peek().node.children) {\n            var item = queue.pop();\n            var p = item.node;\n\n            // skip all points that are as close to adjacent edges (a,b) and (c,d),\n            // and points that would introduce self-intersections when connected\n            var d0 = sqSegDist(p, a, b);\n            var d1 = sqSegDist(p, c, d);\n            if (item.dist < d0 && item.dist < d1 &&\n                noIntersections(b, p, segTree) &&\n                noIntersections(c, p, segTree)) return p;\n        }\n\n        node = queue.pop();\n        if (node) node = node.node;\n    }\n\n    return null;\n}\n\nfunction compareDist(a, b) {\n    return a.dist - b.dist;\n}\n\n// square distance from a segment bounding box to the given one\nfunction sqSegBoxDist(a, b, bbox) {\n    if (inside(a, bbox) || inside(b, bbox)) return 0;\n    var d1 = sqSegSegDist(a[0], a[1], b[0], b[1], bbox.minX, bbox.minY, bbox.maxX, bbox.minY);\n    if (d1 === 0) return 0;\n    var d2 = sqSegSegDist(a[0], a[1], b[0], b[1], bbox.minX, bbox.minY, bbox.minX, bbox.maxY);\n    if (d2 === 0) return 0;\n    var d3 = sqSegSegDist(a[0], a[1], b[0], b[1], bbox.maxX, bbox.minY, bbox.maxX, bbox.maxY);\n    if (d3 === 0) return 0;\n    var d4 = sqSegSegDist(a[0], a[1], b[0], b[1], bbox.minX, bbox.maxY, bbox.maxX, bbox.maxY);\n    if (d4 === 0) return 0;\n    return Math.min(d1, d2, d3, d4);\n}\n\nfunction inside(a, bbox) {\n    return a[0] >= bbox.minX &&\n           a[0] <= bbox.maxX &&\n           a[1] >= bbox.minY &&\n           a[1] <= bbox.maxY;\n}\n\n// check if the edge (a,b) doesn't intersect any other edges\nfunction noIntersections(a, b, segTree) {\n    var minX = Math.min(a[0], b[0]);\n    var minY = Math.min(a[1], b[1]);\n    var maxX = Math.max(a[0], b[0]);\n    var maxY = Math.max(a[1], b[1]);\n\n    var edges = segTree.search({minX: minX, minY: minY, maxX: maxX, maxY: maxY});\n    for (var i = 0; i < edges.length; i++) {\n        if (intersects(edges[i].p, edges[i].next.p, a, b)) return false;\n    }\n    return true;\n}\n\nfunction cross(p1, p2, p3) {\n    return orient(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\n// check if the edges (p1,q1) and (p2,q2) intersect\nfunction intersects(p1, q1, p2, q2) {\n    return p1 !== q2 && q1 !== p2 &&\n        cross(p1, q1, p2) > 0 !== cross(p1, q1, q2) > 0 &&\n        cross(p2, q2, p1) > 0 !== cross(p2, q2, q1) > 0;\n}\n\n// update the bounding box of a node's edge\nfunction updateBBox(node) {\n    var p1 = node.p;\n    var p2 = node.next.p;\n    node.minX = Math.min(p1[0], p2[0]);\n    node.minY = Math.min(p1[1], p2[1]);\n    node.maxX = Math.max(p1[0], p2[0]);\n    node.maxY = Math.max(p1[1], p2[1]);\n    return node;\n}\n\n// speed up convex hull by filtering out points inside quadrilateral formed by 4 extreme points\nfunction fastConvexHull(points) {\n    var left = points[0];\n    var top = points[0];\n    var right = points[0];\n    var bottom = points[0];\n\n    // find the leftmost, rightmost, topmost and bottommost points\n    for (var i = 0; i < points.length; i++) {\n        var p = points[i];\n        if (p[0] < left[0]) left = p;\n        if (p[0] > right[0]) right = p;\n        if (p[1] < top[1]) top = p;\n        if (p[1] > bottom[1]) bottom = p;\n    }\n\n    // filter out points that are inside the resulting quadrilateral\n    var cull = [left, top, right, bottom];\n    var filtered = cull.slice();\n    for (i = 0; i < points.length; i++) {\n        if (!pointInPolygon(points[i], cull)) filtered.push(points[i]);\n    }\n\n    // get convex hull around the filtered points\n    return convexHull(filtered);\n}\n\n// create a new node in a doubly linked list\nfunction insertNode(p, prev) {\n    var node = {\n        p: p,\n        prev: null,\n        next: null,\n        minX: 0,\n        minY: 0,\n        maxX: 0,\n        maxY: 0\n    };\n\n    if (!prev) {\n        node.prev = node;\n        node.next = node;\n\n    } else {\n        node.next = prev.next;\n        node.prev = prev;\n        prev.next.prev = node;\n        prev.next = node;\n    }\n    return node;\n}\n\n// square distance between 2 points\nfunction getSqDist(p1, p2) {\n\n    var dx = p1[0] - p2[0],\n        dy = p1[1] - p2[1];\n\n    return dx * dx + dy * dy;\n}\n\n// square distance from a point to a segment\nfunction sqSegDist(p, p1, p2) {\n\n    var x = p1[0],\n        y = p1[1],\n        dx = p2[0] - x,\n        dy = p2[1] - y;\n\n    if (dx !== 0 || dy !== 0) {\n\n        var t = ((p[0] - x) * dx + (p[1] - y) * dy) / (dx * dx + dy * dy);\n\n        if (t > 1) {\n            x = p2[0];\n            y = p2[1];\n\n        } else if (t > 0) {\n            x += dx * t;\n            y += dy * t;\n        }\n    }\n\n    dx = p[0] - x;\n    dy = p[1] - y;\n\n    return dx * dx + dy * dy;\n}\n\n// segment to segment distance, ported from http://geomalgorithms.com/a07-_distance.html by Dan Sunday\nfunction sqSegSegDist(x0, y0, x1, y1, x2, y2, x3, y3) {\n    var ux = x1 - x0;\n    var uy = y1 - y0;\n    var vx = x3 - x2;\n    var vy = y3 - y2;\n    var wx = x0 - x2;\n    var wy = y0 - y2;\n    var a = ux * ux + uy * uy;\n    var b = ux * vx + uy * vy;\n    var c = vx * vx + vy * vy;\n    var d = ux * wx + uy * wy;\n    var e = vx * wx + vy * wy;\n    var D = a * c - b * b;\n\n    var sc, sN, tc, tN;\n    var sD = D;\n    var tD = D;\n\n    if (D === 0) {\n        sN = 0;\n        sD = 1;\n        tN = e;\n        tD = c;\n    } else {\n        sN = b * e - c * d;\n        tN = a * e - b * d;\n        if (sN < 0) {\n            sN = 0;\n            tN = e;\n            tD = c;\n        } else if (sN > sD) {\n            sN = sD;\n            tN = e + b;\n            tD = c;\n        }\n    }\n\n    if (tN < 0.0) {\n        tN = 0.0;\n        if (-d < 0.0) sN = 0.0;\n        else if (-d > a) sN = sD;\n        else {\n            sN = -d;\n            sD = a;\n        }\n    } else if (tN > tD) {\n        tN = tD;\n        if ((-d + b) < 0.0) sN = 0;\n        else if (-d + b > a) sN = sD;\n        else {\n            sN = -d + b;\n            sD = a;\n        }\n    }\n\n    sc = sN === 0 ? 0 : sN / sD;\n    tc = tN === 0 ? 0 : tN / tD;\n\n    var cx = (1 - sc) * x0 + sc * x1;\n    var cy = (1 - sc) * y0 + sc * y1;\n    var cx2 = (1 - tc) * x2 + tc * x3;\n    var cy2 = (1 - tc) * y2 + tc * y3;\n    var dx = cx2 - cx;\n    var dy = cy2 - cy;\n\n    return dx * dx + dy * dy;\n}\n\nfunction compareByX(a, b) {\n    return a[0] === b[0] ? a[1] - b[1] : a[0] - b[0];\n}\n\nfunction convexHull(points) {\n    points.sort(compareByX);\n\n    var lower = [];\n    for (var i = 0; i < points.length; i++) {\n        while (lower.length >= 2 && cross(lower[lower.length - 2], lower[lower.length - 1], points[i]) <= 0) {\n            lower.pop();\n        }\n        lower.push(points[i]);\n    }\n\n    var upper = [];\n    for (var ii = points.length - 1; ii >= 0; ii--) {\n        while (upper.length >= 2 && cross(upper[upper.length - 2], upper[upper.length - 1], points[ii]) <= 0) {\n            upper.pop();\n        }\n        upper.push(points[ii]);\n    }\n\n    upper.pop();\n    lower.pop();\n    return lower.concat(upper);\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4288, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4293, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/point-in-polygon/flat.js"],"sourcesContent":["module.exports = function pointInPolygonFlat (point, vs, start, end) {\n    var x = point[0], y = point[1];\n    var inside = false;\n    if (start === undefined) start = 0;\n    if (end === undefined) end = vs.length;\n    var len = (end-start)/2;\n    for (var i = 0, j = len - 1; i < len; j = i++) {\n        var xi = vs[start+i*2+0], yi = vs[start+i*2+1];\n        var xj = vs[start+j*2+0], yj = vs[start+j*2+1];\n        var intersect = ((yi > y) !== (yj > y))\n            && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n        if (intersect) inside = !inside;\n    }\n    return inside;\n};\n"],"names":[],"mappings":"AAAA,OAAO,OAAO,GAAG,SAAS,mBAAoB,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,GAAG;IAC/D,IAAI,IAAI,KAAK,CAAC,EAAE,EAAE,IAAI,KAAK,CAAC,EAAE;IAC9B,IAAI,SAAS;IACb,IAAI,UAAU,WAAW,QAAQ;IACjC,IAAI,QAAQ,WAAW,MAAM,GAAG,MAAM;IACtC,IAAI,MAAM,CAAC,MAAI,KAAK,IAAE;IACtB,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,GAAG,IAAI,KAAK,IAAI,IAAK;QAC3C,IAAI,KAAK,EAAE,CAAC,QAAM,IAAE,IAAE,EAAE,EAAE,KAAK,EAAE,CAAC,QAAM,IAAE,IAAE,EAAE;QAC9C,IAAI,KAAK,EAAE,CAAC,QAAM,IAAE,IAAE,EAAE,EAAE,KAAK,EAAE,CAAC,QAAM,IAAE,IAAE,EAAE;QAC9C,IAAI,YAAY,AAAE,KAAK,MAAQ,KAAK,KAC5B,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI;QAC/C,IAAI,WAAW,SAAS,CAAC;IAC7B;IACA,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 4307, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4312, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/point-in-polygon/nested.js"],"sourcesContent":["// ray-casting algorithm based on\n// https://wrf.ecse.rpi.edu/Research/Short_Notes/pnpoly.html\n\nmodule.exports = function pointInPolygonNested (point, vs, start, end) {\n    var x = point[0], y = point[1];\n    var inside = false;\n    if (start === undefined) start = 0;\n    if (end === undefined) end = vs.length;\n    var len = end - start;\n    for (var i = 0, j = len - 1; i < len; j = i++) {\n        var xi = vs[i+start][0], yi = vs[i+start][1];\n        var xj = vs[j+start][0], yj = vs[j+start][1];\n        var intersect = ((yi > y) !== (yj > y))\n            && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n        if (intersect) inside = !inside;\n    }\n    return inside;\n};\n"],"names":[],"mappings":"AAAA,iCAAiC;AACjC,4DAA4D;AAE5D,OAAO,OAAO,GAAG,SAAS,qBAAsB,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,GAAG;IACjE,IAAI,IAAI,KAAK,CAAC,EAAE,EAAE,IAAI,KAAK,CAAC,EAAE;IAC9B,IAAI,SAAS;IACb,IAAI,UAAU,WAAW,QAAQ;IACjC,IAAI,QAAQ,WAAW,MAAM,GAAG,MAAM;IACtC,IAAI,MAAM,MAAM;IAChB,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,GAAG,IAAI,KAAK,IAAI,IAAK;QAC3C,IAAI,KAAK,EAAE,CAAC,IAAE,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,CAAC,IAAE,MAAM,CAAC,EAAE;QAC5C,IAAI,KAAK,EAAE,CAAC,IAAE,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,CAAC,IAAE,MAAM,CAAC,EAAE;QAC5C,IAAI,YAAY,AAAE,KAAK,MAAQ,KAAK,KAC5B,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI;QAC/C,IAAI,WAAW,SAAS,CAAC;IAC7B;IACA,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 4328, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4333, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/point-in-polygon/index.js"],"sourcesContent":["var pointInPolygonFlat = require('./flat.js')\nvar pointInPolygonNested = require('./nested.js')\n\nmodule.exports = function pointInPolygon (point, vs, start, end) {\n    if (vs.length > 0 && Array.isArray(vs[0])) {\n        return pointInPolygonNested(point, vs, start, end);\n    } else {\n        return pointInPolygonFlat(point, vs, start, end);\n    }\n}\nmodule.exports.nested = pointInPolygonNested\nmodule.exports.flat = pointInPolygonFlat\n"],"names":[],"mappings":"AAAA,IAAI;AACJ,IAAI;AAEJ,OAAO,OAAO,GAAG,SAAS,eAAgB,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,GAAG;IAC3D,IAAI,GAAG,MAAM,GAAG,KAAK,MAAM,OAAO,CAAC,EAAE,CAAC,EAAE,GAAG;QACvC,OAAO,qBAAqB,OAAO,IAAI,OAAO;IAClD,OAAO;QACH,OAAO,mBAAmB,OAAO,IAAI,OAAO;IAChD;AACJ;AACA,OAAO,OAAO,CAAC,MAAM,GAAG;AACxB,OAAO,OAAO,CAAC,IAAI,GAAG","ignoreList":[0]}},
    {"offset": {"line": 4344, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4349, "column": 0}, "map": {"version":3,"file":"distance.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/skmeans/distance.js"],"sourcesContent":["module.exports = {\n\t/**\n\t * Euclidean distance\n\t */\n\teudist(v1,v2,sqrt) {\n\t\tvar len = v1.length;\n\t\tvar sum = 0;\n\n\t\tfor(let i=0;i<len;i++) {\n\t\t\tvar d = (v1[i]||0) - (v2[i]||0);\n\t\t\tsum += d*d;\n\t\t}\n\t\t// Square root not really needed\n\t\treturn sqrt? Math.sqrt(sum) : sum;\n\t},\n\n\tmandist(v1,v2,sqrt) {\n\t\tvar len = v1.length;\n\t\tvar sum = 0;\n\n\t\tfor(let i=0;i<len;i++) {\n\t\t\tsum += Math.abs((v1[i]||0) - (v2[i]||0));\n\t\t}\n\n\t\t// Square root not really needed\n\t\treturn sqrt? Math.sqrt(sum) : sum;\n\t},\n\n\t/**\n\t * Unidimensional distance\n\t */\n\tdist(v1,v2,sqrt) {\n\t\tvar d = Math.abs(v1-v2);\n\t\treturn sqrt? d : d*d;\n\t}\n\n}\n"],"names":["module","exports","eudist","v1","v2","sqrt","len","length","sum","i","d","Math","mandist","abs","dist"],"mappings":";AAAAA,OAAOC,OAAP,GAAiB;IAChB;;KAGAC,MAJgB,EAAA,SAAA,OAITC,EAJS,EAINC,EAJM,EAIHC,IAJG,EAIG;QAClB,IAAIC,MAAMH,GAAGI,MAAb;QACA,IAAIC,MAAM,CAAV;QAEA,IAAI,IAAIC,IAAE,CAAV,EAAYA,IAAEH,GAAd,EAAkBG,GAAlB,CAAuB;YACtB,IAAIC,IAAI,CAACP,EAAAA,CAAGM,CAAH,CAAA,IAAO,CAAR,IAAA,CAAcL,EAAAA,CAAGK,CAAH,CAAA,IAAO,CAArB,CAAR;YACAD,OAAOE,IAAEA,CAAT;QACA;QACD,gCAAA;QACA,OAAOL,OAAMM,KAAKN,IAAL,CAAUG,GAAV,CAAN,GAAuBA,GAA9B;IACA,CAde;IAgBhBI,OAhBgB,EAAA,SAAA,QAgBRT,EAhBQ,EAgBLC,EAhBK,EAgBFC,IAhBE,EAgBI;QACnB,IAAIC,MAAMH,GAAGI,MAAb;QACA,IAAIC,MAAM,CAAV;QAEA,IAAI,IAAIC,IAAE,CAAV,EAAYA,IAAEH,GAAd,EAAkBG,GAAlB,CAAuB;YACtBD,OAAOG,KAAKE,GAAL,CAAS,CAACV,EAAAA,CAAGM,CAAH,CAAA,IAAO,CAAR,IAAA,CAAcL,EAAAA,CAAGK,CAAH,CAAA,IAAO,CAArB,CAAT,CAAP;QACA;QAED,gCAAA;QACA,OAAOJ,OAAMM,KAAKN,IAAL,CAAUG,GAAV,CAAN,GAAuBA,GAA9B;IACA,CA1Be;IA4BhB;;KAGAM,IA/BgB,EAAA,SAAA,KA+BXX,EA/BW,EA+BRC,EA/BQ,EA+BLC,IA/BK,EA+BC;QAChB,IAAIK,IAAIC,KAAKE,GAAL,CAASV,KAAGC,EAAZ,CAAR;QACA,OAAOC,OAAMK,CAAN,GAAUA,IAAEA,CAAnB;IACA;AAlCe,CAAjB","ignoreList":[0]}},
    {"offset": {"line": 4379, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4384, "column": 0}, "map": {"version":3,"file":"kinit.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/skmeans/kinit.js"],"sourcesContent":["const\n\tDistance = require(\"./distance.js\"),\n\teudist = Distance.eudist,\n\tdist = Distance.dist;\n\nmodule.exports = {\n\tkmrand(data,k) {\n\t\tvar map = {}, ks = [], t = k<<2;\n\t\tvar len = data.length;\n\t\tvar multi = data[0].length>0;\n\n\t\twhile(ks.length<k && (t--)>0) {\n\t\t\tlet d = data[Math.floor(Math.random()*len)];\n\t\t\tlet key = multi? d.join(\"_\") : `${d}`;\n\t\t\tif(!map[key]) {\n\t\t\t\tmap[key] = true;\n\t\t\t\tks.push(d);\n\t\t\t}\n\t\t}\n\n\t\tif(ks.length<k) throw new Error(\"Error initializating clusters\");\n\t\telse return ks;\n\t},\n\n\t/**\n\t * K-means++ initial centroid selection\n\t */\n\tkmpp(data,k) {\n\t\tvar distance = data[0].length? eudist : dist;\n\t\tvar ks = [], len = data.length;\n\t\tvar multi = data[0].length>0;\n\t\tvar map = {};\n\n\t\t// First random centroid\n\t\tvar c = data[Math.floor(Math.random()*len)];\n\t\tvar key = multi? c.join(\"_\") : `${c}`;\n\t\tks.push(c);\n\t\tmap[key] = true;\n\n\t\t// Retrieve next centroids\n\t\twhile(ks.length<k) {\n\t\t\t// Min Distances between current centroids and data points\n\t\t\tlet dists = [], lk = ks.length;\n\t\t\tlet dsum = 0, prs = [];\n\n\t\t\tfor(let i=0;i<len;i++) {\n\t\t\t\tlet min = Infinity;\n\t\t\t\tfor(let j=0;j<lk;j++) {\n\t\t\t\t\tlet dist = distance(data[i],ks[j]);\n\t\t\t\t\tif(dist<=min) min = dist;\n\t\t\t\t}\n\t\t\t\tdists[i] = min;\n\t\t\t}\n\n\t\t\t// Sum all min distances\n\t\t\tfor(let i=0;i<len;i++) {\n\t\t\t\tdsum += dists[i]\n\t\t\t}\n\n\t\t\t// Probabilities and cummulative prob (cumsum)\n\t\t\tfor(let i=0;i<len;i++) {\n\t\t\t\tprs[i] = {i:i, v:data[i],\tpr:dists[i]/dsum, cs:0}\n\t\t\t}\n\n\t\t\t// Sort Probabilities\n\t\t\tprs.sort((a,b)=>a.pr-b.pr);\n\n\t\t\t// Cummulative Probabilities\n\t\t\tprs[0].cs = prs[0].pr;\n\t\t\tfor(let i=1;i<len;i++) {\n\t\t\t\tprs[i].cs = prs[i-1].cs + prs[i].pr;\n\t\t\t}\n\n\t\t\t// Randomize\n\t\t\tlet rnd = Math.random();\n\n\t\t\t// Gets only the items whose cumsum >= rnd\n\t\t\tlet idx = 0;\n\t\t\twhile(idx<len-1 && prs[idx++].cs<rnd);\n\t\t\tks.push(prs[idx-1].v);\n\t\t\t/*\n\t\t\tlet done = false;\n\t\t\twhile(!done) {\n\t\t\t\t// this is our new centroid\n\t\t\t\tc = prs[idx-1].v\n\t\t\t\tkey = multi? c.join(\"_\") : `${c}`;\n\t\t\t\tif(!map[key]) {\n\t\t\t\t\tmap[key] = true;\n\t\t\t\t\tks.push(c);\n\t\t\t\t\tdone = true;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tidx++;\n\t\t\t\t}\n\t\t\t}\n\t\t\t*/\n\t\t}\n\n\t\treturn ks;\n\t}\n\n}\n"],"names":["Distance","require","eudist","dist","module","exports","kmrand","data","k","map","ks","t","len","length","multi","d","Math","floor","random","key","join","push","Error","kmpp","distance","c","dists","lk","dsum","prs","i","min","Infinity","j","v","pr","cs","sort","a","b","rnd","idx"],"mappings":";AAAA,IACCA,WAAWC,QAAQ,eAAR,CADZ,8EAECC,SAASF,SAASE,MAFnB,EAGCC,OAAOH,SAASG,IAHjB;AAKAC,OAAOC,OAAP,GAAiB;IAChBC,MADgB,EAAA,SAAA,OACTC,IADS,EACJC,CADI,EACD;QACd,IAAIC,MAAM,CAAA,CAAV,EAAcC,KAAK,EAAnB,EAAuBC,IAAIH,KAAG,CAA9B;QACA,IAAII,MAAML,KAAKM,MAAf;QACA,IAAIC,QAAQP,IAAAA,CAAK,CAAL,CAAA,CAAQM,MAAR,GAAe,CAA3B;QAEA,MAAMH,GAAGG,MAAH,GAAUL,CAAV,IAAgBG,GAAD,GAAM,CAA3B,CAA8B;YAC7B,IAAII,IAAIR,IAAAA,CAAKS,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAcN,GAAzB,CAAL,CAAR;YACA,IAAIO,MAAML,QAAOC,EAAEK,IAAF,CAAO,GAAP,CAAP,GAAA,KAAwBL,CAAlC;YACA,IAAG,CAACN,GAAAA,CAAIU,GAAJ,CAAJ,EAAc;gBACbV,GAAAA,CAAIU,GAAJ,CAAA,GAAW,IAAX;gBACAT,GAAGW,IAAH,CAAQN,CAAR;YACA;QACD;QAED,IAAGL,GAAGG,MAAH,GAAUL,CAAb,EAAgB,MAAM,IAAIc,KAAJ,CAAU,+BAAV,CAAN,CAAhB;aACK,OAAOZ,EAAP;IACL,CAjBe;IAmBhB;;KAGAa,IAtBgB,EAAA,SAAA,KAsBXhB,IAtBW,EAsBNC,CAtBM,EAsBH;QACZ,IAAIgB,WAAWjB,IAAAA,CAAK,CAAL,CAAA,CAAQM,MAAR,GAAgBX,MAAhB,GAAyBC,IAAxC;QACA,IAAIO,KAAK,EAAT,EAAaE,MAAML,KAAKM,MAAxB;QACA,IAAIC,QAAQP,IAAAA,CAAK,CAAL,CAAA,CAAQM,MAAR,GAAe,CAA3B;QACA,IAAIJ,MAAM,CAAA,CAAV;QAEA,wBAAA;QACA,IAAIgB,IAAIlB,IAAAA,CAAKS,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAcN,GAAzB,CAAL,CAAR;QACA,IAAIO,MAAML,QAAOW,EAAEL,IAAF,CAAO,GAAP,CAAP,GAAA,KAAwBK,CAAlC;QACAf,GAAGW,IAAH,CAAQI,CAAR;QACAhB,GAAAA,CAAIU,GAAJ,CAAA,GAAW,IAAX;QAEA,0BAAA;QACA,MAAMT,GAAGG,MAAH,GAAUL,CAAhB,CAAmB;YAClB,0DAAA;YACA,IAAIkB,QAAQ,EAAZ,EAAgBC,KAAKjB,GAAGG,MAAxB;YACA,IAAIe,OAAO,CAAX,EAAcC,MAAM,EAApB;YAEA,IAAI,IAAIC,IAAE,CAAV,EAAYA,IAAElB,GAAd,EAAkBkB,GAAlB,CAAuB;gBACtB,IAAIC,MAAMC,QAAV;gBACA,IAAI,IAAIC,IAAE,CAAV,EAAYA,IAAEN,EAAd,EAAiBM,GAAjB,CAAsB;oBACrB,IAAI9B,QAAOqB,SAASjB,IAAAA,CAAKuB,CAAL,CAAT,EAAiBpB,EAAAA,CAAGuB,CAAH,CAAjB,CAAX;oBACA,IAAG9B,SAAM4B,GAAT,EAAcA,MAAM5B,KAAN;gBACd;gBACDuB,KAAAA,CAAMI,CAAN,CAAA,GAAWC,GAAX;YACA;YAED,wBAAA;YACA,IAAI,IAAID,KAAE,CAAV,EAAYA,KAAElB,GAAd,EAAkBkB,IAAlB,CAAuB;gBACtBF,QAAQF,KAAAA,CAAMI,EAAN,CAAR;YACA;YAED,8CAAA;YACA,IAAI,IAAIA,MAAE,CAAV,EAAYA,MAAElB,GAAd,EAAkBkB,KAAlB,CAAuB;gBACtBD,GAAAA,CAAIC,GAAJ,CAAA,GAAS;oBAACA,GAAEA,GAAH;oBAAMI,GAAE3B,IAAAA,CAAKuB,GAAL,CAAR;oBAAiBK,IAAGT,KAAAA,CAAMI,GAAN,CAAA,GAASF,IAA7B;oBAAmCQ,IAAG,CAAtC;gBAAA,CAAT;YACA;YAED,qBAAA;YACAP,IAAIQ,IAAJ,CAAS,SAACC,CAAD,EAAGC,CAAH;gBAAA,OAAOD,EAAEH,EAAF,GAAKI,EAAEJ,EAAd;YAAA,CAAT;YAEA,4BAAA;YACAN,GAAAA,CAAI,CAAJ,CAAA,CAAOO,EAAP,GAAYP,GAAAA,CAAI,CAAJ,CAAA,CAAOM,EAAnB;YACA,IAAI,IAAIL,MAAE,CAAV,EAAYA,MAAElB,GAAd,EAAkBkB,KAAlB,CAAuB;gBACtBD,GAAAA,CAAIC,GAAJ,CAAA,CAAOM,EAAP,GAAYP,GAAAA,CAAIC,MAAE,CAAN,CAAA,CAASM,EAAT,GAAcP,GAAAA,CAAIC,GAAJ,CAAA,CAAOK,EAAjC;YACA;YAED,YAAA;YACA,IAAIK,MAAMxB,KAAKE,MAAL,EAAV;YAEA,0CAAA;YACA,IAAIuB,MAAM,CAAV;YACA,MAAMA,MAAI7B,MAAI,CAAR,IAAaiB,GAAAA,CAAIY,KAAJ,CAAA,CAAWL,EAAX,GAAcI,GAAjC,CAAA,CAAA;YACA9B,GAAGW,IAAH,CAAQQ,GAAAA,CAAIY,MAAI,CAAR,CAAA,CAAWP,CAAnB;QACA;;;;;;;;;;;;;;;MAgBA;QAED,OAAOxB,EAAP;IACA;AA9Fe,CAAjB","ignoreList":[0]}},
    {"offset": {"line": 4474, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4479, "column": 0}, "map": {"version":3,"file":"main.js","sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/skmeans/main.js"],"sourcesContent":["/*jshint esversion: 6 */\n\nconst\n\tDistance = require(\"./distance.js\"),\n\tClusterInit = require(\"./kinit.js\"),\n\teudist = Distance.eudist,\n\tmandist = Distance.mandist,\n\tdist = Distance.dist,\n\tkmrand = ClusterInit.kmrand,\n\tkmpp = ClusterInit.kmpp;\n\nconst MAX = 10000;\n\n/**\n * Inits an array with values\n */\nfunction init(len,val,v) {\n\tv = v || [];\n\tfor(let i=0;i<len;i++) v[i] = val;\n\treturn v;\n}\n\nfunction skmeans(data,k,initial,maxit) {\n\tvar ks = [], old = [], idxs = [], dist = [];\n\tvar conv = false, it = maxit || MAX;\n\tvar len = data.length, vlen = data[0].length, multi = vlen>0;\n\tvar count = [];\n\n\tif(!initial) {\n\t\tlet idxs = {};\n\t\twhile(ks.length<k) {\n\t\t\tlet idx = Math.floor(Math.random()*len);\n\t\t\tif(!idxs[idx]) {\n\t\t\t\tidxs[idx] = true;\n\t\t\t\tks.push(data[idx]);\n\t\t\t}\n\t\t}\n\t}\n\telse if(initial==\"kmrand\") {\n\t\tks = kmrand(data,k);\n\t}\n\telse if(initial==\"kmpp\") {\n\t\tks = kmpp(data,k);\n\t}\n\telse {\n\t\tks = initial;\n\t}\n\n\tdo {\n\t\t// Reset k count\n\t\tinit(k,0,count);\n\n\t\t// For each value in data, find the nearest centroid\n\t\tfor(let i=0;i<len;i++) {\n\t\t\tlet min = Infinity, idx = 0;\n\t\t\tfor(let j=0;j<k;j++) {\n\t\t\t\t// Multidimensional or unidimensional\n\t\t\t\tvar dist = multi? eudist(data[i],ks[j]) : Math.abs(data[i]-ks[j]);\n\t\t\t\tif(dist<=min) {\n\t\t\t\t\tmin = dist;\n\t\t\t\t\tidx = j;\n\t\t\t\t}\n\t\t\t}\n\t\t\tidxs[i] = idx;\t// Index of the selected centroid for that value\n\t\t\tcount[idx]++;\t\t// Number of values for this centroid\n\t\t}\n\n\t\t// Recalculate centroids\n\t\tvar sum = [], old = [], dif = 0;\n\t\tfor(let j=0;j<k;j++) {\n\t\t\t// Multidimensional or unidimensional\n\t\t\tsum[j] = multi? init(vlen,0,sum[j]) : 0;\n\t\t\told[j] = ks[j];\n\t\t}\n\n\t\t// If multidimensional\n\t\tif(multi) {\n\t\t\tfor(let j=0;j<k;j++) ks[j] = [];\n\n\t\t\t// Sum values and count for each centroid\n\t\t\tfor(let i=0;i<len;i++) {\n\t\t\t\tlet\tidx = idxs[i],\t\t// Centroid for that item\n\t\t\t\t\t\tvsum = sum[idx],\t// Sum values for this centroid\n\t\t\t\t\t\tvect = data[i];\t\t// Current vector\n\n\t\t\t\t// Accumulate value on the centroid for current vector\n\t\t\t\tfor(let h=0;h<vlen;h++) {\n\t\t\t\t\tvsum[h] += vect[h];\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Calculate the average for each centroid\n\t\t\tconv = true;\n\t\t\tfor(let j=0;j<k;j++) {\n\t\t\t\tlet ksj = ks[j],\t\t// Current centroid\n\t\t\t\t\t\tsumj = sum[j],\t// Accumulated centroid values\n\t\t\t\t\t\toldj = old[j], \t// Old centroid value\n\t\t\t\t\t\tcj = count[j];\t// Number of elements for this centroid\n\n\t\t\t\t// New average\n\t\t\t\tfor(let h=0;h<vlen;h++) {\n\t\t\t\t\tksj[h] = (sumj[h])/(cj) || 0;\t// New centroid\n\t\t\t\t}\n\n\t\t\t\t// Find if centroids have moved\n\t\t\t\tif(conv) {\n\t\t\t\t\tfor(let h=0;h<vlen;h++) {\n\t\t\t\t\t\tif(oldj[h]!=ksj[h]) {\n\t\t\t\t\t\t\tconv = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// If unidimensional\n\t\telse {\n\t\t\t// Sum values and count for each centroid\n\t\t\tfor(let i=0;i<len;i++) {\n\t\t\t\tlet idx = idxs[i];\n\t\t\t\tsum[idx] += data[i];\n\t\t\t}\n\t\t\t// Calculate the average for each centroid\n\t\t\tfor(let j=0;j<k;j++) {\n\t\t\t\tks[j] = sum[j]/count[j] || 0;\t// New centroid\n\t\t\t}\n\t\t\t// Find if centroids have moved\n\t\t\tconv = true;\n\t\t\tfor(let j=0;j<k;j++) {\n\t\t\t\tif(old[j]!=ks[j]) {\n\t\t\t\t\tconv = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconv = conv || (--it<=0);\n\t}while(!conv);\n\n\treturn {\n\t\tit : MAX-it,\n\t\tk : k,\n\t\tidxs : idxs,\n\t\tcentroids : ks\n\t};\n}\n\nmodule.exports = skmeans;\n"],"names":["Distance","require","ClusterInit","eudist","mandist","dist","kmrand","kmpp","MAX","init","len","val","v","i","skmeans","data","k","initial","maxit","ks","old","idxs","conv","it","length","vlen","multi","count","idx","Math","floor","random","push","min","Infinity","j","abs","sum","dif","vsum","vect","h","ksj","sumj","oldj","cj","centroids","module","exports"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4600, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4606, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-client/src/identity.js"],"sourcesContent":["export default function(x) {\n  return x;\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,CAAC;IACvB,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 4612, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4618, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-client/src/transform.js"],"sourcesContent":["import identity from \"./identity.js\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n"],"names":[],"mappings":";;;AAAA;;AAEe,wCAAS,SAAS;IAC/B,IAAI,aAAa,MAAM,OAAO,qJAAA,CAAA,UAAQ;IACtC,IAAI,IACA,IACA,KAAK,UAAU,KAAK,CAAC,EAAE,EACvB,KAAK,UAAU,KAAK,CAAC,EAAE,EACvB,KAAK,UAAU,SAAS,CAAC,EAAE,EAC3B,KAAK,UAAU,SAAS,CAAC,EAAE;IAC/B,OAAO,SAAS,KAAK,EAAE,CAAC;QACtB,IAAI,CAAC,GAAG,KAAK,KAAK;QAClB,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,SAAS,IAAI,MAAM;QAChD,MAAM,CAAC,EAAE,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE,IAAI,KAAK;QACpC,MAAM,CAAC,EAAE,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE,IAAI,KAAK;QACpC,MAAO,IAAI,EAAG,MAAM,CAAC,EAAE,GAAG,KAAK,CAAC,EAAE,EAAE,EAAE;QACtC,OAAO;IACT;AACF","ignoreList":[0]}},
    {"offset": {"line": 4635, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4641, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-client/src/bbox.js"],"sourcesContent":["import transform from \"./transform.js\";\n\nexport default function(topology) {\n  var t = transform(topology.transform), key,\n      x0 = Infinity, y0 = x0, x1 = -x0, y1 = -x0;\n\n  function bboxPoint(p) {\n    p = t(p);\n    if (p[0] < x0) x0 = p[0];\n    if (p[0] > x1) x1 = p[0];\n    if (p[1] < y0) y0 = p[1];\n    if (p[1] > y1) y1 = p[1];\n  }\n\n  function bboxGeometry(o) {\n    switch (o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(bboxGeometry); break;\n      case \"Point\": bboxPoint(o.coordinates); break;\n      case \"MultiPoint\": o.coordinates.forEach(bboxPoint); break;\n    }\n  }\n\n  topology.arcs.forEach(function(arc) {\n    var i = -1, n = arc.length, p;\n    while (++i < n) {\n      p = t(arc[i], i);\n      if (p[0] < x0) x0 = p[0];\n      if (p[0] > x1) x1 = p[0];\n      if (p[1] < y0) y0 = p[1];\n      if (p[1] > y1) y1 = p[1];\n    }\n  });\n\n  for (key in topology.objects) {\n    bboxGeometry(topology.objects[key]);\n  }\n\n  return [x0, y0, x1, y1];\n}\n"],"names":[],"mappings":";;;AAAA;;AAEe,wCAAS,QAAQ;IAC9B,IAAI,IAAI,CAAA,GAAA,sJAAA,CAAA,UAAS,AAAD,EAAE,SAAS,SAAS,GAAG,KACnC,KAAK,UAAU,KAAK,IAAI,KAAK,CAAC,IAAI,KAAK,CAAC;IAE5C,SAAS,UAAU,CAAC;QAClB,IAAI,EAAE;QACN,IAAI,CAAC,CAAC,EAAE,GAAG,IAAI,KAAK,CAAC,CAAC,EAAE;QACxB,IAAI,CAAC,CAAC,EAAE,GAAG,IAAI,KAAK,CAAC,CAAC,EAAE;QACxB,IAAI,CAAC,CAAC,EAAE,GAAG,IAAI,KAAK,CAAC,CAAC,EAAE;QACxB,IAAI,CAAC,CAAC,EAAE,GAAG,IAAI,KAAK,CAAC,CAAC,EAAE;IAC1B;IAEA,SAAS,aAAa,CAAC;QACrB,OAAQ,EAAE,IAAI;YACZ,KAAK;gBAAsB,EAAE,UAAU,CAAC,OAAO,CAAC;gBAAe;YAC/D,KAAK;gBAAS,UAAU,EAAE,WAAW;gBAAG;YACxC,KAAK;gBAAc,EAAE,WAAW,CAAC,OAAO,CAAC;gBAAY;QACvD;IACF;IAEA,SAAS,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG;QAChC,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,MAAM,EAAE;QAC5B,MAAO,EAAE,IAAI,EAAG;YACd,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE;YACd,IAAI,CAAC,CAAC,EAAE,GAAG,IAAI,KAAK,CAAC,CAAC,EAAE;YACxB,IAAI,CAAC,CAAC,EAAE,GAAG,IAAI,KAAK,CAAC,CAAC,EAAE;YACxB,IAAI,CAAC,CAAC,EAAE,GAAG,IAAI,KAAK,CAAC,CAAC,EAAE;YACxB,IAAI,CAAC,CAAC,EAAE,GAAG,IAAI,KAAK,CAAC,CAAC,EAAE;QAC1B;IACF;IAEA,IAAK,OAAO,SAAS,OAAO,CAAE;QAC5B,aAAa,SAAS,OAAO,CAAC,IAAI;IACpC;IAEA,OAAO;QAAC;QAAI;QAAI;QAAI;KAAG;AACzB","ignoreList":[0]}},
    {"offset": {"line": 4688, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4694, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-client/src/reverse.js"],"sourcesContent":["export default function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,KAAK,EAAE,CAAC;IAC9B,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAI,IAAI;IACjC,MAAO,IAAI,EAAE,EAAG,IAAI,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,EAAE,GAAG;AAClE","ignoreList":[0]}},
    {"offset": {"line": 4701, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4707, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-client/src/feature.js"],"sourcesContent":["import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\n\nexport default function(topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEe,wCAAS,QAAQ,EAAE,CAAC;IACjC,IAAI,OAAO,MAAM,UAAU,IAAI,SAAS,OAAO,CAAC,EAAE;IAClD,OAAO,EAAE,IAAI,KAAK,uBACZ;QAAC,MAAM;QAAqB,UAAU,EAAE,UAAU,CAAC,GAAG,CAAC,SAAS,CAAC;YAAI,OAAO,QAAQ,UAAU;QAAI;IAAE,IACpG,QAAQ,UAAU;AAC1B;AAEA,SAAS,QAAQ,QAAQ,EAAE,CAAC;IAC1B,IAAI,KAAK,EAAE,EAAE,EACT,OAAO,EAAE,IAAI,EACb,aAAa,EAAE,UAAU,IAAI,OAAO,CAAC,IAAI,EAAE,UAAU,EACrD,WAAW,OAAO,UAAU;IAChC,OAAO,MAAM,QAAQ,QAAQ,OAAO;QAAC,MAAM;QAAW,YAAY;QAAY,UAAU;IAAQ,IAC1F,QAAQ,OAAO;QAAC,MAAM;QAAW,IAAI;QAAI,YAAY;QAAY,UAAU;IAAQ,IACnF;QAAC,MAAM;QAAW,IAAI;QAAI,MAAM;QAAM,YAAY;QAAY,UAAU;IAAQ;AACxF;AAEO,SAAS,OAAO,QAAQ,EAAE,CAAC;IAChC,IAAI,iBAAiB,CAAA,GAAA,sJAAA,CAAA,UAAS,AAAD,EAAE,SAAS,SAAS,GAC7C,OAAO,SAAS,IAAI;IAExB,SAAS,IAAI,CAAC,EAAE,MAAM;QACpB,IAAI,OAAO,MAAM,EAAE,OAAO,GAAG;QAC7B,IAAK,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,EAAE,EAAE,IAAI,GAAG,IAAI,EAAE,MAAM,EAAE,IAAI,GAAG,EAAE,EAAG;YAClE,OAAO,IAAI,CAAC,eAAe,CAAC,CAAC,EAAE,EAAE;QACnC;QACA,IAAI,IAAI,GAAG,CAAA,GAAA,oJAAA,CAAA,UAAO,AAAD,EAAE,QAAQ;IAC7B;IAEA,SAAS,MAAM,CAAC;QACd,OAAO,eAAe;IACxB;IAEA,SAAS,KAAK,IAAI;QAChB,IAAI,SAAS,EAAE;QACf,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,IAAI,GAAG,EAAE,EAAG,IAAI,IAAI,CAAC,EAAE,EAAE;QAC1D,IAAI,OAAO,MAAM,GAAG,GAAG,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,kDAAkD;QACjG,OAAO;IACT;IAEA,SAAS,KAAK,IAAI;QAChB,IAAI,SAAS,KAAK;QAClB,MAAO,OAAO,MAAM,GAAG,EAAG,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,iDAAiD;QACnG,OAAO;IACT;IAEA,SAAS,QAAQ,IAAI;QACnB,OAAO,KAAK,GAAG,CAAC;IAClB;IAEA,SAAS,SAAS,CAAC;QACjB,IAAI,OAAO,EAAE,IAAI,EAAE;QACnB,OAAQ;YACN,KAAK;gBAAsB,OAAO;oBAAC,MAAM;oBAAM,YAAY,EAAE,UAAU,CAAC,GAAG,CAAC;gBAAS;YACrF,KAAK;gBAAS,cAAc,MAAM,EAAE,WAAW;gBAAG;YAClD,KAAK;gBAAc,cAAc,EAAE,WAAW,CAAC,GAAG,CAAC;gBAAQ;YAC3D,KAAK;gBAAc,cAAc,KAAK,EAAE,IAAI;gBAAG;YAC/C,KAAK;gBAAmB,cAAc,EAAE,IAAI,CAAC,GAAG,CAAC;gBAAO;YACxD,KAAK;gBAAW,cAAc,QAAQ,EAAE,IAAI;gBAAG;YAC/C,KAAK;gBAAgB,cAAc,EAAE,IAAI,CAAC,GAAG,CAAC;gBAAU;YACxD;gBAAS,OAAO;QAClB;QACA,OAAO;YAAC,MAAM;YAAM,aAAa;QAAW;IAC9C;IAEA,OAAO,SAAS;AAClB","ignoreList":[0]}},
    {"offset": {"line": 4805, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4811, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-client/src/stitch.js"],"sourcesContent":["export default function(topology, arcs) {\n  var stitchedArcs = {},\n      fragmentByStart = {},\n      fragmentByEnd = {},\n      fragments = [],\n      emptyIndex = -1;\n\n  // Stitch empty arcs first, since they may be subsumed by other arcs.\n  arcs.forEach(function(i, j) {\n    var arc = topology.arcs[i < 0 ? ~i : i], t;\n    if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n      t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n    }\n  });\n\n  arcs.forEach(function(i) {\n    var e = ends(i),\n        start = e[0],\n        end = e[1],\n        f, g;\n\n    if (f = fragmentByEnd[start]) {\n      delete fragmentByEnd[f.end];\n      f.push(i);\n      f.end = end;\n      if (g = fragmentByStart[end]) {\n        delete fragmentByStart[g.start];\n        var fg = g === f ? f : f.concat(g);\n        fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else if (f = fragmentByStart[end]) {\n      delete fragmentByStart[f.start];\n      f.unshift(i);\n      f.start = start;\n      if (g = fragmentByEnd[start]) {\n        delete fragmentByEnd[g.end];\n        var gf = g === f ? f : g.concat(f);\n        fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else {\n      f = [i];\n      fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n    }\n  });\n\n  function ends(i) {\n    var arc = topology.arcs[i < 0 ? ~i : i], p0 = arc[0], p1;\n    if (topology.transform) p1 = [0, 0], arc.forEach(function(dp) { p1[0] += dp[0], p1[1] += dp[1]; });\n    else p1 = arc[arc.length - 1];\n    return i < 0 ? [p1, p0] : [p0, p1];\n  }\n\n  function flush(fragmentByEnd, fragmentByStart) {\n    for (var k in fragmentByEnd) {\n      var f = fragmentByEnd[k];\n      delete fragmentByStart[f.start];\n      delete f.start;\n      delete f.end;\n      f.forEach(function(i) { stitchedArcs[i < 0 ? ~i : i] = 1; });\n      fragments.push(f);\n    }\n  }\n\n  flush(fragmentByEnd, fragmentByStart);\n  flush(fragmentByStart, fragmentByEnd);\n  arcs.forEach(function(i) { if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]); });\n\n  return fragments;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4892, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4898, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-client/src/mesh.js"],"sourcesContent":["import {object} from \"./feature.js\";\nimport stitch from \"./stitch.js\";\n\nexport default function(topology) {\n  return object(topology, meshArcs.apply(this, arguments));\n}\n\nexport function meshArcs(topology, object, filter) {\n  var arcs, i, n;\n  if (arguments.length > 1) arcs = extractArcs(topology, object, filter);\n  else for (i = 0, arcs = new Array(n = topology.arcs.length); i < n; ++i) arcs[i] = i;\n  return {type: \"MultiLineString\", arcs: stitch(topology, arcs)};\n}\n\nfunction extractArcs(topology, object, filter) {\n  var arcs = [],\n      geomsByArc = [],\n      geom;\n\n  function extract0(i) {\n    var j = i < 0 ? ~i : i;\n    (geomsByArc[j] || (geomsByArc[j] = [])).push({i: i, g: geom});\n  }\n\n  function extract1(arcs) {\n    arcs.forEach(extract0);\n  }\n\n  function extract2(arcs) {\n    arcs.forEach(extract1);\n  }\n\n  function extract3(arcs) {\n    arcs.forEach(extract2);\n  }\n\n  function geometry(o) {\n    switch (geom = o, o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"LineString\": extract1(o.arcs); break;\n      case \"MultiLineString\": case \"Polygon\": extract2(o.arcs); break;\n      case \"MultiPolygon\": extract3(o.arcs); break;\n    }\n  }\n\n  geometry(object);\n\n  geomsByArc.forEach(filter == null\n      ? function(geoms) { arcs.push(geoms[0].i); }\n      : function(geoms) { if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i); });\n\n  return arcs;\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEe,wCAAS,QAAQ;IAC9B,OAAO,CAAA,GAAA,oJAAA,CAAA,SAAM,AAAD,EAAE,UAAU,SAAS,KAAK,CAAC,IAAI,EAAE;AAC/C;AAEO,SAAS,SAAS,QAAQ,EAAE,MAAM,EAAE,MAAM;IAC/C,IAAI,MAAM,GAAG;IACb,IAAI,UAAU,MAAM,GAAG,GAAG,OAAO,YAAY,UAAU,QAAQ;SAC1D,IAAK,IAAI,GAAG,OAAO,IAAI,MAAM,IAAI,SAAS,IAAI,CAAC,MAAM,GAAG,IAAI,GAAG,EAAE,EAAG,IAAI,CAAC,EAAE,GAAG;IACnF,OAAO;QAAC,MAAM;QAAmB,MAAM,CAAA,GAAA,mJAAA,CAAA,UAAM,AAAD,EAAE,UAAU;IAAK;AAC/D;AAEA,SAAS,YAAY,QAAQ,EAAE,MAAM,EAAE,MAAM;IAC3C,IAAI,OAAO,EAAE,EACT,aAAa,EAAE,EACf;IAEJ,SAAS,SAAS,CAAC;QACjB,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI;QACrB,CAAC,UAAU,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC;YAAC,GAAG;YAAG,GAAG;QAAI;IAC7D;IAEA,SAAS,SAAS,IAAI;QACpB,KAAK,OAAO,CAAC;IACf;IAEA,SAAS,SAAS,IAAI;QACpB,KAAK,OAAO,CAAC;IACf;IAEA,SAAS,SAAS,IAAI;QACpB,KAAK,OAAO,CAAC;IACf;IAEA,SAAS,SAAS,CAAC;QACjB,OAAQ,OAAO,GAAG,EAAE,IAAI;YACtB,KAAK;gBAAsB,EAAE,UAAU,CAAC,OAAO,CAAC;gBAAW;YAC3D,KAAK;gBAAc,SAAS,EAAE,IAAI;gBAAG;YACrC,KAAK;YAAmB,KAAK;gBAAW,SAAS,EAAE,IAAI;gBAAG;YAC1D,KAAK;gBAAgB,SAAS,EAAE,IAAI;gBAAG;QACzC;IACF;IAEA,SAAS;IAET,WAAW,OAAO,CAAC,UAAU,OACvB,SAAS,KAAK;QAAI,KAAK,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;IAAG,IACzC,SAAS,KAAK;QAAI,IAAI,OAAO,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,MAAM,GAAG,EAAE,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;IAAG;IAElG,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 4961, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4967, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-client/src/merge.js"],"sourcesContent":["import {object} from \"./feature.js\";\nimport stitch from \"./stitch.js\";\n\nfunction planarRingArea(ring) {\n  var i = -1, n = ring.length, a, b = ring[n - 1], area = 0;\n  while (++i < n) a = b, b = ring[i], area += a[0] * b[1] - a[1] * b[0];\n  return Math.abs(area); // Note: doubled area!\n}\n\nexport default function(topology) {\n  return object(topology, mergeArcs.apply(this, arguments));\n}\n\nexport function mergeArcs(topology, objects) {\n  var polygonsByArc = {},\n      polygons = [],\n      groups = [];\n\n  objects.forEach(geometry);\n\n  function geometry(o) {\n    switch (o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"Polygon\": extract(o.arcs); break;\n      case \"MultiPolygon\": o.arcs.forEach(extract); break;\n    }\n  }\n\n  function extract(polygon) {\n    polygon.forEach(function(ring) {\n      ring.forEach(function(arc) {\n        (polygonsByArc[arc = arc < 0 ? ~arc : arc] || (polygonsByArc[arc] = [])).push(polygon);\n      });\n    });\n    polygons.push(polygon);\n  }\n\n  function area(ring) {\n    return planarRingArea(object(topology, {type: \"Polygon\", arcs: [ring]}).coordinates[0]);\n  }\n\n  polygons.forEach(function(polygon) {\n    if (!polygon._) {\n      var group = [],\n          neighbors = [polygon];\n      polygon._ = 1;\n      groups.push(group);\n      while (polygon = neighbors.pop()) {\n        group.push(polygon);\n        polygon.forEach(function(ring) {\n          ring.forEach(function(arc) {\n            polygonsByArc[arc < 0 ? ~arc : arc].forEach(function(polygon) {\n              if (!polygon._) {\n                polygon._ = 1;\n                neighbors.push(polygon);\n              }\n            });\n          });\n        });\n      }\n    }\n  });\n\n  polygons.forEach(function(polygon) {\n    delete polygon._;\n  });\n\n  return {\n    type: \"MultiPolygon\",\n    arcs: groups.map(function(polygons) {\n      var arcs = [], n;\n\n      // Extract the exterior (unique) arcs.\n      polygons.forEach(function(polygon) {\n        polygon.forEach(function(ring) {\n          ring.forEach(function(arc) {\n            if (polygonsByArc[arc < 0 ? ~arc : arc].length < 2) {\n              arcs.push(arc);\n            }\n          });\n        });\n      });\n\n      // Stitch the arcs into one or more rings.\n      arcs = stitch(topology, arcs);\n\n      // If more than one ring is returned,\n      // at most one of these rings can be the exterior;\n      // choose the one with the greatest absolute area.\n      if ((n = arcs.length) > 1) {\n        for (var i = 1, k = area(arcs[0]), ki, t; i < n; ++i) {\n          if ((ki = area(arcs[i])) > k) {\n            t = arcs[0], arcs[0] = arcs[i], arcs[i] = t, k = ki;\n          }\n        }\n      }\n\n      return arcs;\n    }).filter(function(arcs) {\n      return arcs.length > 0;\n    })\n  };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5072, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5078, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-client/src/bisect.js"],"sourcesContent":["export default function(a, x) {\n  var lo = 0, hi = a.length;\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n    if (a[mid] < x) lo = mid + 1;\n    else hi = mid;\n  }\n  return lo;\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,CAAC,EAAE,CAAC;IAC1B,IAAI,KAAK,GAAG,KAAK,EAAE,MAAM;IACzB,MAAO,KAAK,GAAI;QACd,IAAI,MAAM,KAAK,OAAO;QACtB,IAAI,CAAC,CAAC,IAAI,GAAG,GAAG,KAAK,MAAM;aACtB,KAAK;IACZ;IACA,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 5090, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5096, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-client/src/neighbors.js"],"sourcesContent":["import bisect from \"./bisect.js\";\n\nexport default function(objects) {\n  var indexesByArc = {}, // arc index -> array of object indexes\n      neighbors = objects.map(function() { return []; });\n\n  function line(arcs, i) {\n    arcs.forEach(function(a) {\n      if (a < 0) a = ~a;\n      var o = indexesByArc[a];\n      if (o) o.push(i);\n      else indexesByArc[a] = [i];\n    });\n  }\n\n  function polygon(arcs, i) {\n    arcs.forEach(function(arc) { line(arc, i); });\n  }\n\n  function geometry(o, i) {\n    if (o.type === \"GeometryCollection\") o.geometries.forEach(function(o) { geometry(o, i); });\n    else if (o.type in geometryType) geometryType[o.type](o.arcs, i);\n  }\n\n  var geometryType = {\n    LineString: line,\n    MultiLineString: polygon,\n    Polygon: polygon,\n    MultiPolygon: function(arcs, i) { arcs.forEach(function(arc) { polygon(arc, i); }); }\n  };\n\n  objects.forEach(geometry);\n\n  for (var i in indexesByArc) {\n    for (var indexes = indexesByArc[i], m = indexes.length, j = 0; j < m; ++j) {\n      for (var k = j + 1; k < m; ++k) {\n        var ij = indexes[j], ik = indexes[k], n;\n        if ((n = neighbors[ij])[i = bisect(n, ik)] !== ik) n.splice(i, 0, ik);\n        if ((n = neighbors[ik])[i = bisect(n, ij)] !== ij) n.splice(i, 0, ij);\n      }\n    }\n  }\n\n  return neighbors;\n}\n"],"names":[],"mappings":";;;AAAA;;AAEe,wCAAS,OAAO;IAC7B,IAAI,eAAe,CAAC,GAChB,YAAY,QAAQ,GAAG,CAAC;QAAa,OAAO,EAAE;IAAE;IAEpD,SAAS,KAAK,IAAI,EAAE,CAAC;QACnB,KAAK,OAAO,CAAC,SAAS,CAAC;YACrB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,IAAI,YAAY,CAAC,EAAE;YACvB,IAAI,GAAG,EAAE,IAAI,CAAC;iBACT,YAAY,CAAC,EAAE,GAAG;gBAAC;aAAE;QAC5B;IACF;IAEA,SAAS,QAAQ,IAAI,EAAE,CAAC;QACtB,KAAK,OAAO,CAAC,SAAS,GAAG;YAAI,KAAK,KAAK;QAAI;IAC7C;IAEA,SAAS,SAAS,CAAC,EAAE,CAAC;QACpB,IAAI,EAAE,IAAI,KAAK,sBAAsB,EAAE,UAAU,CAAC,OAAO,CAAC,SAAS,CAAC;YAAI,SAAS,GAAG;QAAI;aACnF,IAAI,EAAE,IAAI,IAAI,cAAc,YAAY,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,EAAE;IAChE;IAEA,IAAI,eAAe;QACjB,YAAY;QACZ,iBAAiB;QACjB,SAAS;QACT,cAAc,SAAS,IAAI,EAAE,CAAC;YAAI,KAAK,OAAO,CAAC,SAAS,GAAG;gBAAI,QAAQ,KAAK;YAAI;QAAI;IACtF;IAEA,QAAQ,OAAO,CAAC;IAEhB,IAAK,IAAI,KAAK,aAAc;QAC1B,IAAK,IAAI,UAAU,YAAY,CAAC,EAAE,EAAE,IAAI,QAAQ,MAAM,EAAE,IAAI,GAAG,IAAI,GAAG,EAAE,EAAG;YACzE,IAAK,IAAI,IAAI,IAAI,GAAG,IAAI,GAAG,EAAE,EAAG;gBAC9B,IAAI,KAAK,OAAO,CAAC,EAAE,EAAE,KAAK,OAAO,CAAC,EAAE,EAAE;gBACtC,IAAI,CAAC,IAAI,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,CAAA,GAAA,mJAAA,CAAA,UAAM,AAAD,EAAE,GAAG,IAAI,KAAK,IAAI,EAAE,MAAM,CAAC,GAAG,GAAG;gBAClE,IAAI,CAAC,IAAI,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,CAAA,GAAA,mJAAA,CAAA,UAAM,AAAD,EAAE,GAAG,IAAI,KAAK,IAAI,EAAE,MAAM,CAAC,GAAG,GAAG;YACpE;QACF;IACF;IAEA,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 5148, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5154, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-client/src/untransform.js"],"sourcesContent":["import identity from \"./identity.js\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2,\n        n = input.length,\n        output = new Array(n),\n        x1 = Math.round((input[0] - dx) / kx),\n        y1 = Math.round((input[1] - dy) / ky);\n    output[0] = x1 - x0, x0 = x1;\n    output[1] = y1 - y0, y0 = y1;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n"],"names":[],"mappings":";;;AAAA;;AAEe,wCAAS,SAAS;IAC/B,IAAI,aAAa,MAAM,OAAO,qJAAA,CAAA,UAAQ;IACtC,IAAI,IACA,IACA,KAAK,UAAU,KAAK,CAAC,EAAE,EACvB,KAAK,UAAU,KAAK,CAAC,EAAE,EACvB,KAAK,UAAU,SAAS,CAAC,EAAE,EAC3B,KAAK,UAAU,SAAS,CAAC,EAAE;IAC/B,OAAO,SAAS,KAAK,EAAE,CAAC;QACtB,IAAI,CAAC,GAAG,KAAK,KAAK;QAClB,IAAI,IAAI,GACJ,IAAI,MAAM,MAAM,EAChB,SAAS,IAAI,MAAM,IACnB,KAAK,KAAK,KAAK,CAAC,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE,IAAI,KAClC,KAAK,KAAK,KAAK,CAAC,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE,IAAI;QACtC,MAAM,CAAC,EAAE,GAAG,KAAK,IAAI,KAAK;QAC1B,MAAM,CAAC,EAAE,GAAG,KAAK,IAAI,KAAK;QAC1B,MAAO,IAAI,EAAG,MAAM,CAAC,EAAE,GAAG,KAAK,CAAC,EAAE,EAAE,EAAE;QACtC,OAAO;IACT;AACF","ignoreList":[0]}},
    {"offset": {"line": 5171, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5177, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-client/src/quantize.js"],"sourcesContent":["import bbox from \"./bbox.js\";\nimport untransform from \"./untransform.js\";\n\nexport default function(topology, transform) {\n  if (topology.transform) throw new Error(\"already quantized\");\n\n  if (!transform || !transform.scale) {\n    if (!((n = Math.floor(transform)) >= 2)) throw new Error(\"n must be ≥2\");\n    box = topology.bbox || bbox(topology);\n    var x0 = box[0], y0 = box[1], x1 = box[2], y1 = box[3], n;\n    transform = {scale: [x1 - x0 ? (x1 - x0) / (n - 1) : 1, y1 - y0 ? (y1 - y0) / (n - 1) : 1], translate: [x0, y0]};\n  } else {\n    box = topology.bbox;\n  }\n\n  var t = untransform(transform), box, key, inputs = topology.objects, outputs = {};\n\n  function quantizePoint(point) {\n    return t(point);\n  }\n\n  function quantizeGeometry(input) {\n    var output;\n    switch (input.type) {\n      case \"GeometryCollection\": output = {type: \"GeometryCollection\", geometries: input.geometries.map(quantizeGeometry)}; break;\n      case \"Point\": output = {type: \"Point\", coordinates: quantizePoint(input.coordinates)}; break;\n      case \"MultiPoint\": output = {type: \"MultiPoint\", coordinates: input.coordinates.map(quantizePoint)}; break;\n      default: return input;\n    }\n    if (input.id != null) output.id = input.id;\n    if (input.bbox != null) output.bbox = input.bbox;\n    if (input.properties != null) output.properties = input.properties;\n    return output;\n  }\n\n  function quantizeArc(input) {\n    var i = 0, j = 1, n = input.length, p, output = new Array(n); // pessimistic\n    output[0] = t(input[0], 0);\n    while (++i < n) if ((p = t(input[i], i))[0] || p[1]) output[j++] = p; // non-coincident points\n    if (j === 1) output[j++] = [0, 0]; // an arc must have at least two points\n    output.length = j;\n    return output;\n  }\n\n  for (key in inputs) outputs[key] = quantizeGeometry(inputs[key]);\n\n  return {\n    type: \"Topology\",\n    bbox: box,\n    transform: transform,\n    objects: outputs,\n    arcs: topology.arcs.map(quantizeArc)\n  };\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEe,wCAAS,QAAQ,EAAE,SAAS;IACzC,IAAI,SAAS,SAAS,EAAE,MAAM,IAAI,MAAM;IAExC,IAAI,CAAC,aAAa,CAAC,UAAU,KAAK,EAAE;QAClC,IAAI,CAAC,CAAC,CAAC,IAAI,KAAK,KAAK,CAAC,UAAU,KAAK,CAAC,GAAG,MAAM,IAAI,MAAM;QACzD,MAAM,SAAS,IAAI,IAAI,CAAA,GAAA,iJAAA,CAAA,UAAI,AAAD,EAAE;QAC5B,IAAI,KAAK,GAAG,CAAC,EAAE,EAAE,KAAK,GAAG,CAAC,EAAE,EAAE,KAAK,GAAG,CAAC,EAAE,EAAE,KAAK,GAAG,CAAC,EAAE,EAAE;QACxD,YAAY;YAAC,OAAO;gBAAC,KAAK,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI;gBAAG,KAAK,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI;aAAE;YAAE,WAAW;gBAAC;gBAAI;aAAG;QAAA;IACjH,OAAO;QACL,MAAM,SAAS,IAAI;IACrB;IAEA,IAAI,IAAI,CAAA,GAAA,wJAAA,CAAA,UAAW,AAAD,EAAE,YAAY,KAAK,KAAK,SAAS,SAAS,OAAO,EAAE,UAAU,CAAC;IAEhF,SAAS,cAAc,KAAK;QAC1B,OAAO,EAAE;IACX;IAEA,SAAS,iBAAiB,KAAK;QAC7B,IAAI;QACJ,OAAQ,MAAM,IAAI;YAChB,KAAK;gBAAsB,SAAS;oBAAC,MAAM;oBAAsB,YAAY,MAAM,UAAU,CAAC,GAAG,CAAC;gBAAiB;gBAAG;YACtH,KAAK;gBAAS,SAAS;oBAAC,MAAM;oBAAS,aAAa,cAAc,MAAM,WAAW;gBAAC;gBAAG;YACvF,KAAK;gBAAc,SAAS;oBAAC,MAAM;oBAAc,aAAa,MAAM,WAAW,CAAC,GAAG,CAAC;gBAAc;gBAAG;YACrG;gBAAS,OAAO;QAClB;QACA,IAAI,MAAM,EAAE,IAAI,MAAM,OAAO,EAAE,GAAG,MAAM,EAAE;QAC1C,IAAI,MAAM,IAAI,IAAI,MAAM,OAAO,IAAI,GAAG,MAAM,IAAI;QAChD,IAAI,MAAM,UAAU,IAAI,MAAM,OAAO,UAAU,GAAG,MAAM,UAAU;QAClE,OAAO;IACT;IAEA,SAAS,YAAY,KAAK;QACxB,IAAI,IAAI,GAAG,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,GAAG,SAAS,IAAI,MAAM,IAAI,cAAc;QAC5E,MAAM,CAAC,EAAE,GAAG,EAAE,KAAK,CAAC,EAAE,EAAE;QACxB,MAAO,EAAE,IAAI,EAAG,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,IAAI,GAAG,GAAG,wBAAwB;QAC9F,IAAI,MAAM,GAAG,MAAM,CAAC,IAAI,GAAG;YAAC;YAAG;SAAE,EAAE,uCAAuC;QAC1E,OAAO,MAAM,GAAG;QAChB,OAAO;IACT;IAEA,IAAK,OAAO,OAAQ,OAAO,CAAC,IAAI,GAAG,iBAAiB,MAAM,CAAC,IAAI;IAE/D,OAAO;QACL,MAAM;QACN,MAAM;QACN,WAAW;QACX,SAAS;QACT,MAAM,SAAS,IAAI,CAAC,GAAG,CAAC;IAC1B;AACF","ignoreList":[0]}},
    {"offset": {"line": 5256, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5262, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 5271, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5303, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-server/src/object.js"],"sourcesContent":["export var hasOwnProperty = Object.prototype.hasOwnProperty;\n"],"names":[],"mappings":";;;AAAO,IAAI,iBAAiB,OAAO,SAAS,CAAC,cAAc","ignoreList":[0]}},
    {"offset": {"line": 5307, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5313, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-server/src/bounds.js"],"sourcesContent":["import {hasOwnProperty} from \"./object.js\";\n\n// Computes the bounding box of the specified hash of GeoJSON objects.\nexport default function(objects) {\n  var x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  function boundGeometry(geometry) {\n    if (geometry != null && hasOwnProperty.call(boundGeometryType, geometry.type)) boundGeometryType[geometry.type](geometry);\n  }\n\n  var boundGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(boundGeometry); },\n    Point: function(o) { boundPoint(o.coordinates); },\n    MultiPoint: function(o) { o.coordinates.forEach(boundPoint); },\n    LineString: function(o) { boundLine(o.arcs); },\n    MultiLineString: function(o) { o.arcs.forEach(boundLine); },\n    Polygon: function(o) { o.arcs.forEach(boundLine); },\n    MultiPolygon: function(o) { o.arcs.forEach(boundMultiLine); }\n  };\n\n  function boundPoint(coordinates) {\n    var x = coordinates[0],\n        y = coordinates[1];\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  function boundLine(coordinates) {\n    coordinates.forEach(boundPoint);\n  }\n\n  function boundMultiLine(coordinates) {\n    coordinates.forEach(boundLine);\n  }\n\n  for (var key in objects) {\n    boundGeometry(objects[key]);\n  }\n\n  return x1 >= x0 && y1 >= y0 ? [x0, y0, x1, y1] : undefined;\n}\n"],"names":[],"mappings":";;;AAAA;;AAGe,wCAAS,OAAO;IAC7B,IAAI,KAAK,UACL,KAAK,UACL,KAAK,CAAC,UACN,KAAK,CAAC;IAEV,SAAS,cAAc,QAAQ;QAC7B,IAAI,YAAY,QAAQ,mJAAA,CAAA,iBAAc,CAAC,IAAI,CAAC,mBAAmB,SAAS,IAAI,GAAG,iBAAiB,CAAC,SAAS,IAAI,CAAC,CAAC;IAClH;IAEA,IAAI,oBAAoB;QACtB,oBAAoB,SAAS,CAAC;YAAI,EAAE,UAAU,CAAC,OAAO,CAAC;QAAgB;QACvE,OAAO,SAAS,CAAC;YAAI,WAAW,EAAE,WAAW;QAAG;QAChD,YAAY,SAAS,CAAC;YAAI,EAAE,WAAW,CAAC,OAAO,CAAC;QAAa;QAC7D,YAAY,SAAS,CAAC;YAAI,UAAU,EAAE,IAAI;QAAG;QAC7C,iBAAiB,SAAS,CAAC;YAAI,EAAE,IAAI,CAAC,OAAO,CAAC;QAAY;QAC1D,SAAS,SAAS,CAAC;YAAI,EAAE,IAAI,CAAC,OAAO,CAAC;QAAY;QAClD,cAAc,SAAS,CAAC;YAAI,EAAE,IAAI,CAAC,OAAO,CAAC;QAAiB;IAC9D;IAEA,SAAS,WAAW,WAAW;QAC7B,IAAI,IAAI,WAAW,CAAC,EAAE,EAClB,IAAI,WAAW,CAAC,EAAE;QACtB,IAAI,IAAI,IAAI,KAAK;QACjB,IAAI,IAAI,IAAI,KAAK;QACjB,IAAI,IAAI,IAAI,KAAK;QACjB,IAAI,IAAI,IAAI,KAAK;IACnB;IAEA,SAAS,UAAU,WAAW;QAC5B,YAAY,OAAO,CAAC;IACtB;IAEA,SAAS,eAAe,WAAW;QACjC,YAAY,OAAO,CAAC;IACtB;IAEA,IAAK,IAAI,OAAO,QAAS;QACvB,cAAc,OAAO,CAAC,IAAI;IAC5B;IAEA,OAAO,MAAM,MAAM,MAAM,KAAK;QAAC;QAAI;QAAI;QAAI;KAAG,GAAG;AACnD","ignoreList":[0]}},
    {"offset": {"line": 5369, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5375, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-server/src/hash/hashset.js"],"sourcesContent":["export default function(size, hash, equal, type, empty) {\n  if (arguments.length === 3) {\n    type = Array;\n    empty = null;\n  }\n\n  var store = new type(size = 1 << Math.max(4, Math.ceil(Math.log(size) / Math.LN2))),\n      mask = size - 1;\n\n  for (var i = 0; i < size; ++i) {\n    store[i] = empty;\n  }\n\n  function add(value) {\n    var index = hash(value) & mask,\n        match = store[index],\n        collisions = 0;\n    while (match != empty) {\n      if (equal(match, value)) return true;\n      if (++collisions >= size) throw new Error(\"full hashset\");\n      match = store[index = (index + 1) & mask];\n    }\n    store[index] = value;\n    return true;\n  }\n\n  function has(value) {\n    var index = hash(value) & mask,\n        match = store[index],\n        collisions = 0;\n    while (match != empty) {\n      if (equal(match, value)) return true;\n      if (++collisions >= size) break;\n      match = store[index = (index + 1) & mask];\n    }\n    return false;\n  }\n\n  function values() {\n    var values = [];\n    for (var i = 0, n = store.length; i < n; ++i) {\n      var match = store[i];\n      if (match != empty) values.push(match);\n    }\n    return values;\n  }\n\n  return {\n    add: add,\n    has: has,\n    values: values\n  };\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK;IACpD,IAAI,UAAU,MAAM,KAAK,GAAG;QAC1B,OAAO;QACP,QAAQ;IACV;IAEA,IAAI,QAAQ,IAAI,KAAK,OAAO,KAAK,KAAK,GAAG,CAAC,GAAG,KAAK,IAAI,CAAC,KAAK,GAAG,CAAC,QAAQ,KAAK,GAAG,KAC5E,OAAO,OAAO;IAElB,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,EAAE,EAAG;QAC7B,KAAK,CAAC,EAAE,GAAG;IACb;IAEA,SAAS,IAAI,KAAK;QAChB,IAAI,QAAQ,KAAK,SAAS,MACtB,QAAQ,KAAK,CAAC,MAAM,EACpB,aAAa;QACjB,MAAO,SAAS,MAAO;YACrB,IAAI,MAAM,OAAO,QAAQ,OAAO;YAChC,IAAI,EAAE,cAAc,MAAM,MAAM,IAAI,MAAM;YAC1C,QAAQ,KAAK,CAAC,QAAQ,AAAC,QAAQ,IAAK,KAAK;QAC3C;QACA,KAAK,CAAC,MAAM,GAAG;QACf,OAAO;IACT;IAEA,SAAS,IAAI,KAAK;QAChB,IAAI,QAAQ,KAAK,SAAS,MACtB,QAAQ,KAAK,CAAC,MAAM,EACpB,aAAa;QACjB,MAAO,SAAS,MAAO;YACrB,IAAI,MAAM,OAAO,QAAQ,OAAO;YAChC,IAAI,EAAE,cAAc,MAAM;YAC1B,QAAQ,KAAK,CAAC,QAAQ,AAAC,QAAQ,IAAK,KAAK;QAC3C;QACA,OAAO;IACT;IAEA,SAAS;QACP,IAAI,SAAS,EAAE;QACf,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAI,GAAG,EAAE,EAAG;YAC5C,IAAI,QAAQ,KAAK,CAAC,EAAE;YACpB,IAAI,SAAS,OAAO,OAAO,IAAI,CAAC;QAClC;QACA,OAAO;IACT;IAEA,OAAO;QACL,KAAK;QACL,KAAK;QACL,QAAQ;IACV;AACF","ignoreList":[0]}},
    {"offset": {"line": 5420, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5426, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-server/src/hash/hashmap.js"],"sourcesContent":["export default function(size, hash, equal, keyType, keyEmpty, valueType) {\n  if (arguments.length === 3) {\n    keyType = valueType = Array;\n    keyEmpty = null;\n  }\n\n  var keystore = new keyType(size = 1 << Math.max(4, Math.ceil(Math.log(size) / Math.LN2))),\n      valstore = new valueType(size),\n      mask = size - 1;\n\n  for (var i = 0; i < size; ++i) {\n    keystore[i] = keyEmpty;\n  }\n\n  function set(key, value) {\n    var index = hash(key) & mask,\n        matchKey = keystore[index],\n        collisions = 0;\n    while (matchKey != keyEmpty) {\n      if (equal(matchKey, key)) return valstore[index] = value;\n      if (++collisions >= size) throw new Error(\"full hashmap\");\n      matchKey = keystore[index = (index + 1) & mask];\n    }\n    keystore[index] = key;\n    valstore[index] = value;\n    return value;\n  }\n\n  function maybeSet(key, value) {\n    var index = hash(key) & mask,\n        matchKey = keystore[index],\n        collisions = 0;\n    while (matchKey != keyEmpty) {\n      if (equal(matchKey, key)) return valstore[index];\n      if (++collisions >= size) throw new Error(\"full hashmap\");\n      matchKey = keystore[index = (index + 1) & mask];\n    }\n    keystore[index] = key;\n    valstore[index] = value;\n    return value;\n  }\n\n  function get(key, missingValue) {\n    var index = hash(key) & mask,\n        matchKey = keystore[index],\n        collisions = 0;\n    while (matchKey != keyEmpty) {\n      if (equal(matchKey, key)) return valstore[index];\n      if (++collisions >= size) break;\n      matchKey = keystore[index = (index + 1) & mask];\n    }\n    return missingValue;\n  }\n\n  function keys() {\n    var keys = [];\n    for (var i = 0, n = keystore.length; i < n; ++i) {\n      var matchKey = keystore[i];\n      if (matchKey != keyEmpty) keys.push(matchKey);\n    }\n    return keys;\n  }\n\n  return {\n    set: set,\n    maybeSet: maybeSet, // set if unset\n    get: get,\n    keys: keys\n  };\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS;IACrE,IAAI,UAAU,MAAM,KAAK,GAAG;QAC1B,UAAU,YAAY;QACtB,WAAW;IACb;IAEA,IAAI,WAAW,IAAI,QAAQ,OAAO,KAAK,KAAK,GAAG,CAAC,GAAG,KAAK,IAAI,CAAC,KAAK,GAAG,CAAC,QAAQ,KAAK,GAAG,KAClF,WAAW,IAAI,UAAU,OACzB,OAAO,OAAO;IAElB,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,EAAE,EAAG;QAC7B,QAAQ,CAAC,EAAE,GAAG;IAChB;IAEA,SAAS,IAAI,GAAG,EAAE,KAAK;QACrB,IAAI,QAAQ,KAAK,OAAO,MACpB,WAAW,QAAQ,CAAC,MAAM,EAC1B,aAAa;QACjB,MAAO,YAAY,SAAU;YAC3B,IAAI,MAAM,UAAU,MAAM,OAAO,QAAQ,CAAC,MAAM,GAAG;YACnD,IAAI,EAAE,cAAc,MAAM,MAAM,IAAI,MAAM;YAC1C,WAAW,QAAQ,CAAC,QAAQ,AAAC,QAAQ,IAAK,KAAK;QACjD;QACA,QAAQ,CAAC,MAAM,GAAG;QAClB,QAAQ,CAAC,MAAM,GAAG;QAClB,OAAO;IACT;IAEA,SAAS,SAAS,GAAG,EAAE,KAAK;QAC1B,IAAI,QAAQ,KAAK,OAAO,MACpB,WAAW,QAAQ,CAAC,MAAM,EAC1B,aAAa;QACjB,MAAO,YAAY,SAAU;YAC3B,IAAI,MAAM,UAAU,MAAM,OAAO,QAAQ,CAAC,MAAM;YAChD,IAAI,EAAE,cAAc,MAAM,MAAM,IAAI,MAAM;YAC1C,WAAW,QAAQ,CAAC,QAAQ,AAAC,QAAQ,IAAK,KAAK;QACjD;QACA,QAAQ,CAAC,MAAM,GAAG;QAClB,QAAQ,CAAC,MAAM,GAAG;QAClB,OAAO;IACT;IAEA,SAAS,IAAI,GAAG,EAAE,YAAY;QAC5B,IAAI,QAAQ,KAAK,OAAO,MACpB,WAAW,QAAQ,CAAC,MAAM,EAC1B,aAAa;QACjB,MAAO,YAAY,SAAU;YAC3B,IAAI,MAAM,UAAU,MAAM,OAAO,QAAQ,CAAC,MAAM;YAChD,IAAI,EAAE,cAAc,MAAM;YAC1B,WAAW,QAAQ,CAAC,QAAQ,AAAC,QAAQ,IAAK,KAAK;QACjD;QACA,OAAO;IACT;IAEA,SAAS;QACP,IAAI,OAAO,EAAE;QACb,IAAK,IAAI,IAAI,GAAG,IAAI,SAAS,MAAM,EAAE,IAAI,GAAG,EAAE,EAAG;YAC/C,IAAI,WAAW,QAAQ,CAAC,EAAE;YAC1B,IAAI,YAAY,UAAU,KAAK,IAAI,CAAC;QACtC;QACA,OAAO;IACT;IAEA,OAAO;QACL,KAAK;QACL,UAAU;QACV,KAAK;QACL,MAAM;IACR;AACF","ignoreList":[0]}},
    {"offset": {"line": 5484, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5490, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-server/src/hash/point-equal.js"],"sourcesContent":["export default function(pointA, pointB) {\n  return pointA[0] === pointB[0] && pointA[1] === pointB[1];\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,MAAM,EAAE,MAAM;IACpC,OAAO,MAAM,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,IAAI,MAAM,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE;AAC3D","ignoreList":[0]}},
    {"offset": {"line": 5496, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5502, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-server/src/hash/point-hash.js"],"sourcesContent":["// TODO if quantized, use simpler Int32 hashing?\n\nvar buffer = new ArrayBuffer(16),\n    floats = new Float64Array(buffer),\n    uints = new Uint32Array(buffer);\n\nexport default function(point) {\n  floats[0] = point[0];\n  floats[1] = point[1];\n  var hash = uints[0] ^ uints[1];\n  hash = hash << 5 ^ hash >> 7 ^ uints[2] ^ uints[3];\n  return hash & 0x7fffffff;\n}\n"],"names":[],"mappings":"AAAA,gDAAgD;;;;AAEhD,IAAI,SAAS,IAAI,YAAY,KACzB,SAAS,IAAI,aAAa,SAC1B,QAAQ,IAAI,YAAY;AAEb,wCAAS,KAAK;IAC3B,MAAM,CAAC,EAAE,GAAG,KAAK,CAAC,EAAE;IACpB,MAAM,CAAC,EAAE,GAAG,KAAK,CAAC,EAAE;IACpB,IAAI,OAAO,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,EAAE;IAC9B,OAAO,QAAQ,IAAI,QAAQ,IAAI,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,EAAE;IAClD,OAAO,OAAO;AAChB","ignoreList":[0]}},
    {"offset": {"line": 5514, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5520, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-server/src/join.js"],"sourcesContent":["import hashset from \"./hash/hashset.js\";\nimport hashmap from \"./hash/hashmap.js\";\nimport equalPoint from \"./hash/point-equal.js\";\nimport hashPoint from \"./hash/point-hash.js\";\n\n// Given an extracted (pre-)topology, identifies all of the junctions. These are\n// the points at which arcs (lines or rings) will need to be cut so that each\n// arc is represented uniquely.\n//\n// A junction is a point where at least one arc deviates from another arc going\n// through the same point. For example, consider the point B. If there is a arc\n// through ABC and another arc through CBA, then B is not a junction because in\n// both cases the adjacent point pairs are {A,C}. However, if there is an\n// additional arc ABD, then {A,D} != {A,C}, and thus B becomes a junction.\n//\n// For a closed ring ABCA, the first point A’s adjacent points are the second\n// and last point {B,C}. For a line, the first and last point are always\n// considered junctions, even if the line is closed; this ensures that a closed\n// line is never rotated.\nexport default function(topology) {\n  var coordinates = topology.coordinates,\n      lines = topology.lines,\n      rings = topology.rings,\n      indexes = index(),\n      visitedByIndex = new Int32Array(coordinates.length),\n      leftByIndex = new Int32Array(coordinates.length),\n      rightByIndex = new Int32Array(coordinates.length),\n      junctionByIndex = new Int8Array(coordinates.length),\n      junctionCount = 0, // upper bound on number of junctions\n      i, n,\n      previousIndex,\n      currentIndex,\n      nextIndex;\n\n  for (i = 0, n = coordinates.length; i < n; ++i) {\n    visitedByIndex[i] = leftByIndex[i] = rightByIndex[i] = -1;\n  }\n\n  for (i = 0, n = lines.length; i < n; ++i) {\n    var line = lines[i],\n        lineStart = line[0],\n        lineEnd = line[1];\n    currentIndex = indexes[lineStart];\n    nextIndex = indexes[++lineStart];\n    ++junctionCount, junctionByIndex[currentIndex] = 1; // start\n    while (++lineStart <= lineEnd) {\n      sequence(i, previousIndex = currentIndex, currentIndex = nextIndex, nextIndex = indexes[lineStart]);\n    }\n    ++junctionCount, junctionByIndex[nextIndex] = 1; // end\n  }\n\n  for (i = 0, n = coordinates.length; i < n; ++i) {\n    visitedByIndex[i] = -1;\n  }\n\n  for (i = 0, n = rings.length; i < n; ++i) {\n    var ring = rings[i],\n        ringStart = ring[0] + 1,\n        ringEnd = ring[1];\n    previousIndex = indexes[ringEnd - 1];\n    currentIndex = indexes[ringStart - 1];\n    nextIndex = indexes[ringStart];\n    sequence(i, previousIndex, currentIndex, nextIndex);\n    while (++ringStart <= ringEnd) {\n      sequence(i, previousIndex = currentIndex, currentIndex = nextIndex, nextIndex = indexes[ringStart]);\n    }\n  }\n\n  function sequence(i, previousIndex, currentIndex, nextIndex) {\n    if (visitedByIndex[currentIndex] === i) return; // ignore self-intersection\n    visitedByIndex[currentIndex] = i;\n    var leftIndex = leftByIndex[currentIndex];\n    if (leftIndex >= 0) {\n      var rightIndex = rightByIndex[currentIndex];\n      if ((leftIndex !== previousIndex || rightIndex !== nextIndex)\n        && (leftIndex !== nextIndex || rightIndex !== previousIndex)) {\n        ++junctionCount, junctionByIndex[currentIndex] = 1;\n      }\n    } else {\n      leftByIndex[currentIndex] = previousIndex;\n      rightByIndex[currentIndex] = nextIndex;\n    }\n  }\n\n  function index() {\n    var indexByPoint = hashmap(coordinates.length * 1.4, hashIndex, equalIndex, Int32Array, -1, Int32Array),\n        indexes = new Int32Array(coordinates.length);\n\n    for (var i = 0, n = coordinates.length; i < n; ++i) {\n      indexes[i] = indexByPoint.maybeSet(i, i);\n    }\n\n    return indexes;\n  }\n\n  function hashIndex(i) {\n    return hashPoint(coordinates[i]);\n  }\n\n  function equalIndex(i, j) {\n    return equalPoint(coordinates[i], coordinates[j]);\n  }\n\n  visitedByIndex = leftByIndex = rightByIndex = null;\n\n  var junctionByPoint = hashset(junctionCount * 1.4, hashPoint, equalPoint), j;\n\n  // Convert back to a standard hashset by point for caller convenience.\n  for (i = 0, n = coordinates.length; i < n; ++i) {\n    if (junctionByIndex[j = indexes[i]]) {\n      junctionByPoint.add(coordinates[j]);\n    }\n  }\n\n  return junctionByPoint;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5596, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5602, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-server/src/cut.js"],"sourcesContent":["import join from \"./join.js\";\n\n// Given an extracted (pre-)topology, cuts (or rotates) arcs so that all shared\n// point sequences are identified. The topology can then be subsequently deduped\n// to remove exact duplicate arcs.\nexport default function(topology) {\n  var junctions = join(topology),\n      coordinates = topology.coordinates,\n      lines = topology.lines,\n      rings = topology.rings,\n      next,\n      i, n;\n\n  for (i = 0, n = lines.length; i < n; ++i) {\n    var line = lines[i],\n        lineMid = line[0],\n        lineEnd = line[1];\n    while (++lineMid < lineEnd) {\n      if (junctions.has(coordinates[lineMid])) {\n        next = {0: lineMid, 1: line[1]};\n        line[1] = lineMid;\n        line = line.next = next;\n      }\n    }\n  }\n\n  for (i = 0, n = rings.length; i < n; ++i) {\n    var ring = rings[i],\n        ringStart = ring[0],\n        ringMid = ringStart,\n        ringEnd = ring[1],\n        ringFixed = junctions.has(coordinates[ringStart]);\n    while (++ringMid < ringEnd) {\n      if (junctions.has(coordinates[ringMid])) {\n        if (ringFixed) {\n          next = {0: ringMid, 1: ring[1]};\n          ring[1] = ringMid;\n          ring = ring.next = next;\n        } else { // For the first junction, we can rotate rather than cut.\n          rotateArray(coordinates, ringStart, ringEnd, ringEnd - ringMid);\n          coordinates[ringEnd] = coordinates[ringStart];\n          ringFixed = true;\n          ringMid = ringStart; // restart; we may have skipped junctions\n        }\n      }\n    }\n  }\n\n  return topology;\n}\n\nfunction rotateArray(array, start, end, offset) {\n  reverse(array, start, end);\n  reverse(array, start, start + offset);\n  reverse(array, start + offset, end);\n}\n\nfunction reverse(array, start, end) {\n  for (var mid = start + ((end-- - start) >> 1), t; start < mid; ++start, --end) {\n    t = array[start], array[start] = array[end], array[end] = t;\n  }\n}\n"],"names":[],"mappings":";;;AAAA;;AAKe,wCAAS,QAAQ;IAC9B,IAAI,YAAY,CAAA,GAAA,iJAAA,CAAA,UAAI,AAAD,EAAE,WACjB,cAAc,SAAS,WAAW,EAClC,QAAQ,SAAS,KAAK,EACtB,QAAQ,SAAS,KAAK,EACtB,MACA,GAAG;IAEP,IAAK,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAI,GAAG,EAAE,EAAG;QACxC,IAAI,OAAO,KAAK,CAAC,EAAE,EACf,UAAU,IAAI,CAAC,EAAE,EACjB,UAAU,IAAI,CAAC,EAAE;QACrB,MAAO,EAAE,UAAU,QAAS;YAC1B,IAAI,UAAU,GAAG,CAAC,WAAW,CAAC,QAAQ,GAAG;gBACvC,OAAO;oBAAC,GAAG;oBAAS,GAAG,IAAI,CAAC,EAAE;gBAAA;gBAC9B,IAAI,CAAC,EAAE,GAAG;gBACV,OAAO,KAAK,IAAI,GAAG;YACrB;QACF;IACF;IAEA,IAAK,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAI,GAAG,EAAE,EAAG;QACxC,IAAI,OAAO,KAAK,CAAC,EAAE,EACf,YAAY,IAAI,CAAC,EAAE,EACnB,UAAU,WACV,UAAU,IAAI,CAAC,EAAE,EACjB,YAAY,UAAU,GAAG,CAAC,WAAW,CAAC,UAAU;QACpD,MAAO,EAAE,UAAU,QAAS;YAC1B,IAAI,UAAU,GAAG,CAAC,WAAW,CAAC,QAAQ,GAAG;gBACvC,IAAI,WAAW;oBACb,OAAO;wBAAC,GAAG;wBAAS,GAAG,IAAI,CAAC,EAAE;oBAAA;oBAC9B,IAAI,CAAC,EAAE,GAAG;oBACV,OAAO,KAAK,IAAI,GAAG;gBACrB,OAAO;oBACL,YAAY,aAAa,WAAW,SAAS,UAAU;oBACvD,WAAW,CAAC,QAAQ,GAAG,WAAW,CAAC,UAAU;oBAC7C,YAAY;oBACZ,UAAU,WAAW,yCAAyC;gBAChE;YACF;QACF;IACF;IAEA,OAAO;AACT;AAEA,SAAS,YAAY,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;IAC5C,QAAQ,OAAO,OAAO;IACtB,QAAQ,OAAO,OAAO,QAAQ;IAC9B,QAAQ,OAAO,QAAQ,QAAQ;AACjC;AAEA,SAAS,QAAQ,KAAK,EAAE,KAAK,EAAE,GAAG;IAChC,IAAK,IAAI,MAAM,QAAQ,CAAC,AAAC,QAAQ,SAAU,CAAC,GAAG,GAAG,QAAQ,KAAK,EAAE,OAAO,EAAE,IAAK;QAC7E,IAAI,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,GAAG;IAC5D;AACF","ignoreList":[0]}},
    {"offset": {"line": 5654, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5660, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-server/src/dedup.js"],"sourcesContent":["import hashmap from \"./hash/hashmap.js\";\nimport equalPoint from \"./hash/point-equal.js\";\nimport hashPoint from \"./hash/point-hash.js\";\n\n// Given a cut topology, combines duplicate arcs.\nexport default function(topology) {\n  var coordinates = topology.coordinates,\n      lines = topology.lines, line,\n      rings = topology.rings, ring,\n      arcCount = lines.length + rings.length,\n      i, n;\n\n  delete topology.lines;\n  delete topology.rings;\n\n  // Count the number of (non-unique) arcs to initialize the hashmap safely.\n  for (i = 0, n = lines.length; i < n; ++i) {\n    line = lines[i]; while (line = line.next) ++arcCount;\n  }\n  for (i = 0, n = rings.length; i < n; ++i) {\n    ring = rings[i]; while (ring = ring.next) ++arcCount;\n  }\n\n  var arcsByEnd = hashmap(arcCount * 2 * 1.4, hashPoint, equalPoint),\n      arcs = topology.arcs = [];\n\n  for (i = 0, n = lines.length; i < n; ++i) {\n    line = lines[i];\n    do {\n      dedupLine(line);\n    } while (line = line.next);\n  }\n\n  for (i = 0, n = rings.length; i < n; ++i) {\n    ring = rings[i];\n    if (ring.next) { // arc is no longer closed\n      do {\n        dedupLine(ring);\n      } while (ring = ring.next);\n    } else {\n      dedupRing(ring);\n    }\n  }\n\n  function dedupLine(arc) {\n    var startPoint,\n        endPoint,\n        startArcs, startArc,\n        endArcs, endArc,\n        i, n;\n\n    // Does this arc match an existing arc in order?\n    if (startArcs = arcsByEnd.get(startPoint = coordinates[arc[0]])) {\n      for (i = 0, n = startArcs.length; i < n; ++i) {\n        startArc = startArcs[i];\n        if (equalLine(startArc, arc)) {\n          arc[0] = startArc[0];\n          arc[1] = startArc[1];\n          return;\n        }\n      }\n    }\n\n    // Does this arc match an existing arc in reverse order?\n    if (endArcs = arcsByEnd.get(endPoint = coordinates[arc[1]])) {\n      for (i = 0, n = endArcs.length; i < n; ++i) {\n        endArc = endArcs[i];\n        if (reverseEqualLine(endArc, arc)) {\n          arc[1] = endArc[0];\n          arc[0] = endArc[1];\n          return;\n        }\n      }\n    }\n\n    if (startArcs) startArcs.push(arc); else arcsByEnd.set(startPoint, [arc]);\n    if (endArcs) endArcs.push(arc); else arcsByEnd.set(endPoint, [arc]);\n    arcs.push(arc);\n  }\n\n  function dedupRing(arc) {\n    var endPoint,\n        endArcs,\n        endArc,\n        i, n;\n\n    // Does this arc match an existing line in order, or reverse order?\n    // Rings are closed, so their start point and end point is the same.\n    if (endArcs = arcsByEnd.get(endPoint = coordinates[arc[0]])) {\n      for (i = 0, n = endArcs.length; i < n; ++i) {\n        endArc = endArcs[i];\n        if (equalRing(endArc, arc)) {\n          arc[0] = endArc[0];\n          arc[1] = endArc[1];\n          return;\n        }\n        if (reverseEqualRing(endArc, arc)) {\n          arc[0] = endArc[1];\n          arc[1] = endArc[0];\n          return;\n        }\n      }\n    }\n\n    // Otherwise, does this arc match an existing ring in order, or reverse order?\n    if (endArcs = arcsByEnd.get(endPoint = coordinates[arc[0] + findMinimumOffset(arc)])) {\n      for (i = 0, n = endArcs.length; i < n; ++i) {\n        endArc = endArcs[i];\n        if (equalRing(endArc, arc)) {\n          arc[0] = endArc[0];\n          arc[1] = endArc[1];\n          return;\n        }\n        if (reverseEqualRing(endArc, arc)) {\n          arc[0] = endArc[1];\n          arc[1] = endArc[0];\n          return;\n        }\n      }\n    }\n\n    if (endArcs) endArcs.push(arc); else arcsByEnd.set(endPoint, [arc]);\n    arcs.push(arc);\n  }\n\n  function equalLine(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1];\n    if (ia - ja !== ib - jb) return false;\n    for (; ia <= ja; ++ia, ++ib) if (!equalPoint(coordinates[ia], coordinates[ib])) return false;\n    return true;\n  }\n\n  function reverseEqualLine(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1];\n    if (ia - ja !== ib - jb) return false;\n    for (; ia <= ja; ++ia, --jb) if (!equalPoint(coordinates[ia], coordinates[jb])) return false;\n    return true;\n  }\n\n  function equalRing(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1],\n        n = ja - ia;\n    if (n !== jb - ib) return false;\n    var ka = findMinimumOffset(arcA),\n        kb = findMinimumOffset(arcB);\n    for (var i = 0; i < n; ++i) {\n      if (!equalPoint(coordinates[ia + (i + ka) % n], coordinates[ib + (i + kb) % n])) return false;\n    }\n    return true;\n  }\n\n  function reverseEqualRing(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1],\n        n = ja - ia;\n    if (n !== jb - ib) return false;\n    var ka = findMinimumOffset(arcA),\n        kb = n - findMinimumOffset(arcB);\n    for (var i = 0; i < n; ++i) {\n      if (!equalPoint(coordinates[ia + (i + ka) % n], coordinates[jb - (i + kb) % n])) return false;\n    }\n    return true;\n  }\n\n  // Rings are rotated to a consistent, but arbitrary, start point.\n  // This is necessary to detect when a ring and a rotated copy are dupes.\n  function findMinimumOffset(arc) {\n    var start = arc[0],\n        end = arc[1],\n        mid = start,\n        minimum = mid,\n        minimumPoint = coordinates[mid];\n    while (++mid < end) {\n      var point = coordinates[mid];\n      if (point[0] < minimumPoint[0] || point[0] === minimumPoint[0] && point[1] < minimumPoint[1]) {\n        minimum = mid;\n        minimumPoint = point;\n      }\n    }\n    return minimum - start;\n  }\n\n  return topology;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5819, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5825, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-server/src/delta.js"],"sourcesContent":["// Given an array of arcs in absolute (but already quantized!) coordinates,\n// converts to fixed-point delta encoding.\n// This is a destructive operation that modifies the given arcs!\nexport default function(arcs) {\n  var i = -1,\n      n = arcs.length;\n\n  while (++i < n) {\n    var arc = arcs[i],\n        j = 0,\n        k = 1,\n        m = arc.length,\n        point = arc[0],\n        x0 = point[0],\n        y0 = point[1],\n        x1,\n        y1;\n\n    while (++j < m) {\n      point = arc[j], x1 = point[0], y1 = point[1];\n      if (x1 !== x0 || y1 !== y0) arc[k++] = [x1 - x0, y1 - y0], x0 = x1, y0 = y1;\n    }\n\n    if (k === 1) arc[k++] = [0, 0]; // Each arc must be an array of two or more positions.\n\n    arc.length = k;\n  }\n\n  return arcs;\n}\n"],"names":[],"mappings":"AAAA,2EAA2E;AAC3E,0CAA0C;AAC1C,gEAAgE;;;;AACjD,wCAAS,IAAI;IAC1B,IAAI,IAAI,CAAC,GACL,IAAI,KAAK,MAAM;IAEnB,MAAO,EAAE,IAAI,EAAG;QACd,IAAI,MAAM,IAAI,CAAC,EAAE,EACb,IAAI,GACJ,IAAI,GACJ,IAAI,IAAI,MAAM,EACd,QAAQ,GAAG,CAAC,EAAE,EACd,KAAK,KAAK,CAAC,EAAE,EACb,KAAK,KAAK,CAAC,EAAE,EACb,IACA;QAEJ,MAAO,EAAE,IAAI,EAAG;YACd,QAAQ,GAAG,CAAC,EAAE,EAAE,KAAK,KAAK,CAAC,EAAE,EAAE,KAAK,KAAK,CAAC,EAAE;YAC5C,IAAI,OAAO,MAAM,OAAO,IAAI,GAAG,CAAC,IAAI,GAAG;gBAAC,KAAK;gBAAI,KAAK;aAAG,EAAE,KAAK,IAAI,KAAK;QAC3E;QAEA,IAAI,MAAM,GAAG,GAAG,CAAC,IAAI,GAAG;YAAC;YAAG;SAAE,EAAE,sDAAsD;QAEtF,IAAI,MAAM,GAAG;IACf;IAEA,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 5850, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5856, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-server/src/extract.js"],"sourcesContent":["import {hasOwnProperty} from \"./object.js\";\n\n// Extracts the lines and rings from the specified hash of geometry objects.\n//\n// Returns an object with three properties:\n//\n// * coordinates - shared buffer of [x, y] coordinates\n// * lines - lines extracted from the hash, of the form [start, end]\n// * rings - rings extracted from the hash, of the form [start, end]\n//\n// For each ring or line, start and end represent inclusive indexes into the\n// coordinates buffer. For rings (and closed lines), coordinates[start] equals\n// coordinates[end].\n//\n// For each line or polygon geometry in the input hash, including nested\n// geometries as in geometry collections, the `coordinates` array is replaced\n// with an equivalent `arcs` array that, for each line (for line string\n// geometries) or ring (for polygon geometries), points to one of the above\n// lines or rings.\nexport default function(objects) {\n  var index = -1,\n      lines = [],\n      rings = [],\n      coordinates = [];\n\n  function extractGeometry(geometry) {\n    if (geometry && hasOwnProperty.call(extractGeometryType, geometry.type)) extractGeometryType[geometry.type](geometry);\n  }\n\n  var extractGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(extractGeometry); },\n    LineString: function(o) { o.arcs = extractLine(o.arcs); },\n    MultiLineString: function(o) { o.arcs = o.arcs.map(extractLine); },\n    Polygon: function(o) { o.arcs = o.arcs.map(extractRing); },\n    MultiPolygon: function(o) { o.arcs = o.arcs.map(extractMultiRing); }\n  };\n\n  function extractLine(line) {\n    for (var i = 0, n = line.length; i < n; ++i) coordinates[++index] = line[i];\n    var arc = {0: index - n + 1, 1: index};\n    lines.push(arc);\n    return arc;\n  }\n\n  function extractRing(ring) {\n    for (var i = 0, n = ring.length; i < n; ++i) coordinates[++index] = ring[i];\n    var arc = {0: index - n + 1, 1: index};\n    rings.push(arc);\n    return arc;\n  }\n\n  function extractMultiRing(rings) {\n    return rings.map(extractRing);\n  }\n\n  for (var key in objects) {\n    extractGeometry(objects[key]);\n  }\n\n  return {\n    type: \"Topology\",\n    coordinates: coordinates,\n    lines: lines,\n    rings: rings,\n    objects: objects\n  };\n}\n"],"names":[],"mappings":";;;AAAA;;AAmBe,wCAAS,OAAO;IAC7B,IAAI,QAAQ,CAAC,GACT,QAAQ,EAAE,EACV,QAAQ,EAAE,EACV,cAAc,EAAE;IAEpB,SAAS,gBAAgB,QAAQ;QAC/B,IAAI,YAAY,mJAAA,CAAA,iBAAc,CAAC,IAAI,CAAC,qBAAqB,SAAS,IAAI,GAAG,mBAAmB,CAAC,SAAS,IAAI,CAAC,CAAC;IAC9G;IAEA,IAAI,sBAAsB;QACxB,oBAAoB,SAAS,CAAC;YAAI,EAAE,UAAU,CAAC,OAAO,CAAC;QAAkB;QACzE,YAAY,SAAS,CAAC;YAAI,EAAE,IAAI,GAAG,YAAY,EAAE,IAAI;QAAG;QACxD,iBAAiB,SAAS,CAAC;YAAI,EAAE,IAAI,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC;QAAc;QACjE,SAAS,SAAS,CAAC;YAAI,EAAE,IAAI,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC;QAAc;QACzD,cAAc,SAAS,CAAC;YAAI,EAAE,IAAI,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC;QAAmB;IACrE;IAEA,SAAS,YAAY,IAAI;QACvB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,IAAI,GAAG,EAAE,EAAG,WAAW,CAAC,EAAE,MAAM,GAAG,IAAI,CAAC,EAAE;QAC3E,IAAI,MAAM;YAAC,GAAG,QAAQ,IAAI;YAAG,GAAG;QAAK;QACrC,MAAM,IAAI,CAAC;QACX,OAAO;IACT;IAEA,SAAS,YAAY,IAAI;QACvB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,IAAI,GAAG,EAAE,EAAG,WAAW,CAAC,EAAE,MAAM,GAAG,IAAI,CAAC,EAAE;QAC3E,IAAI,MAAM;YAAC,GAAG,QAAQ,IAAI;YAAG,GAAG;QAAK;QACrC,MAAM,IAAI,CAAC;QACX,OAAO;IACT;IAEA,SAAS,iBAAiB,KAAK;QAC7B,OAAO,MAAM,GAAG,CAAC;IACnB;IAEA,IAAK,IAAI,OAAO,QAAS;QACvB,gBAAgB,OAAO,CAAC,IAAI;IAC9B;IAEA,OAAO;QACL,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,SAAS;IACX;AACF","ignoreList":[0]}},
    {"offset": {"line": 5915, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5921, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-server/src/geometry.js"],"sourcesContent":["// Given a hash of GeoJSON objects, returns a hash of GeoJSON geometry objects.\n// Any null input geometry objects are represented as {type: null} in the output.\n// Any feature.{id,properties,bbox} are transferred to the output geometry object.\n// Each output geometry object is a shallow copy of the input (e.g., properties, coordinates)!\nexport default function(inputs) {\n  var outputs = {}, key;\n  for (key in inputs) outputs[key] = geomifyObject(inputs[key]);\n  return outputs;\n}\n\nfunction geomifyObject(input) {\n  return input == null ? {type: null}\n      : (input.type === \"FeatureCollection\" ? geomifyFeatureCollection\n      : input.type === \"Feature\" ? geomifyFeature\n      : geomifyGeometry)(input);\n}\n\nfunction geomifyFeatureCollection(input) {\n  var output = {type: \"GeometryCollection\", geometries: input.features.map(geomifyFeature)};\n  if (input.bbox != null) output.bbox = input.bbox;\n  return output;\n}\n\nfunction geomifyFeature(input) {\n  var output = geomifyGeometry(input.geometry), key; // eslint-disable-line no-unused-vars\n  if (input.id != null) output.id = input.id;\n  if (input.bbox != null) output.bbox = input.bbox;\n  for (key in input.properties) { output.properties = input.properties; break; }\n  return output;\n}\n\nfunction geomifyGeometry(input) {\n  if (input == null) return {type: null};\n  var output = input.type === \"GeometryCollection\" ? {type: \"GeometryCollection\", geometries: input.geometries.map(geomifyGeometry)}\n      : input.type === \"Point\" || input.type === \"MultiPoint\" ? {type: input.type, coordinates: input.coordinates}\n      : {type: input.type, arcs: input.coordinates}; // TODO Check for unknown types?\n  if (input.bbox != null) output.bbox = input.bbox;\n  return output;\n}\n"],"names":[],"mappings":"AAAA,+EAA+E;AAC/E,iFAAiF;AACjF,kFAAkF;AAClF,8FAA8F;;;;AAC/E,wCAAS,MAAM;IAC5B,IAAI,UAAU,CAAC,GAAG;IAClB,IAAK,OAAO,OAAQ,OAAO,CAAC,IAAI,GAAG,cAAc,MAAM,CAAC,IAAI;IAC5D,OAAO;AACT;AAEA,SAAS,cAAc,KAAK;IAC1B,OAAO,SAAS,OAAO;QAAC,MAAM;IAAI,IAC5B,CAAC,MAAM,IAAI,KAAK,sBAAsB,2BACtC,MAAM,IAAI,KAAK,YAAY,iBAC3B,eAAe,EAAE;AACzB;AAEA,SAAS,yBAAyB,KAAK;IACrC,IAAI,SAAS;QAAC,MAAM;QAAsB,YAAY,MAAM,QAAQ,CAAC,GAAG,CAAC;IAAe;IACxF,IAAI,MAAM,IAAI,IAAI,MAAM,OAAO,IAAI,GAAG,MAAM,IAAI;IAChD,OAAO;AACT;AAEA,SAAS,eAAe,KAAK;IAC3B,IAAI,SAAS,gBAAgB,MAAM,QAAQ,GAAG,KAAK,qCAAqC;IACxF,IAAI,MAAM,EAAE,IAAI,MAAM,OAAO,EAAE,GAAG,MAAM,EAAE;IAC1C,IAAI,MAAM,IAAI,IAAI,MAAM,OAAO,IAAI,GAAG,MAAM,IAAI;IAChD,IAAK,OAAO,MAAM,UAAU,CAAE;QAAE,OAAO,UAAU,GAAG,MAAM,UAAU;QAAE;IAAO;IAC7E,OAAO;AACT;AAEA,SAAS,gBAAgB,KAAK;IAC5B,IAAI,SAAS,MAAM,OAAO;QAAC,MAAM;IAAI;IACrC,IAAI,SAAS,MAAM,IAAI,KAAK,uBAAuB;QAAC,MAAM;QAAsB,YAAY,MAAM,UAAU,CAAC,GAAG,CAAC;IAAgB,IAC3H,MAAM,IAAI,KAAK,WAAW,MAAM,IAAI,KAAK,eAAe;QAAC,MAAM,MAAM,IAAI;QAAE,aAAa,MAAM,WAAW;IAAA,IACzG;QAAC,MAAM,MAAM,IAAI;QAAE,MAAM,MAAM,WAAW;IAAA,GAAG,gCAAgC;IACnF,IAAI,MAAM,IAAI,IAAI,MAAM,OAAO,IAAI,GAAG,MAAM,IAAI;IAChD,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 5973, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5979, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-server/src/prequantize.js"],"sourcesContent":["import {hasOwnProperty} from \"./object.js\";\n\nexport default function(objects, bbox, n) {\n  var x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3],\n      kx = x1 - x0 ? (n - 1) / (x1 - x0) : 1,\n      ky = y1 - y0 ? (n - 1) / (y1 - y0) : 1;\n\n  function quantizePoint(input) {\n    return [Math.round((input[0] - x0) * kx), Math.round((input[1] - y0) * ky)];\n  }\n\n  function quantizePoints(input, m) {\n    var i = -1,\n        j = 0,\n        n = input.length,\n        output = new Array(n), // pessimistic\n        pi,\n        px,\n        py,\n        x,\n        y;\n\n    while (++i < n) {\n      pi = input[i];\n      x = Math.round((pi[0] - x0) * kx);\n      y = Math.round((pi[1] - y0) * ky);\n      if (x !== px || y !== py) output[j++] = [px = x, py = y]; // non-coincident points\n    }\n\n    output.length = j;\n    while (j < m) j = output.push([output[0][0], output[0][1]]);\n    return output;\n  }\n\n  function quantizeLine(input) {\n    return quantizePoints(input, 2);\n  }\n\n  function quantizeRing(input) {\n    return quantizePoints(input, 4);\n  }\n\n  function quantizePolygon(input) {\n    return input.map(quantizeRing);\n  }\n\n  function quantizeGeometry(o) {\n    if (o != null && hasOwnProperty.call(quantizeGeometryType, o.type)) quantizeGeometryType[o.type](o);\n  }\n\n  var quantizeGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(quantizeGeometry); },\n    Point: function(o) { o.coordinates = quantizePoint(o.coordinates); },\n    MultiPoint: function(o) { o.coordinates = o.coordinates.map(quantizePoint); },\n    LineString: function(o) { o.arcs = quantizeLine(o.arcs); },\n    MultiLineString: function(o) { o.arcs = o.arcs.map(quantizeLine); },\n    Polygon: function(o) { o.arcs = quantizePolygon(o.arcs); },\n    MultiPolygon: function(o) { o.arcs = o.arcs.map(quantizePolygon); }\n  };\n\n  for (var key in objects) {\n    quantizeGeometry(objects[key]);\n  }\n\n  return {\n    scale: [1 / kx, 1 / ky],\n    translate: [x0, y0]\n  };\n}\n"],"names":[],"mappings":";;;AAAA;;AAEe,wCAAS,OAAO,EAAE,IAAI,EAAE,CAAC;IACtC,IAAI,KAAK,IAAI,CAAC,EAAE,EACZ,KAAK,IAAI,CAAC,EAAE,EACZ,KAAK,IAAI,CAAC,EAAE,EACZ,KAAK,IAAI,CAAC,EAAE,EACZ,KAAK,KAAK,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,GACrC,KAAK,KAAK,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI;IAEzC,SAAS,cAAc,KAAK;QAC1B,OAAO;YAAC,KAAK,KAAK,CAAC,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE,IAAI;YAAK,KAAK,KAAK,CAAC,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE,IAAI;SAAI;IAC7E;IAEA,SAAS,eAAe,KAAK,EAAE,CAAC;QAC9B,IAAI,IAAI,CAAC,GACL,IAAI,GACJ,IAAI,MAAM,MAAM,EAChB,SAAS,IAAI,MAAM,IACnB,IACA,IACA,IACA,GACA;QAEJ,MAAO,EAAE,IAAI,EAAG;YACd,KAAK,KAAK,CAAC,EAAE;YACb,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI;YAC9B,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI;YAC9B,IAAI,MAAM,MAAM,MAAM,IAAI,MAAM,CAAC,IAAI,GAAG;gBAAC,KAAK;gBAAG,KAAK;aAAE,EAAE,wBAAwB;QACpF;QAEA,OAAO,MAAM,GAAG;QAChB,MAAO,IAAI,EAAG,IAAI,OAAO,IAAI,CAAC;YAAC,MAAM,CAAC,EAAE,CAAC,EAAE;YAAE,MAAM,CAAC,EAAE,CAAC,EAAE;SAAC;QAC1D,OAAO;IACT;IAEA,SAAS,aAAa,KAAK;QACzB,OAAO,eAAe,OAAO;IAC/B;IAEA,SAAS,aAAa,KAAK;QACzB,OAAO,eAAe,OAAO;IAC/B;IAEA,SAAS,gBAAgB,KAAK;QAC5B,OAAO,MAAM,GAAG,CAAC;IACnB;IAEA,SAAS,iBAAiB,CAAC;QACzB,IAAI,KAAK,QAAQ,mJAAA,CAAA,iBAAc,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,GAAG,oBAAoB,CAAC,EAAE,IAAI,CAAC,CAAC;IACnG;IAEA,IAAI,uBAAuB;QACzB,oBAAoB,SAAS,CAAC;YAAI,EAAE,UAAU,CAAC,OAAO,CAAC;QAAmB;QAC1E,OAAO,SAAS,CAAC;YAAI,EAAE,WAAW,GAAG,cAAc,EAAE,WAAW;QAAG;QACnE,YAAY,SAAS,CAAC;YAAI,EAAE,WAAW,GAAG,EAAE,WAAW,CAAC,GAAG,CAAC;QAAgB;QAC5E,YAAY,SAAS,CAAC;YAAI,EAAE,IAAI,GAAG,aAAa,EAAE,IAAI;QAAG;QACzD,iBAAiB,SAAS,CAAC;YAAI,EAAE,IAAI,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC;QAAe;QAClE,SAAS,SAAS,CAAC;YAAI,EAAE,IAAI,GAAG,gBAAgB,EAAE,IAAI;QAAG;QACzD,cAAc,SAAS,CAAC;YAAI,EAAE,IAAI,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC;QAAkB;IACpE;IAEA,IAAK,IAAI,OAAO,QAAS;QACvB,iBAAiB,OAAO,CAAC,IAAI;IAC/B;IAEA,OAAO;QACL,OAAO;YAAC,IAAI;YAAI,IAAI;SAAG;QACvB,WAAW;YAAC;YAAI;SAAG;IACrB;AACF","ignoreList":[0]}},
    {"offset": {"line": 6059, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6065, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/topojson-server/src/topology.js"],"sourcesContent":["import bounds from \"./bounds.js\";\nimport cut from \"./cut.js\";\nimport dedup from \"./dedup.js\";\nimport delta from \"./delta.js\";\nimport extract from \"./extract.js\";\nimport geometry from \"./geometry.js\";\nimport hashmap from \"./hash/hashmap.js\";\nimport {hasOwnProperty} from \"./object.js\";\nimport prequantize from \"./prequantize.js\";\n\n// Constructs the TopoJSON Topology for the specified hash of features.\n// Each object in the specified hash must be a GeoJSON object,\n// meaning FeatureCollection, a Feature or a geometry object.\nexport default function(objects, quantization) {\n  var bbox = bounds(objects = geometry(objects)),\n      transform = quantization > 0 && bbox && prequantize(objects, bbox, quantization),\n      topology = dedup(cut(extract(objects))),\n      coordinates = topology.coordinates,\n      indexByArc = hashmap(topology.arcs.length * 1.4, hashArc, equalArc);\n\n  objects = topology.objects; // for garbage collection\n  topology.bbox = bbox;\n  topology.arcs = topology.arcs.map(function(arc, i) {\n    indexByArc.set(arc, i);\n    return coordinates.slice(arc[0], arc[1] + 1);\n  });\n\n  delete topology.coordinates;\n  coordinates = null;\n\n  function indexGeometry(geometry) {\n    if (geometry && hasOwnProperty.call(indexGeometryType, geometry.type)) indexGeometryType[geometry.type](geometry);\n  }\n\n  var indexGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(indexGeometry); },\n    LineString: function(o) { o.arcs = indexArcs(o.arcs); },\n    MultiLineString: function(o) { o.arcs = o.arcs.map(indexArcs); },\n    Polygon: function(o) { o.arcs = o.arcs.map(indexArcs); },\n    MultiPolygon: function(o) { o.arcs = o.arcs.map(indexMultiArcs); }\n  };\n\n  function indexArcs(arc) {\n    var indexes = [];\n    do {\n      var index = indexByArc.get(arc);\n      indexes.push(arc[0] < arc[1] ? index : ~index);\n    } while (arc = arc.next);\n    return indexes;\n  }\n\n  function indexMultiArcs(arcs) {\n    return arcs.map(indexArcs);\n  }\n\n  for (var key in objects) {\n    indexGeometry(objects[key]);\n  }\n\n  if (transform) {\n    topology.transform = transform;\n    topology.arcs = delta(topology.arcs);\n  }\n\n  return topology;\n}\n\nfunction hashArc(arc) {\n  var i = arc[0], j = arc[1], t;\n  if (j < i) t = i, i = j, j = t;\n  return i + 31 * j;\n}\n\nfunction equalArc(arcA, arcB) {\n  var ia = arcA[0], ja = arcA[1],\n      ib = arcB[0], jb = arcB[1], t;\n  if (ja < ia) t = ia, ia = ja, ja = t;\n  if (jb < ib) t = ib, ib = jb, jb = t;\n  return ia === ib && ja === jb;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6147, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6153, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 6155, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6180, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/bignumber.js/bignumber.mjs"],"sourcesContent":["/*\r\n *      bignumber.js v9.1.2\r\n *      A JavaScript library for arbitrary-precision arithmetic.\r\n *      https://github.com/MikeMcl/bignumber.js\r\n *      Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *      MIT Licensed.\r\n *\r\n *      BigNumber.prototype methods     |  BigNumber methods\r\n *                                      |\r\n *      absoluteValue            abs    |  clone\r\n *      comparedTo                      |  config               set\r\n *      decimalPlaces            dp     |      DECIMAL_PLACES\r\n *      dividedBy                div    |      ROUNDING_MODE\r\n *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT\r\n *      exponentiatedBy          pow    |      RANGE\r\n *      integerValue                    |      CRYPTO\r\n *      isEqualTo                eq     |      MODULO_MODE\r\n *      isFinite                        |      POW_PRECISION\r\n *      isGreaterThan            gt     |      FORMAT\r\n *      isGreaterThanOrEqualTo   gte    |      ALPHABET\r\n *      isInteger                       |  isBigNumber\r\n *      isLessThan               lt     |  maximum              max\r\n *      isLessThanOrEqualTo      lte    |  minimum              min\r\n *      isNaN                           |  random\r\n *      isNegative                      |  sum\r\n *      isPositive                      |\r\n *      isZero                          |\r\n *      minus                           |\r\n *      modulo                   mod    |\r\n *      multipliedBy             times  |\r\n *      negated                         |\r\n *      plus                            |\r\n *      precision                sd     |\r\n *      shiftedBy                       |\r\n *      squareRoot               sqrt   |\r\n *      toExponential                   |\r\n *      toFixed                         |\r\n *      toFormat                        |\r\n *      toFraction                      |\r\n *      toJSON                          |\r\n *      toNumber                        |\r\n *      toPrecision                     |\r\n *      toString                        |\r\n *      valueOf                         |\r\n *\r\n */\r\n\r\n\r\nvar\r\n  isNumeric = /^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,\r\n  mathceil = Math.ceil,\r\n  mathfloor = Math.floor,\r\n\r\n  bignumberError = '[BigNumber Error] ',\r\n  tooManyDigits = bignumberError + 'Number primitive has more than 15 significant digits: ',\r\n\r\n  BASE = 1e14,\r\n  LOG_BASE = 14,\r\n  MAX_SAFE_INTEGER = 0x1fffffffffffff,         // 2^53 - 1\r\n  // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1\r\n  POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],\r\n  SQRT_BASE = 1e7,\r\n\r\n  // EDITABLE\r\n  // The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and\r\n  // the arguments to toExponential, toFixed, toFormat, and toPrecision.\r\n  MAX = 1E9;                                   // 0 to MAX_INT32\r\n\r\n\r\n/*\r\n * Create and return a BigNumber constructor.\r\n */\r\nfunction clone(configObject) {\r\n  var div, convertBase, parseNumeric,\r\n    P = BigNumber.prototype = { constructor: BigNumber, toString: null, valueOf: null },\r\n    ONE = new BigNumber(1),\r\n\r\n\r\n    //----------------------------- EDITABLE CONFIG DEFAULTS -------------------------------\r\n\r\n\r\n    // The default values below must be integers within the inclusive ranges stated.\r\n    // The values can also be changed at run-time using BigNumber.set.\r\n\r\n    // The maximum number of decimal places for operations involving division.\r\n    DECIMAL_PLACES = 20,                     // 0 to MAX\r\n\r\n    // The rounding mode used when rounding to the above decimal places, and when using\r\n    // toExponential, toFixed, toFormat and toPrecision, and round (default value).\r\n    // UP         0 Away from zero.\r\n    // DOWN       1 Towards zero.\r\n    // CEIL       2 Towards +Infinity.\r\n    // FLOOR      3 Towards -Infinity.\r\n    // HALF_UP    4 Towards nearest neighbour. If equidistant, up.\r\n    // HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\r\n    // HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\r\n    // HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\r\n    // HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\r\n    ROUNDING_MODE = 4,                       // 0 to 8\r\n\r\n    // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]\r\n\r\n    // The exponent value at and beneath which toString returns exponential notation.\r\n    // Number type: -7\r\n    TO_EXP_NEG = -7,                         // 0 to -MAX\r\n\r\n    // The exponent value at and above which toString returns exponential notation.\r\n    // Number type: 21\r\n    TO_EXP_POS = 21,                         // 0 to MAX\r\n\r\n    // RANGE : [MIN_EXP, MAX_EXP]\r\n\r\n    // The minimum exponent value, beneath which underflow to zero occurs.\r\n    // Number type: -324  (5e-324)\r\n    MIN_EXP = -1e7,                          // -1 to -MAX\r\n\r\n    // The maximum exponent value, above which overflow to Infinity occurs.\r\n    // Number type:  308  (1.7976931348623157e+308)\r\n    // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.\r\n    MAX_EXP = 1e7,                           // 1 to MAX\r\n\r\n    // Whether to use cryptographically-secure random number generation, if available.\r\n    CRYPTO = false,                          // true or false\r\n\r\n    // The modulo mode used when calculating the modulus: a mod n.\r\n    // The quotient (q = a / n) is calculated according to the corresponding rounding mode.\r\n    // The remainder (r) is calculated as: r = a - n * q.\r\n    //\r\n    // UP        0 The remainder is positive if the dividend is negative, else is negative.\r\n    // DOWN      1 The remainder has the same sign as the dividend.\r\n    //             This modulo mode is commonly known as 'truncated division' and is\r\n    //             equivalent to (a % n) in JavaScript.\r\n    // FLOOR     3 The remainder has the same sign as the divisor (Python %).\r\n    // HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.\r\n    // EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).\r\n    //             The remainder is always positive.\r\n    //\r\n    // The truncated division, floored division, Euclidian division and IEEE 754 remainder\r\n    // modes are commonly used for the modulus operation.\r\n    // Although the other rounding modes can also be used, they may not give useful results.\r\n    MODULO_MODE = 1,                         // 0 to 9\r\n\r\n    // The maximum number of significant digits of the result of the exponentiatedBy operation.\r\n    // If POW_PRECISION is 0, there will be unlimited significant digits.\r\n    POW_PRECISION = 0,                       // 0 to MAX\r\n\r\n    // The format specification used by the BigNumber.prototype.toFormat method.\r\n    FORMAT = {\r\n      prefix: '',\r\n      groupSize: 3,\r\n      secondaryGroupSize: 0,\r\n      groupSeparator: ',',\r\n      decimalSeparator: '.',\r\n      fractionGroupSize: 0,\r\n      fractionGroupSeparator: '\\xA0',        // non-breaking space\r\n      suffix: ''\r\n    },\r\n\r\n    // The alphabet used for base conversion. It must be at least 2 characters long, with no '+',\r\n    // '-', '.', whitespace, or repeated character.\r\n    // '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_'\r\n    ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyz',\r\n    alphabetHasNormalDecimalDigits = true;\r\n\r\n\r\n  //------------------------------------------------------------------------------------------\r\n\r\n\r\n  // CONSTRUCTOR\r\n\r\n\r\n  /*\r\n   * The BigNumber constructor and exported function.\r\n   * Create and return a new instance of a BigNumber object.\r\n   *\r\n   * v {number|string|BigNumber} A numeric value.\r\n   * [b] {number} The base of v. Integer, 2 to ALPHABET.length inclusive.\r\n   */\r\n  function BigNumber(v, b) {\r\n    var alphabet, c, caseChanged, e, i, isNum, len, str,\r\n      x = this;\r\n\r\n    // Enable constructor call without `new`.\r\n    if (!(x instanceof BigNumber)) return new BigNumber(v, b);\r\n\r\n    if (b == null) {\r\n\r\n      if (v && v._isBigNumber === true) {\r\n        x.s = v.s;\r\n\r\n        if (!v.c || v.e > MAX_EXP) {\r\n          x.c = x.e = null;\r\n        } else if (v.e < MIN_EXP) {\r\n          x.c = [x.e = 0];\r\n        } else {\r\n          x.e = v.e;\r\n          x.c = v.c.slice();\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      if ((isNum = typeof v == 'number') && v * 0 == 0) {\r\n\r\n        // Use `1 / n` to handle minus zero also.\r\n        x.s = 1 / v < 0 ? (v = -v, -1) : 1;\r\n\r\n        // Fast path for integers, where n < 2147483648 (2**31).\r\n        if (v === ~~v) {\r\n          for (e = 0, i = v; i >= 10; i /= 10, e++);\r\n\r\n          if (e > MAX_EXP) {\r\n            x.c = x.e = null;\r\n          } else {\r\n            x.e = e;\r\n            x.c = [v];\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        str = String(v);\r\n      } else {\r\n\r\n        if (!isNumeric.test(str = String(v))) return parseNumeric(x, str, isNum);\r\n\r\n        x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n\r\n      // Exponential form?\r\n      if ((i = str.search(/e/i)) > 0) {\r\n\r\n        // Determine exponent.\r\n        if (e < 0) e = i;\r\n        e += +str.slice(i + 1);\r\n        str = str.substring(0, i);\r\n      } else if (e < 0) {\r\n\r\n        // Integer.\r\n        e = str.length;\r\n      }\r\n\r\n    } else {\r\n\r\n      // '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n      intCheck(b, 2, ALPHABET.length, 'Base');\r\n\r\n      // Allow exponential notation to be used with base 10 argument, while\r\n      // also rounding to DECIMAL_PLACES as with other bases.\r\n      if (b == 10 && alphabetHasNormalDecimalDigits) {\r\n        x = new BigNumber(v);\r\n        return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);\r\n      }\r\n\r\n      str = String(v);\r\n\r\n      if (isNum = typeof v == 'number') {\r\n\r\n        // Avoid potential interpretation of Infinity and NaN as base 44+ values.\r\n        if (v * 0 != 0) return parseNumeric(x, str, isNum, b);\r\n\r\n        x.s = 1 / v < 0 ? (str = str.slice(1), -1) : 1;\r\n\r\n        // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n        if (BigNumber.DEBUG && str.replace(/^0\\.0*|\\./, '').length > 15) {\r\n          throw Error\r\n           (tooManyDigits + v);\r\n        }\r\n      } else {\r\n        x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      alphabet = ALPHABET.slice(0, b);\r\n      e = i = 0;\r\n\r\n      // Check that str is a valid base b number.\r\n      // Don't use RegExp, so alphabet can contain special characters.\r\n      for (len = str.length; i < len; i++) {\r\n        if (alphabet.indexOf(c = str.charAt(i)) < 0) {\r\n          if (c == '.') {\r\n\r\n            // If '.' is not the first character and it has not be found before.\r\n            if (i > e) {\r\n              e = len;\r\n              continue;\r\n            }\r\n          } else if (!caseChanged) {\r\n\r\n            // Allow e.g. hexadecimal 'FF' as well as 'ff'.\r\n            if (str == str.toUpperCase() && (str = str.toLowerCase()) ||\r\n                str == str.toLowerCase() && (str = str.toUpperCase())) {\r\n              caseChanged = true;\r\n              i = -1;\r\n              e = 0;\r\n              continue;\r\n            }\r\n          }\r\n\r\n          return parseNumeric(x, String(v), isNum, b);\r\n        }\r\n      }\r\n\r\n      // Prevent later check for length on converted number.\r\n      isNum = false;\r\n      str = convertBase(str, b, 10, x.s);\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n      else e = str.length;\r\n    }\r\n\r\n    // Determine leading zeros.\r\n    for (i = 0; str.charCodeAt(i) === 48; i++);\r\n\r\n    // Determine trailing zeros.\r\n    for (len = str.length; str.charCodeAt(--len) === 48;);\r\n\r\n    if (str = str.slice(i, ++len)) {\r\n      len -= i;\r\n\r\n      // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n      if (isNum && BigNumber.DEBUG &&\r\n        len > 15 && (v > MAX_SAFE_INTEGER || v !== mathfloor(v))) {\r\n          throw Error\r\n           (tooManyDigits + (x.s * v));\r\n      }\r\n\r\n       // Overflow?\r\n      if ((e = e - i - 1) > MAX_EXP) {\r\n\r\n        // Infinity.\r\n        x.c = x.e = null;\r\n\r\n      // Underflow?\r\n      } else if (e < MIN_EXP) {\r\n\r\n        // Zero.\r\n        x.c = [x.e = 0];\r\n      } else {\r\n        x.e = e;\r\n        x.c = [];\r\n\r\n        // Transform base\r\n\r\n        // e is the base 10 exponent.\r\n        // i is where to slice str to get the first element of the coefficient array.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (e < 0) i += LOG_BASE;  // i < 1\r\n\r\n        if (i < len) {\r\n          if (i) x.c.push(+str.slice(0, i));\r\n\r\n          for (len -= LOG_BASE; i < len;) {\r\n            x.c.push(+str.slice(i, i += LOG_BASE));\r\n          }\r\n\r\n          i = LOG_BASE - (str = str.slice(i)).length;\r\n        } else {\r\n          i -= len;\r\n        }\r\n\r\n        for (; i--; str += '0');\r\n        x.c.push(+str);\r\n      }\r\n    } else {\r\n\r\n      // Zero.\r\n      x.c = [x.e = 0];\r\n    }\r\n  }\r\n\r\n\r\n  // CONSTRUCTOR PROPERTIES\r\n\r\n\r\n  BigNumber.clone = clone;\r\n\r\n  BigNumber.ROUND_UP = 0;\r\n  BigNumber.ROUND_DOWN = 1;\r\n  BigNumber.ROUND_CEIL = 2;\r\n  BigNumber.ROUND_FLOOR = 3;\r\n  BigNumber.ROUND_HALF_UP = 4;\r\n  BigNumber.ROUND_HALF_DOWN = 5;\r\n  BigNumber.ROUND_HALF_EVEN = 6;\r\n  BigNumber.ROUND_HALF_CEIL = 7;\r\n  BigNumber.ROUND_HALF_FLOOR = 8;\r\n  BigNumber.EUCLID = 9;\r\n\r\n\r\n  /*\r\n   * Configure infrequently-changing library-wide settings.\r\n   *\r\n   * Accept an object with the following optional properties (if the value of a property is\r\n   * a number, it must be an integer within the inclusive range stated):\r\n   *\r\n   *   DECIMAL_PLACES   {number}           0 to MAX\r\n   *   ROUNDING_MODE    {number}           0 to 8\r\n   *   EXPONENTIAL_AT   {number|number[]}  -MAX to MAX  or  [-MAX to 0, 0 to MAX]\r\n   *   RANGE            {number|number[]}  -MAX to MAX (not zero)  or  [-MAX to -1, 1 to MAX]\r\n   *   CRYPTO           {boolean}          true or false\r\n   *   MODULO_MODE      {number}           0 to 9\r\n   *   POW_PRECISION       {number}           0 to MAX\r\n   *   ALPHABET         {string}           A string of two or more unique characters which does\r\n   *                                       not contain '.'.\r\n   *   FORMAT           {object}           An object with some of the following properties:\r\n   *     prefix                 {string}\r\n   *     groupSize              {number}\r\n   *     secondaryGroupSize     {number}\r\n   *     groupSeparator         {string}\r\n   *     decimalSeparator       {string}\r\n   *     fractionGroupSize      {number}\r\n   *     fractionGroupSeparator {string}\r\n   *     suffix                 {string}\r\n   *\r\n   * (The values assigned to the above FORMAT object properties are not checked for validity.)\r\n   *\r\n   * E.g.\r\n   * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })\r\n   *\r\n   * Ignore properties/parameters set to null or undefined, except for ALPHABET.\r\n   *\r\n   * Return an object with the properties current values.\r\n   */\r\n  BigNumber.config = BigNumber.set = function (obj) {\r\n    var p, v;\r\n\r\n    if (obj != null) {\r\n\r\n      if (typeof obj == 'object') {\r\n\r\n        // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] DECIMAL_PLACES {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'DECIMAL_PLACES')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          DECIMAL_PLACES = v;\r\n        }\r\n\r\n        // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.\r\n        // '[BigNumber Error] ROUNDING_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'ROUNDING_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 8, p);\r\n          ROUNDING_MODE = v;\r\n        }\r\n\r\n        // EXPONENTIAL_AT {number|number[]}\r\n        // Integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to 0 inclusive, 0 to MAX inclusive].\r\n        // '[BigNumber Error] EXPONENTIAL_AT {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'EXPONENTIAL_AT')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, 0, p);\r\n            intCheck(v[1], 0, MAX, p);\r\n            TO_EXP_NEG = v[0];\r\n            TO_EXP_POS = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);\r\n          }\r\n        }\r\n\r\n        // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].\r\n        // '[BigNumber Error] RANGE {not a primitive number|not an integer|out of range|cannot be zero}: {v}'\r\n        if (obj.hasOwnProperty(p = 'RANGE')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, -1, p);\r\n            intCheck(v[1], 1, MAX, p);\r\n            MIN_EXP = v[0];\r\n            MAX_EXP = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            if (v) {\r\n              MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' cannot be zero: ' + v);\r\n            }\r\n          }\r\n        }\r\n\r\n        // CRYPTO {boolean} true or false.\r\n        // '[BigNumber Error] CRYPTO not true or false: {v}'\r\n        // '[BigNumber Error] crypto unavailable'\r\n        if (obj.hasOwnProperty(p = 'CRYPTO')) {\r\n          v = obj[p];\r\n          if (v === !!v) {\r\n            if (v) {\r\n              if (typeof crypto != 'undefined' && crypto &&\r\n               (crypto.getRandomValues || crypto.randomBytes)) {\r\n                CRYPTO = v;\r\n              } else {\r\n                CRYPTO = !v;\r\n                throw Error\r\n                 (bignumberError + 'crypto unavailable');\r\n              }\r\n            } else {\r\n              CRYPTO = v;\r\n            }\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' not true or false: ' + v);\r\n          }\r\n        }\r\n\r\n        // MODULO_MODE {number} Integer, 0 to 9 inclusive.\r\n        // '[BigNumber Error] MODULO_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'MODULO_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 9, p);\r\n          MODULO_MODE = v;\r\n        }\r\n\r\n        // POW_PRECISION {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] POW_PRECISION {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'POW_PRECISION')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          POW_PRECISION = v;\r\n        }\r\n\r\n        // FORMAT {object}\r\n        // '[BigNumber Error] FORMAT not an object: {v}'\r\n        if (obj.hasOwnProperty(p = 'FORMAT')) {\r\n          v = obj[p];\r\n          if (typeof v == 'object') FORMAT = v;\r\n          else throw Error\r\n           (bignumberError + p + ' not an object: ' + v);\r\n        }\r\n\r\n        // ALPHABET {string}\r\n        // '[BigNumber Error] ALPHABET invalid: {v}'\r\n        if (obj.hasOwnProperty(p = 'ALPHABET')) {\r\n          v = obj[p];\r\n\r\n          // Disallow if less than two characters,\r\n          // or if it contains '+', '-', '.', whitespace, or a repeated character.\r\n          if (typeof v == 'string' && !/^.?$|[+\\-.\\s]|(.).*\\1/.test(v)) {\r\n            alphabetHasNormalDecimalDigits = v.slice(0, 10) == '0123456789';\r\n            ALPHABET = v;\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' invalid: ' + v);\r\n          }\r\n        }\r\n\r\n      } else {\r\n\r\n        // '[BigNumber Error] Object expected: {v}'\r\n        throw Error\r\n         (bignumberError + 'Object expected: ' + obj);\r\n      }\r\n    }\r\n\r\n    return {\r\n      DECIMAL_PLACES: DECIMAL_PLACES,\r\n      ROUNDING_MODE: ROUNDING_MODE,\r\n      EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],\r\n      RANGE: [MIN_EXP, MAX_EXP],\r\n      CRYPTO: CRYPTO,\r\n      MODULO_MODE: MODULO_MODE,\r\n      POW_PRECISION: POW_PRECISION,\r\n      FORMAT: FORMAT,\r\n      ALPHABET: ALPHABET\r\n    };\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if v is a BigNumber instance, otherwise return false.\r\n   *\r\n   * If BigNumber.DEBUG is true, throw if a BigNumber instance is not well-formed.\r\n   *\r\n   * v {any}\r\n   *\r\n   * '[BigNumber Error] Invalid BigNumber: {v}'\r\n   */\r\n  BigNumber.isBigNumber = function (v) {\r\n    if (!v || v._isBigNumber !== true) return false;\r\n    if (!BigNumber.DEBUG) return true;\r\n\r\n    var i, n,\r\n      c = v.c,\r\n      e = v.e,\r\n      s = v.s;\r\n\r\n    out: if ({}.toString.call(c) == '[object Array]') {\r\n\r\n      if ((s === 1 || s === -1) && e >= -MAX && e <= MAX && e === mathfloor(e)) {\r\n\r\n        // If the first element is zero, the BigNumber value must be zero.\r\n        if (c[0] === 0) {\r\n          if (e === 0 && c.length === 1) return true;\r\n          break out;\r\n        }\r\n\r\n        // Calculate number of digits that c[0] should have, based on the exponent.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (i < 1) i += LOG_BASE;\r\n\r\n        // Calculate number of digits of c[0].\r\n        //if (Math.ceil(Math.log(c[0] + 1) / Math.LN10) == i) {\r\n        if (String(c[0]).length == i) {\r\n\r\n          for (i = 0; i < c.length; i++) {\r\n            n = c[i];\r\n            if (n < 0 || n >= BASE || n !== mathfloor(n)) break out;\r\n          }\r\n\r\n          // Last element cannot be zero, unless it is the only element.\r\n          if (n !== 0) return true;\r\n        }\r\n      }\r\n\r\n    // Infinity/NaN\r\n    } else if (c === null && e === null && (s === null || s === 1 || s === -1)) {\r\n      return true;\r\n    }\r\n\r\n    throw Error\r\n      (bignumberError + 'Invalid BigNumber: ' + v);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the maximum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.maximum = BigNumber.max = function () {\r\n    return maxOrMin(arguments, -1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the minimum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.minimum = BigNumber.min = function () {\r\n    return maxOrMin(arguments, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,\r\n   * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing\r\n   * zeros are produced).\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp}'\r\n   * '[BigNumber Error] crypto unavailable'\r\n   */\r\n  BigNumber.random = (function () {\r\n    var pow2_53 = 0x20000000000000;\r\n\r\n    // Return a 53 bit integer n, where 0 <= n < 9007199254740992.\r\n    // Check if Math.random() produces more than 32 bits of randomness.\r\n    // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.\r\n    // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.\r\n    var random53bitInt = (Math.random() * pow2_53) & 0x1fffff\r\n     ? function () { return mathfloor(Math.random() * pow2_53); }\r\n     : function () { return ((Math.random() * 0x40000000 | 0) * 0x800000) +\r\n       (Math.random() * 0x800000 | 0); };\r\n\r\n    return function (dp) {\r\n      var a, b, e, k, v,\r\n        i = 0,\r\n        c = [],\r\n        rand = new BigNumber(ONE);\r\n\r\n      if (dp == null) dp = DECIMAL_PLACES;\r\n      else intCheck(dp, 0, MAX);\r\n\r\n      k = mathceil(dp / LOG_BASE);\r\n\r\n      if (CRYPTO) {\r\n\r\n        // Browsers supporting crypto.getRandomValues.\r\n        if (crypto.getRandomValues) {\r\n\r\n          a = crypto.getRandomValues(new Uint32Array(k *= 2));\r\n\r\n          for (; i < k;) {\r\n\r\n            // 53 bits:\r\n            // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)\r\n            // 11111 11111111 11111111 11111111 11100000 00000000 00000000\r\n            // ((Math.pow(2, 32) - 1) >>> 11).toString(2)\r\n            //                                     11111 11111111 11111111\r\n            // 0x20000 is 2^21.\r\n            v = a[i] * 0x20000 + (a[i + 1] >>> 11);\r\n\r\n            // Rejection sampling:\r\n            // 0 <= v < 9007199254740992\r\n            // Probability that v >= 9e15, is\r\n            // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251\r\n            if (v >= 9e15) {\r\n              b = crypto.getRandomValues(new Uint32Array(2));\r\n              a[i] = b[0];\r\n              a[i + 1] = b[1];\r\n            } else {\r\n\r\n              // 0 <= v <= 8999999999999999\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 2;\r\n            }\r\n          }\r\n          i = k / 2;\r\n\r\n        // Node.js supporting crypto.randomBytes.\r\n        } else if (crypto.randomBytes) {\r\n\r\n          // buffer\r\n          a = crypto.randomBytes(k *= 7);\r\n\r\n          for (; i < k;) {\r\n\r\n            // 0x1000000000000 is 2^48, 0x10000000000 is 2^40\r\n            // 0x100000000 is 2^32, 0x1000000 is 2^24\r\n            // 11111 11111111 11111111 11111111 11111111 11111111 11111111\r\n            // 0 <= v < 9007199254740992\r\n            v = ((a[i] & 31) * 0x1000000000000) + (a[i + 1] * 0x10000000000) +\r\n               (a[i + 2] * 0x100000000) + (a[i + 3] * 0x1000000) +\r\n               (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];\r\n\r\n            if (v >= 9e15) {\r\n              crypto.randomBytes(7).copy(a, i);\r\n            } else {\r\n\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 7;\r\n            }\r\n          }\r\n          i = k / 7;\r\n        } else {\r\n          CRYPTO = false;\r\n          throw Error\r\n           (bignumberError + 'crypto unavailable');\r\n        }\r\n      }\r\n\r\n      // Use Math.random.\r\n      if (!CRYPTO) {\r\n\r\n        for (; i < k;) {\r\n          v = random53bitInt();\r\n          if (v < 9e15) c[i++] = v % 1e14;\r\n        }\r\n      }\r\n\r\n      k = c[--i];\r\n      dp %= LOG_BASE;\r\n\r\n      // Convert trailing digits to zeros according to dp.\r\n      if (k && dp) {\r\n        v = POWS_TEN[LOG_BASE - dp];\r\n        c[i] = mathfloor(k / v) * v;\r\n      }\r\n\r\n      // Remove trailing elements which are zero.\r\n      for (; c[i] === 0; c.pop(), i--);\r\n\r\n      // Zero?\r\n      if (i < 0) {\r\n        c = [e = 0];\r\n      } else {\r\n\r\n        // Remove leading elements which are zero and adjust exponent accordingly.\r\n        for (e = -1 ; c[0] === 0; c.splice(0, 1), e -= LOG_BASE);\r\n\r\n        // Count the digits of the first element of c to determine leading zeros, and...\r\n        for (i = 1, v = c[0]; v >= 10; v /= 10, i++);\r\n\r\n        // adjust the exponent accordingly.\r\n        if (i < LOG_BASE) e -= LOG_BASE - i;\r\n      }\r\n\r\n      rand.e = e;\r\n      rand.c = c;\r\n      return rand;\r\n    };\r\n  })();\r\n\r\n\r\n   /*\r\n   * Return a BigNumber whose value is the sum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.sum = function () {\r\n    var i = 1,\r\n      args = arguments,\r\n      sum = new BigNumber(args[0]);\r\n    for (; i < args.length;) sum = sum.plus(args[i++]);\r\n    return sum;\r\n  };\r\n\r\n\r\n  // PRIVATE FUNCTIONS\r\n\r\n\r\n  // Called by BigNumber and BigNumber.prototype.toString.\r\n  convertBase = (function () {\r\n    var decimal = '0123456789';\r\n\r\n    /*\r\n     * Convert string of baseIn to an array of numbers of baseOut.\r\n     * Eg. toBaseOut('255', 10, 16) returns [15, 15].\r\n     * Eg. toBaseOut('ff', 16, 10) returns [2, 5, 5].\r\n     */\r\n    function toBaseOut(str, baseIn, baseOut, alphabet) {\r\n      var j,\r\n        arr = [0],\r\n        arrL,\r\n        i = 0,\r\n        len = str.length;\r\n\r\n      for (; i < len;) {\r\n        for (arrL = arr.length; arrL--; arr[arrL] *= baseIn);\r\n\r\n        arr[0] += alphabet.indexOf(str.charAt(i++));\r\n\r\n        for (j = 0; j < arr.length; j++) {\r\n\r\n          if (arr[j] > baseOut - 1) {\r\n            if (arr[j + 1] == null) arr[j + 1] = 0;\r\n            arr[j + 1] += arr[j] / baseOut | 0;\r\n            arr[j] %= baseOut;\r\n          }\r\n        }\r\n      }\r\n\r\n      return arr.reverse();\r\n    }\r\n\r\n    // Convert a numeric string of baseIn to a numeric string of baseOut.\r\n    // If the caller is toString, we are converting from base 10 to baseOut.\r\n    // If the caller is BigNumber, we are converting from baseIn to base 10.\r\n    return function (str, baseIn, baseOut, sign, callerIsToString) {\r\n      var alphabet, d, e, k, r, x, xc, y,\r\n        i = str.indexOf('.'),\r\n        dp = DECIMAL_PLACES,\r\n        rm = ROUNDING_MODE;\r\n\r\n      // Non-integer.\r\n      if (i >= 0) {\r\n        k = POW_PRECISION;\r\n\r\n        // Unlimited precision.\r\n        POW_PRECISION = 0;\r\n        str = str.replace('.', '');\r\n        y = new BigNumber(baseIn);\r\n        x = y.pow(str.length - i);\r\n        POW_PRECISION = k;\r\n\r\n        // Convert str as if an integer, then restore the fraction part by dividing the\r\n        // result by its base raised to a power.\r\n\r\n        y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, '0'),\r\n         10, baseOut, decimal);\r\n        y.e = y.c.length;\r\n      }\r\n\r\n      // Convert the number as integer.\r\n\r\n      xc = toBaseOut(str, baseIn, baseOut, callerIsToString\r\n       ? (alphabet = ALPHABET, decimal)\r\n       : (alphabet = decimal, ALPHABET));\r\n\r\n      // xc now represents str as an integer and converted to baseOut. e is the exponent.\r\n      e = k = xc.length;\r\n\r\n      // Remove trailing zeros.\r\n      for (; xc[--k] == 0; xc.pop());\r\n\r\n      // Zero?\r\n      if (!xc[0]) return alphabet.charAt(0);\r\n\r\n      // Does str represent an integer? If so, no need for the division.\r\n      if (i < 0) {\r\n        --e;\r\n      } else {\r\n        x.c = xc;\r\n        x.e = e;\r\n\r\n        // The sign is needed for correct rounding.\r\n        x.s = sign;\r\n        x = div(x, y, dp, rm, baseOut);\r\n        xc = x.c;\r\n        r = x.r;\r\n        e = x.e;\r\n      }\r\n\r\n      // xc now represents str converted to baseOut.\r\n\r\n      // THe index of the rounding digit.\r\n      d = e + dp + 1;\r\n\r\n      // The rounding digit: the digit to the right of the digit that may be rounded up.\r\n      i = xc[d];\r\n\r\n      // Look at the rounding digits and mode to determine whether to round up.\r\n\r\n      k = baseOut / 2;\r\n      r = r || d < 0 || xc[d + 1] != null;\r\n\r\n      r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n            : i > k || i == k &&(rm == 4 || r || rm == 6 && xc[d - 1] & 1 ||\r\n             rm == (x.s < 0 ? 8 : 7));\r\n\r\n      // If the index of the rounding digit is not greater than zero, or xc represents\r\n      // zero, then the result of the base conversion is zero or, if rounding up, a value\r\n      // such as 0.00001.\r\n      if (d < 1 || !xc[0]) {\r\n\r\n        // 1^-dp or 0\r\n        str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);\r\n      } else {\r\n\r\n        // Truncate xc to the required number of decimal places.\r\n        xc.length = d;\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          // Rounding up may mean the previous digit has to be rounded up and so on.\r\n          for (--baseOut; ++xc[--d] > baseOut;) {\r\n            xc[d] = 0;\r\n\r\n            if (!d) {\r\n              ++e;\r\n              xc = [1].concat(xc);\r\n            }\r\n          }\r\n        }\r\n\r\n        // Determine trailing zeros.\r\n        for (k = xc.length; !xc[--k];);\r\n\r\n        // E.g. [4, 11, 15] becomes 4bf.\r\n        for (i = 0, str = ''; i <= k; str += alphabet.charAt(xc[i++]));\r\n\r\n        // Add leading zeros, decimal point and trailing zeros as required.\r\n        str = toFixedPoint(str, e, alphabet.charAt(0));\r\n      }\r\n\r\n      // The caller will add the sign.\r\n      return str;\r\n    };\r\n  })();\r\n\r\n\r\n  // Perform division in the specified base. Called by div and convertBase.\r\n  div = (function () {\r\n\r\n    // Assume non-zero x and k.\r\n    function multiply(x, k, base) {\r\n      var m, temp, xlo, xhi,\r\n        carry = 0,\r\n        i = x.length,\r\n        klo = k % SQRT_BASE,\r\n        khi = k / SQRT_BASE | 0;\r\n\r\n      for (x = x.slice(); i--;) {\r\n        xlo = x[i] % SQRT_BASE;\r\n        xhi = x[i] / SQRT_BASE | 0;\r\n        m = khi * xlo + xhi * klo;\r\n        temp = klo * xlo + ((m % SQRT_BASE) * SQRT_BASE) + carry;\r\n        carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;\r\n        x[i] = temp % base;\r\n      }\r\n\r\n      if (carry) x = [carry].concat(x);\r\n\r\n      return x;\r\n    }\r\n\r\n    function compare(a, b, aL, bL) {\r\n      var i, cmp;\r\n\r\n      if (aL != bL) {\r\n        cmp = aL > bL ? 1 : -1;\r\n      } else {\r\n\r\n        for (i = cmp = 0; i < aL; i++) {\r\n\r\n          if (a[i] != b[i]) {\r\n            cmp = a[i] > b[i] ? 1 : -1;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      return cmp;\r\n    }\r\n\r\n    function subtract(a, b, aL, base) {\r\n      var i = 0;\r\n\r\n      // Subtract b from a.\r\n      for (; aL--;) {\r\n        a[aL] -= i;\r\n        i = a[aL] < b[aL] ? 1 : 0;\r\n        a[aL] = i * base + a[aL] - b[aL];\r\n      }\r\n\r\n      // Remove leading zeros.\r\n      for (; !a[0] && a.length > 1; a.splice(0, 1));\r\n    }\r\n\r\n    // x: dividend, y: divisor.\r\n    return function (x, y, dp, rm, base) {\r\n      var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0,\r\n        yL, yz,\r\n        s = x.s == y.s ? 1 : -1,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      // Either NaN, Infinity or 0?\r\n      if (!xc || !xc[0] || !yc || !yc[0]) {\r\n\r\n        return new BigNumber(\r\n\r\n         // Return NaN if either NaN, or both Infinity or 0.\r\n         !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN :\r\n\r\n          // Return ±0 if x is ±0 or y is ±Infinity, or return ±Infinity as y is ±0.\r\n          xc && xc[0] == 0 || !yc ? s * 0 : s / 0\r\n       );\r\n      }\r\n\r\n      q = new BigNumber(s);\r\n      qc = q.c = [];\r\n      e = x.e - y.e;\r\n      s = dp + e + 1;\r\n\r\n      if (!base) {\r\n        base = BASE;\r\n        e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);\r\n        s = s / LOG_BASE | 0;\r\n      }\r\n\r\n      // Result exponent may be one less then the current value of e.\r\n      // The coefficients of the BigNumbers from convertBase may have trailing zeros.\r\n      for (i = 0; yc[i] == (xc[i] || 0); i++);\r\n\r\n      if (yc[i] > (xc[i] || 0)) e--;\r\n\r\n      if (s < 0) {\r\n        qc.push(1);\r\n        more = true;\r\n      } else {\r\n        xL = xc.length;\r\n        yL = yc.length;\r\n        i = 0;\r\n        s += 2;\r\n\r\n        // Normalise xc and yc so highest order digit of yc is >= base / 2.\r\n\r\n        n = mathfloor(base / (yc[0] + 1));\r\n\r\n        // Not necessary, but to handle odd bases where yc[0] == (base / 2) - 1.\r\n        // if (n > 1 || n++ == 1 && yc[0] < base / 2) {\r\n        if (n > 1) {\r\n          yc = multiply(yc, n, base);\r\n          xc = multiply(xc, n, base);\r\n          yL = yc.length;\r\n          xL = xc.length;\r\n        }\r\n\r\n        xi = yL;\r\n        rem = xc.slice(0, yL);\r\n        remL = rem.length;\r\n\r\n        // Add zeros to make remainder as long as divisor.\r\n        for (; remL < yL; rem[remL++] = 0);\r\n        yz = yc.slice();\r\n        yz = [0].concat(yz);\r\n        yc0 = yc[0];\r\n        if (yc[1] >= base / 2) yc0++;\r\n        // Not necessary, but to prevent trial digit n > base, when using base 3.\r\n        // else if (base == 3 && yc0 == 1) yc0 = 1 + 1e-15;\r\n\r\n        do {\r\n          n = 0;\r\n\r\n          // Compare divisor and remainder.\r\n          cmp = compare(yc, rem, yL, remL);\r\n\r\n          // If divisor < remainder.\r\n          if (cmp < 0) {\r\n\r\n            // Calculate trial digit, n.\r\n\r\n            rem0 = rem[0];\r\n            if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);\r\n\r\n            // n is how many times the divisor goes into the current remainder.\r\n            n = mathfloor(rem0 / yc0);\r\n\r\n            //  Algorithm:\r\n            //  product = divisor multiplied by trial digit (n).\r\n            //  Compare product and remainder.\r\n            //  If product is greater than remainder:\r\n            //    Subtract divisor from product, decrement trial digit.\r\n            //  Subtract product from remainder.\r\n            //  If product was less than remainder at the last compare:\r\n            //    Compare new remainder and divisor.\r\n            //    If remainder is greater than divisor:\r\n            //      Subtract divisor from remainder, increment trial digit.\r\n\r\n            if (n > 1) {\r\n\r\n              // n may be > base only when base is 3.\r\n              if (n >= base) n = base - 1;\r\n\r\n              // product = divisor * trial digit.\r\n              prod = multiply(yc, n, base);\r\n              prodL = prod.length;\r\n              remL = rem.length;\r\n\r\n              // Compare product and remainder.\r\n              // If product > remainder then trial digit n too high.\r\n              // n is 1 too high about 5% of the time, and is not known to have\r\n              // ever been more than 1 too high.\r\n              while (compare(prod, rem, prodL, remL) == 1) {\r\n                n--;\r\n\r\n                // Subtract divisor from product.\r\n                subtract(prod, yL < prodL ? yz : yc, prodL, base);\r\n                prodL = prod.length;\r\n                cmp = 1;\r\n              }\r\n            } else {\r\n\r\n              // n is 0 or 1, cmp is -1.\r\n              // If n is 0, there is no need to compare yc and rem again below,\r\n              // so change cmp to 1 to avoid it.\r\n              // If n is 1, leave cmp as -1, so yc and rem are compared again.\r\n              if (n == 0) {\r\n\r\n                // divisor < remainder, so n must be at least 1.\r\n                cmp = n = 1;\r\n              }\r\n\r\n              // product = divisor\r\n              prod = yc.slice();\r\n              prodL = prod.length;\r\n            }\r\n\r\n            if (prodL < remL) prod = [0].concat(prod);\r\n\r\n            // Subtract product from remainder.\r\n            subtract(rem, prod, remL, base);\r\n            remL = rem.length;\r\n\r\n             // If product was < remainder.\r\n            if (cmp == -1) {\r\n\r\n              // Compare divisor and new remainder.\r\n              // If divisor < new remainder, subtract divisor from remainder.\r\n              // Trial digit n too low.\r\n              // n is 1 too low about 5% of the time, and very rarely 2 too low.\r\n              while (compare(yc, rem, yL, remL) < 1) {\r\n                n++;\r\n\r\n                // Subtract divisor from remainder.\r\n                subtract(rem, yL < remL ? yz : yc, remL, base);\r\n                remL = rem.length;\r\n              }\r\n            }\r\n          } else if (cmp === 0) {\r\n            n++;\r\n            rem = [0];\r\n          } // else cmp === 1 and n will be 0\r\n\r\n          // Add the next digit, n, to the result array.\r\n          qc[i++] = n;\r\n\r\n          // Update the remainder.\r\n          if (rem[0]) {\r\n            rem[remL++] = xc[xi] || 0;\r\n          } else {\r\n            rem = [xc[xi]];\r\n            remL = 1;\r\n          }\r\n        } while ((xi++ < xL || rem[0] != null) && s--);\r\n\r\n        more = rem[0] != null;\r\n\r\n        // Leading zero?\r\n        if (!qc[0]) qc.splice(0, 1);\r\n      }\r\n\r\n      if (base == BASE) {\r\n\r\n        // To calculate q.e, first get the number of digits of qc[0].\r\n        for (i = 1, s = qc[0]; s >= 10; s /= 10, i++);\r\n\r\n        round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);\r\n\r\n      // Caller is convertBase.\r\n      } else {\r\n        q.e = e;\r\n        q.r = +more;\r\n      }\r\n\r\n      return q;\r\n    };\r\n  })();\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of BigNumber n in fixed-point or exponential\r\n   * notation rounded to the specified decimal places or significant digits.\r\n   *\r\n   * n: a BigNumber.\r\n   * i: the index of the last digit required (i.e. the digit that may be rounded up).\r\n   * rm: the rounding mode.\r\n   * id: 1 (toExponential) or 2 (toPrecision).\r\n   */\r\n  function format(n, i, rm, id) {\r\n    var c0, e, ne, len, str;\r\n\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n\r\n    if (!n.c) return n.toString();\r\n\r\n    c0 = n.c[0];\r\n    ne = n.e;\r\n\r\n    if (i == null) {\r\n      str = coeffToString(n.c);\r\n      str = id == 1 || id == 2 && (ne <= TO_EXP_NEG || ne >= TO_EXP_POS)\r\n       ? toExponential(str, ne)\r\n       : toFixedPoint(str, ne, '0');\r\n    } else {\r\n      n = round(new BigNumber(n), i, rm);\r\n\r\n      // n.e may have changed if the value was rounded up.\r\n      e = n.e;\r\n\r\n      str = coeffToString(n.c);\r\n      len = str.length;\r\n\r\n      // toPrecision returns exponential notation if the number of significant digits\r\n      // specified is less than the number of digits necessary to represent the integer\r\n      // part of the value in fixed-point notation.\r\n\r\n      // Exponential notation.\r\n      if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {\r\n\r\n        // Append zeros?\r\n        for (; len < i; str += '0', len++);\r\n        str = toExponential(str, e);\r\n\r\n      // Fixed-point notation.\r\n      } else {\r\n        i -= ne;\r\n        str = toFixedPoint(str, e, '0');\r\n\r\n        // Append zeros?\r\n        if (e + 1 > len) {\r\n          if (--i > 0) for (str += '.'; i--; str += '0');\r\n        } else {\r\n          i += e - len;\r\n          if (i > 0) {\r\n            if (e + 1 == len) str += '.';\r\n            for (; i--; str += '0');\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return n.s < 0 && c0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // Handle BigNumber.max and BigNumber.min.\r\n  // If any number is NaN, return NaN.\r\n  function maxOrMin(args, n) {\r\n    var k, y,\r\n      i = 1,\r\n      x = new BigNumber(args[0]);\r\n\r\n    for (; i < args.length; i++) {\r\n      y = new BigNumber(args[i]);\r\n      if (!y.s || (k = compare(x, y)) === n || k === 0 && x.s === n) {\r\n        x = y;\r\n      }\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  /*\r\n   * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.\r\n   * Called by minus, plus and times.\r\n   */\r\n  function normalise(n, c, e) {\r\n    var i = 1,\r\n      j = c.length;\r\n\r\n     // Remove trailing zeros.\r\n    for (; !c[--j]; c.pop());\r\n\r\n    // Calculate the base 10 exponent. First get the number of digits of c[0].\r\n    for (j = c[0]; j >= 10; j /= 10, i++);\r\n\r\n    // Overflow?\r\n    if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {\r\n\r\n      // Infinity.\r\n      n.c = n.e = null;\r\n\r\n    // Underflow?\r\n    } else if (e < MIN_EXP) {\r\n\r\n      // Zero.\r\n      n.c = [n.e = 0];\r\n    } else {\r\n      n.e = e;\r\n      n.c = c;\r\n    }\r\n\r\n    return n;\r\n  }\r\n\r\n\r\n  // Handle values that fail the validity test in BigNumber.\r\n  parseNumeric = (function () {\r\n    var basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i,\r\n      dotAfter = /^([^.]+)\\.$/,\r\n      dotBefore = /^\\.([^.]+)$/,\r\n      isInfinityOrNaN = /^-?(Infinity|NaN)$/,\r\n      whitespaceOrPlus = /^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;\r\n\r\n    return function (x, str, isNum, b) {\r\n      var base,\r\n        s = isNum ? str : str.replace(whitespaceOrPlus, '');\r\n\r\n      // No exception on ±Infinity or NaN.\r\n      if (isInfinityOrNaN.test(s)) {\r\n        x.s = isNaN(s) ? null : s < 0 ? -1 : 1;\r\n      } else {\r\n        if (!isNum) {\r\n\r\n          // basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i\r\n          s = s.replace(basePrefix, function (m, p1, p2) {\r\n            base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;\r\n            return !b || b == base ? p1 : m;\r\n          });\r\n\r\n          if (b) {\r\n            base = b;\r\n\r\n            // E.g. '1.' to '1', '.1' to '0.1'\r\n            s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');\r\n          }\r\n\r\n          if (str != s) return new BigNumber(s, base);\r\n        }\r\n\r\n        // '[BigNumber Error] Not a number: {n}'\r\n        // '[BigNumber Error] Not a base {b} number: {n}'\r\n        if (BigNumber.DEBUG) {\r\n          throw Error\r\n            (bignumberError + 'Not a' + (b ? ' base ' + b : '') + ' number: ' + str);\r\n        }\r\n\r\n        // NaN\r\n        x.s = null;\r\n      }\r\n\r\n      x.c = x.e = null;\r\n    }\r\n  })();\r\n\r\n\r\n  /*\r\n   * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.\r\n   * If r is truthy, it is known that there are more digits after the rounding digit.\r\n   */\r\n  function round(x, sd, rm, r) {\r\n    var d, i, j, k, n, ni, rd,\r\n      xc = x.c,\r\n      pows10 = POWS_TEN;\r\n\r\n    // if x is not Infinity or NaN...\r\n    if (xc) {\r\n\r\n      // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.\r\n      // n is a base 1e14 number, the value of the element of array x.c containing rd.\r\n      // ni is the index of n within x.c.\r\n      // d is the number of digits of n.\r\n      // i is the index of rd within n including leading zeros.\r\n      // j is the actual index of rd within n (if < 0, rd is a leading zero).\r\n      out: {\r\n\r\n        // Get the number of digits of the first element of xc.\r\n        for (d = 1, k = xc[0]; k >= 10; k /= 10, d++);\r\n        i = sd - d;\r\n\r\n        // If the rounding digit is in the first element of xc...\r\n        if (i < 0) {\r\n          i += LOG_BASE;\r\n          j = sd;\r\n          n = xc[ni = 0];\r\n\r\n          // Get the rounding digit at index j of n.\r\n          rd = mathfloor(n / pows10[d - j - 1] % 10);\r\n        } else {\r\n          ni = mathceil((i + 1) / LOG_BASE);\r\n\r\n          if (ni >= xc.length) {\r\n\r\n            if (r) {\r\n\r\n              // Needed by sqrt.\r\n              for (; xc.length <= ni; xc.push(0));\r\n              n = rd = 0;\r\n              d = 1;\r\n              i %= LOG_BASE;\r\n              j = i - LOG_BASE + 1;\r\n            } else {\r\n              break out;\r\n            }\r\n          } else {\r\n            n = k = xc[ni];\r\n\r\n            // Get the number of digits of n.\r\n            for (d = 1; k >= 10; k /= 10, d++);\r\n\r\n            // Get the index of rd within n.\r\n            i %= LOG_BASE;\r\n\r\n            // Get the index of rd within n, adjusted for leading zeros.\r\n            // The number of leading zeros of n is given by LOG_BASE - d.\r\n            j = i - LOG_BASE + d;\r\n\r\n            // Get the rounding digit at index j of n.\r\n            rd = j < 0 ? 0 : mathfloor(n / pows10[d - j - 1] % 10);\r\n          }\r\n        }\r\n\r\n        r = r || sd < 0 ||\r\n\r\n        // Are there any non-zero digits after the rounding digit?\r\n        // The expression  n % pows10[d - j - 1]  returns all digits of n to the right\r\n        // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.\r\n         xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);\r\n\r\n        r = rm < 4\r\n         ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n         : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 &&\r\n\r\n          // Check whether the digit to the left of the rounding digit is odd.\r\n          ((i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10) & 1 ||\r\n           rm == (x.s < 0 ? 8 : 7));\r\n\r\n        if (sd < 1 || !xc[0]) {\r\n          xc.length = 0;\r\n\r\n          if (r) {\r\n\r\n            // Convert sd to decimal places.\r\n            sd -= x.e + 1;\r\n\r\n            // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n            xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];\r\n            x.e = -sd || 0;\r\n          } else {\r\n\r\n            // Zero.\r\n            xc[0] = x.e = 0;\r\n          }\r\n\r\n          return x;\r\n        }\r\n\r\n        // Remove excess digits.\r\n        if (i == 0) {\r\n          xc.length = ni;\r\n          k = 1;\r\n          ni--;\r\n        } else {\r\n          xc.length = ni + 1;\r\n          k = pows10[LOG_BASE - i];\r\n\r\n          // E.g. 56700 becomes 56000 if 7 is the rounding digit.\r\n          // j > 0 means i > number of leading zeros of n.\r\n          xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;\r\n        }\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          for (; ;) {\r\n\r\n            // If the digit to be rounded up is in the first element of xc...\r\n            if (ni == 0) {\r\n\r\n              // i will be the length of xc[0] before k is added.\r\n              for (i = 1, j = xc[0]; j >= 10; j /= 10, i++);\r\n              j = xc[0] += k;\r\n              for (k = 1; j >= 10; j /= 10, k++);\r\n\r\n              // if i != k the length has increased.\r\n              if (i != k) {\r\n                x.e++;\r\n                if (xc[0] == BASE) xc[0] = 1;\r\n              }\r\n\r\n              break;\r\n            } else {\r\n              xc[ni] += k;\r\n              if (xc[ni] != BASE) break;\r\n              xc[ni--] = 0;\r\n              k = 1;\r\n            }\r\n          }\r\n        }\r\n\r\n        // Remove trailing zeros.\r\n        for (i = xc.length; xc[--i] === 0; xc.pop());\r\n      }\r\n\r\n      // Overflow? Infinity.\r\n      if (x.e > MAX_EXP) {\r\n        x.c = x.e = null;\r\n\r\n      // Underflow? Zero.\r\n      } else if (x.e < MIN_EXP) {\r\n        x.c = [x.e = 0];\r\n      }\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  function valueOf(n) {\r\n    var str,\r\n      e = n.e;\r\n\r\n    if (e === null) return n.toString();\r\n\r\n    str = coeffToString(n.c);\r\n\r\n    str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n      ? toExponential(str, e)\r\n      : toFixedPoint(str, e, '0');\r\n\r\n    return n.s < 0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // PROTOTYPE/INSTANCE METHODS\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the absolute value of this BigNumber.\r\n   */\r\n  P.absoluteValue = P.abs = function () {\r\n    var x = new BigNumber(this);\r\n    if (x.s < 0) x.s = 1;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return\r\n   *   1 if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   *   -1 if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   *   0 if they have the same value,\r\n   *   or null if the value of either is NaN.\r\n   */\r\n  P.comparedTo = function (y, b) {\r\n    return compare(this, new BigNumber(y, b));\r\n  };\r\n\r\n\r\n  /*\r\n   * If dp is undefined or null or true or false, return the number of decimal places of the\r\n   * value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n   *\r\n   * Otherwise, if dp is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of dp decimal places using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [dp] {number} Decimal places: integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.decimalPlaces = P.dp = function (dp, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), dp + x.e + 1, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;\r\n\r\n    // Subtract the number of trailing zeros of the last number.\r\n    if (v = c[v]) for (; v % 10 == 0; v /= 10, n--);\r\n    if (n < 0) n = 0;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n / 0 = I\r\n   *  n / N = N\r\n   *  n / I = 0\r\n   *  0 / n = 0\r\n   *  0 / 0 = N\r\n   *  0 / N = N\r\n   *  0 / I = 0\r\n   *  N / n = N\r\n   *  N / 0 = N\r\n   *  N / N = N\r\n   *  N / I = N\r\n   *  I / n = I\r\n   *  I / 0 = I\r\n   *  I / N = N\r\n   *  I / I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber divided by the value of\r\n   * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.dividedBy = P.div = function (y, b) {\r\n    return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the integer part of dividing the value of this\r\n   * BigNumber by the value of BigNumber(y, b).\r\n   */\r\n  P.dividedToIntegerBy = P.idiv = function (y, b) {\r\n    return div(this, new BigNumber(y, b), 0, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a BigNumber whose value is the value of this BigNumber exponentiated by n.\r\n   *\r\n   * If m is present, return the result modulo m.\r\n   * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using ROUNDING_MODE.\r\n   *\r\n   * The modular power operation works efficiently when x, n, and m are integers, otherwise it\r\n   * is equivalent to calculating x.exponentiatedBy(n).modulo(m) with a POW_PRECISION of 0.\r\n   *\r\n   * n {number|string|BigNumber} The exponent. An integer.\r\n   * [m] {number|string|BigNumber} The modulus.\r\n   *\r\n   * '[BigNumber Error] Exponent not an integer: {n}'\r\n   */\r\n  P.exponentiatedBy = P.pow = function (n, m) {\r\n    var half, isModExp, i, k, more, nIsBig, nIsNeg, nIsOdd, y,\r\n      x = this;\r\n\r\n    n = new BigNumber(n);\r\n\r\n    // Allow NaN and ±Infinity, but not other non-integers.\r\n    if (n.c && !n.isInteger()) {\r\n      throw Error\r\n        (bignumberError + 'Exponent not an integer: ' + valueOf(n));\r\n    }\r\n\r\n    if (m != null) m = new BigNumber(m);\r\n\r\n    // Exponent of MAX_SAFE_INTEGER is 15.\r\n    nIsBig = n.e > 14;\r\n\r\n    // If x is NaN, ±Infinity, ±0 or ±1, or n is ±Infinity, NaN or ±0.\r\n    if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {\r\n\r\n      // The sign of the result of pow when x is negative depends on the evenness of n.\r\n      // If +n overflows to ±Infinity, the evenness of n would be not be known.\r\n      y = new BigNumber(Math.pow(+valueOf(x), nIsBig ? n.s * (2 - isOdd(n)) : +valueOf(n)));\r\n      return m ? y.mod(m) : y;\r\n    }\r\n\r\n    nIsNeg = n.s < 0;\r\n\r\n    if (m) {\r\n\r\n      // x % m returns NaN if abs(m) is zero, or m is NaN.\r\n      if (m.c ? !m.c[0] : !m.s) return new BigNumber(NaN);\r\n\r\n      isModExp = !nIsNeg && x.isInteger() && m.isInteger();\r\n\r\n      if (isModExp) x = x.mod(m);\r\n\r\n    // Overflow to ±Infinity: >=2**1e10 or >=1.0000024**1e15.\r\n    // Underflow to ±0: <=0.79**1e10 or <=0.9999975**1e15.\r\n    } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0\r\n      // [1, 240000000]\r\n      ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7\r\n      // [80000000000000]  [99999750000000]\r\n      : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {\r\n\r\n      // If x is negative and n is odd, k = -0, else k = 0.\r\n      k = x.s < 0 && isOdd(n) ? -0 : 0;\r\n\r\n      // If x >= 1, k = ±Infinity.\r\n      if (x.e > -1) k = 1 / k;\r\n\r\n      // If n is negative return ±0, else return ±Infinity.\r\n      return new BigNumber(nIsNeg ? 1 / k : k);\r\n\r\n    } else if (POW_PRECISION) {\r\n\r\n      // Truncating each coefficient array to a length of k after each multiplication\r\n      // equates to truncating significant digits to POW_PRECISION + [28, 41],\r\n      // i.e. there will be a minimum of 28 guard digits retained.\r\n      k = mathceil(POW_PRECISION / LOG_BASE + 2);\r\n    }\r\n\r\n    if (nIsBig) {\r\n      half = new BigNumber(0.5);\r\n      if (nIsNeg) n.s = 1;\r\n      nIsOdd = isOdd(n);\r\n    } else {\r\n      i = Math.abs(+valueOf(n));\r\n      nIsOdd = i % 2;\r\n    }\r\n\r\n    y = new BigNumber(ONE);\r\n\r\n    // Performs 54 loop iterations for n of 9007199254740991.\r\n    for (; ;) {\r\n\r\n      if (nIsOdd) {\r\n        y = y.times(x);\r\n        if (!y.c) break;\r\n\r\n        if (k) {\r\n          if (y.c.length > k) y.c.length = k;\r\n        } else if (isModExp) {\r\n          y = y.mod(m);    //y = y.minus(div(y, m, 0, MODULO_MODE).times(m));\r\n        }\r\n      }\r\n\r\n      if (i) {\r\n        i = mathfloor(i / 2);\r\n        if (i === 0) break;\r\n        nIsOdd = i % 2;\r\n      } else {\r\n        n = n.times(half);\r\n        round(n, n.e + 1, 1);\r\n\r\n        if (n.e > 14) {\r\n          nIsOdd = isOdd(n);\r\n        } else {\r\n          i = +valueOf(n);\r\n          if (i === 0) break;\r\n          nIsOdd = i % 2;\r\n        }\r\n      }\r\n\r\n      x = x.times(x);\r\n\r\n      if (k) {\r\n        if (x.c && x.c.length > k) x.c.length = k;\r\n      } else if (isModExp) {\r\n        x = x.mod(m);    //x = x.minus(div(x, m, 0, MODULO_MODE).times(m));\r\n      }\r\n    }\r\n\r\n    if (isModExp) return y;\r\n    if (nIsNeg) y = ONE.div(y);\r\n\r\n    return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber rounded to an integer\r\n   * using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {rm}'\r\n   */\r\n  P.integerValue = function (rm) {\r\n    var n = new BigNumber(this);\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n    return round(n, n.e + 1, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isEqualTo = P.eq = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is a finite number, otherwise return false.\r\n   */\r\n  P.isFinite = function () {\r\n    return !!this.c;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isGreaterThan = P.gt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isGreaterThanOrEqualTo = P.gte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;\r\n\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is an integer, otherwise return false.\r\n   */\r\n  P.isInteger = function () {\r\n    return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isLessThan = P.lt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isLessThanOrEqualTo = P.lte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is NaN, otherwise return false.\r\n   */\r\n  P.isNaN = function () {\r\n    return !this.s;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is negative, otherwise return false.\r\n   */\r\n  P.isNegative = function () {\r\n    return this.s < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is positive, otherwise return false.\r\n   */\r\n  P.isPositive = function () {\r\n    return this.s > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is 0 or -0, otherwise return false.\r\n   */\r\n  P.isZero = function () {\r\n    return !!this.c && this.c[0] == 0;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n - 0 = n\r\n   *  n - N = N\r\n   *  n - I = -I\r\n   *  0 - n = -n\r\n   *  0 - 0 = 0\r\n   *  0 - N = N\r\n   *  0 - I = -I\r\n   *  N - n = N\r\n   *  N - 0 = N\r\n   *  N - N = N\r\n   *  N - I = N\r\n   *  I - n = I\r\n   *  I - 0 = I\r\n   *  I - N = N\r\n   *  I - I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber minus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.minus = function (y, b) {\r\n    var i, j, t, xLTy,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n    if (a != b) {\r\n      y.s = -b;\r\n      return x.plus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Either Infinity?\r\n      if (!xc || !yc) return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN);\r\n\r\n      // Either zero?\r\n      if (!xc[0] || !yc[0]) {\r\n\r\n        // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n        return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x :\r\n\r\n         // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity\r\n         ROUNDING_MODE == 3 ? -0 : 0);\r\n      }\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Determine which is the bigger number.\r\n    if (a = xe - ye) {\r\n\r\n      if (xLTy = a < 0) {\r\n        a = -a;\r\n        t = xc;\r\n      } else {\r\n        ye = xe;\r\n        t = yc;\r\n      }\r\n\r\n      t.reverse();\r\n\r\n      // Prepend zeros to equalise exponents.\r\n      for (b = a; b--; t.push(0));\r\n      t.reverse();\r\n    } else {\r\n\r\n      // Exponents equal. Check digit by digit.\r\n      j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;\r\n\r\n      for (a = b = 0; b < j; b++) {\r\n\r\n        if (xc[b] != yc[b]) {\r\n          xLTy = xc[b] < yc[b];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // x < y? Point xc to the array of the bigger number.\r\n    if (xLTy) {\r\n      t = xc;\r\n      xc = yc;\r\n      yc = t;\r\n      y.s = -y.s;\r\n    }\r\n\r\n    b = (j = yc.length) - (i = xc.length);\r\n\r\n    // Append zeros to xc if shorter.\r\n    // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.\r\n    if (b > 0) for (; b--; xc[i++] = 0);\r\n    b = BASE - 1;\r\n\r\n    // Subtract yc from xc.\r\n    for (; j > a;) {\r\n\r\n      if (xc[--j] < yc[j]) {\r\n        for (i = j; i && !xc[--i]; xc[i] = b);\r\n        --xc[i];\r\n        xc[j] += BASE;\r\n      }\r\n\r\n      xc[j] -= yc[j];\r\n    }\r\n\r\n    // Remove leading zeros and adjust exponent accordingly.\r\n    for (; xc[0] == 0; xc.splice(0, 1), --ye);\r\n\r\n    // Zero?\r\n    if (!xc[0]) {\r\n\r\n      // Following IEEE 754 (2008) 6.3,\r\n      // n - n = +0  but  n - n = -0  when rounding towards -Infinity.\r\n      y.s = ROUNDING_MODE == 3 ? -1 : 1;\r\n      y.c = [y.e = 0];\r\n      return y;\r\n    }\r\n\r\n    // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity\r\n    // for finite x and y.\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   *   n % 0 =  N\r\n   *   n % N =  N\r\n   *   n % I =  n\r\n   *   0 % n =  0\r\n   *  -0 % n = -0\r\n   *   0 % 0 =  N\r\n   *   0 % N =  N\r\n   *   0 % I =  0\r\n   *   N % n =  N\r\n   *   N % 0 =  N\r\n   *   N % N =  N\r\n   *   N % I =  N\r\n   *   I % n =  N\r\n   *   I % 0 =  N\r\n   *   I % N =  N\r\n   *   I % I =  N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber modulo the value of\r\n   * BigNumber(y, b). The result depends on the value of MODULO_MODE.\r\n   */\r\n  P.modulo = P.mod = function (y, b) {\r\n    var q, s,\r\n      x = this;\r\n\r\n    y = new BigNumber(y, b);\r\n\r\n    // Return NaN if x is Infinity or NaN, or y is NaN or zero.\r\n    if (!x.c || !y.s || y.c && !y.c[0]) {\r\n      return new BigNumber(NaN);\r\n\r\n    // Return x if y is Infinity or x is zero.\r\n    } else if (!y.c || x.c && !x.c[0]) {\r\n      return new BigNumber(x);\r\n    }\r\n\r\n    if (MODULO_MODE == 9) {\r\n\r\n      // Euclidian division: q = sign(y) * floor(x / abs(y))\r\n      // r = x - qy    where  0 <= r < abs(y)\r\n      s = y.s;\r\n      y.s = 1;\r\n      q = div(x, y, 0, 3);\r\n      y.s = s;\r\n      q.s *= s;\r\n    } else {\r\n      q = div(x, y, 0, MODULO_MODE);\r\n    }\r\n\r\n    y = x.minus(q.times(y));\r\n\r\n    // To match JavaScript %, ensure sign of zero is sign of dividend.\r\n    if (!y.c[0] && MODULO_MODE == 1) y.s = x.s;\r\n\r\n    return y;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n * 0 = 0\r\n   *  n * N = N\r\n   *  n * I = I\r\n   *  0 * n = 0\r\n   *  0 * 0 = 0\r\n   *  0 * N = N\r\n   *  0 * I = N\r\n   *  N * n = N\r\n   *  N * 0 = N\r\n   *  N * N = N\r\n   *  N * I = N\r\n   *  I * n = I\r\n   *  I * 0 = N\r\n   *  I * N = N\r\n   *  I * I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber multiplied by the value\r\n   * of BigNumber(y, b).\r\n   */\r\n  P.multipliedBy = P.times = function (y, b) {\r\n    var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc,\r\n      base, sqrtBase,\r\n      x = this,\r\n      xc = x.c,\r\n      yc = (y = new BigNumber(y, b)).c;\r\n\r\n    // Either NaN, ±Infinity or ±0?\r\n    if (!xc || !yc || !xc[0] || !yc[0]) {\r\n\r\n      // Return NaN if either is NaN, or one is 0 and the other is Infinity.\r\n      if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {\r\n        y.c = y.e = y.s = null;\r\n      } else {\r\n        y.s *= x.s;\r\n\r\n        // Return ±Infinity if either is ±Infinity.\r\n        if (!xc || !yc) {\r\n          y.c = y.e = null;\r\n\r\n        // Return ±0 if either is ±0.\r\n        } else {\r\n          y.c = [0];\r\n          y.e = 0;\r\n        }\r\n      }\r\n\r\n      return y;\r\n    }\r\n\r\n    e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);\r\n    y.s *= x.s;\r\n    xcL = xc.length;\r\n    ycL = yc.length;\r\n\r\n    // Ensure xc points to longer array and xcL to its length.\r\n    if (xcL < ycL) {\r\n      zc = xc;\r\n      xc = yc;\r\n      yc = zc;\r\n      i = xcL;\r\n      xcL = ycL;\r\n      ycL = i;\r\n    }\r\n\r\n    // Initialise the result array with zeros.\r\n    for (i = xcL + ycL, zc = []; i--; zc.push(0));\r\n\r\n    base = BASE;\r\n    sqrtBase = SQRT_BASE;\r\n\r\n    for (i = ycL; --i >= 0;) {\r\n      c = 0;\r\n      ylo = yc[i] % sqrtBase;\r\n      yhi = yc[i] / sqrtBase | 0;\r\n\r\n      for (k = xcL, j = i + k; j > i;) {\r\n        xlo = xc[--k] % sqrtBase;\r\n        xhi = xc[k] / sqrtBase | 0;\r\n        m = yhi * xlo + xhi * ylo;\r\n        xlo = ylo * xlo + ((m % sqrtBase) * sqrtBase) + zc[j] + c;\r\n        c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;\r\n        zc[j--] = xlo % base;\r\n      }\r\n\r\n      zc[j] = c;\r\n    }\r\n\r\n    if (c) {\r\n      ++e;\r\n    } else {\r\n      zc.splice(0, 1);\r\n    }\r\n\r\n    return normalise(y, zc, e);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber negated,\r\n   * i.e. multiplied by -1.\r\n   */\r\n  P.negated = function () {\r\n    var x = new BigNumber(this);\r\n    x.s = -x.s || null;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n + 0 = n\r\n   *  n + N = N\r\n   *  n + I = I\r\n   *  0 + n = n\r\n   *  0 + 0 = 0\r\n   *  0 + N = N\r\n   *  0 + I = I\r\n   *  N + n = N\r\n   *  N + 0 = N\r\n   *  N + N = N\r\n   *  N + I = N\r\n   *  I + n = I\r\n   *  I + 0 = I\r\n   *  I + N = N\r\n   *  I + I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber plus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.plus = function (y, b) {\r\n    var t,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n     if (a != b) {\r\n      y.s = -b;\r\n      return x.minus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Return ±Infinity if either ±Infinity.\r\n      if (!xc || !yc) return new BigNumber(a / 0);\r\n\r\n      // Either zero?\r\n      // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n      if (!xc[0] || !yc[0]) return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.\r\n    if (a = xe - ye) {\r\n      if (a > 0) {\r\n        ye = xe;\r\n        t = yc;\r\n      } else {\r\n        a = -a;\r\n        t = xc;\r\n      }\r\n\r\n      t.reverse();\r\n      for (; a--; t.push(0));\r\n      t.reverse();\r\n    }\r\n\r\n    a = xc.length;\r\n    b = yc.length;\r\n\r\n    // Point xc to the longer array, and b to the shorter length.\r\n    if (a - b < 0) {\r\n      t = yc;\r\n      yc = xc;\r\n      xc = t;\r\n      b = a;\r\n    }\r\n\r\n    // Only start adding at yc.length - 1 as the further digits of xc can be ignored.\r\n    for (a = 0; b;) {\r\n      a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;\r\n      xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;\r\n    }\r\n\r\n    if (a) {\r\n      xc = [a].concat(xc);\r\n      ++ye;\r\n    }\r\n\r\n    // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n    // ye = MAX_EXP + 1 possible\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   * If sd is undefined or null or true or false, return the number of significant digits of\r\n   * the value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n   * If sd is true include integer-part trailing zeros in the count.\r\n   *\r\n   * Otherwise, if sd is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of sd significant digits using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * sd {number|boolean} number: significant digits: integer, 1 to MAX inclusive.\r\n   *                     boolean: whether to count integer-part trailing zeros: true or false.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.precision = P.sd = function (sd, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (sd != null && sd !== !!sd) {\r\n      intCheck(sd, 1, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), sd, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    v = c.length - 1;\r\n    n = v * LOG_BASE + 1;\r\n\r\n    if (v = c[v]) {\r\n\r\n      // Subtract the number of trailing zeros of the last element.\r\n      for (; v % 10 == 0; v /= 10, n--);\r\n\r\n      // Add the number of digits of the first element.\r\n      for (v = c[0]; v >= 10; v /= 10, n++);\r\n    }\r\n\r\n    if (sd && x.e + 1 > n) n = x.e + 1;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber shifted by k places\r\n   * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.\r\n   *\r\n   * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {k}'\r\n   */\r\n  P.shiftedBy = function (k) {\r\n    intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);\r\n    return this.times('1e' + k);\r\n  };\r\n\r\n\r\n  /*\r\n   *  sqrt(-n) =  N\r\n   *  sqrt(N) =  N\r\n   *  sqrt(-I) =  N\r\n   *  sqrt(I) =  I\r\n   *  sqrt(0) =  0\r\n   *  sqrt(-0) = -0\r\n   *\r\n   * Return a new BigNumber whose value is the square root of the value of this BigNumber,\r\n   * rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.squareRoot = P.sqrt = function () {\r\n    var m, n, r, rep, t,\r\n      x = this,\r\n      c = x.c,\r\n      s = x.s,\r\n      e = x.e,\r\n      dp = DECIMAL_PLACES + 4,\r\n      half = new BigNumber('0.5');\r\n\r\n    // Negative/NaN/Infinity/zero?\r\n    if (s !== 1 || !c || !c[0]) {\r\n      return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);\r\n    }\r\n\r\n    // Initial estimate.\r\n    s = Math.sqrt(+valueOf(x));\r\n\r\n    // Math.sqrt underflow/overflow?\r\n    // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\r\n    if (s == 0 || s == 1 / 0) {\r\n      n = coeffToString(c);\r\n      if ((n.length + e) % 2 == 0) n += '0';\r\n      s = Math.sqrt(+n);\r\n      e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);\r\n\r\n      if (s == 1 / 0) {\r\n        n = '5e' + e;\r\n      } else {\r\n        n = s.toExponential();\r\n        n = n.slice(0, n.indexOf('e') + 1) + e;\r\n      }\r\n\r\n      r = new BigNumber(n);\r\n    } else {\r\n      r = new BigNumber(s + '');\r\n    }\r\n\r\n    // Check for zero.\r\n    // r could be zero if MIN_EXP is changed after the this value was created.\r\n    // This would cause a division by zero (x/t) and hence Infinity below, which would cause\r\n    // coeffToString to throw.\r\n    if (r.c[0]) {\r\n      e = r.e;\r\n      s = e + dp;\r\n      if (s < 3) s = 0;\r\n\r\n      // Newton-Raphson iteration.\r\n      for (; ;) {\r\n        t = r;\r\n        r = half.times(t.plus(div(x, t, dp, 1)));\r\n\r\n        if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {\r\n\r\n          // The exponent of r may here be one less than the final result exponent,\r\n          // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits\r\n          // are indexed correctly.\r\n          if (r.e < e) --s;\r\n          n = n.slice(s - 3, s + 1);\r\n\r\n          // The 4th rounding digit may be in error by -1 so if the 4 rounding digits\r\n          // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the\r\n          // iteration.\r\n          if (n == '9999' || !rep && n == '4999') {\r\n\r\n            // On the first iteration only, check to see if rounding up gives the\r\n            // exact result as the nines may infinitely repeat.\r\n            if (!rep) {\r\n              round(t, t.e + DECIMAL_PLACES + 2, 0);\r\n\r\n              if (t.times(t).eq(x)) {\r\n                r = t;\r\n                break;\r\n              }\r\n            }\r\n\r\n            dp += 4;\r\n            s += 4;\r\n            rep = 1;\r\n          } else {\r\n\r\n            // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact\r\n            // result. If not, then there are further digits and m will be truthy.\r\n            if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\r\n\r\n              // Truncate to the first rounding digit.\r\n              round(r, r.e + DECIMAL_PLACES + 2, 1);\r\n              m = !r.times(r).eq(x);\r\n            }\r\n\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in exponential notation and\r\n   * rounded using ROUNDING_MODE to dp fixed decimal places.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toExponential = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp++;\r\n    }\r\n    return format(this, dp, rm, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounding\r\n   * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',\r\n   * but e.g. (-0.00001).toFixed(0) is '-0'.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toFixed = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp = dp + this.e + 1;\r\n    }\r\n    return format(this, dp, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounded\r\n   * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties\r\n   * of the format or FORMAT object (see BigNumber.set).\r\n   *\r\n   * The formatting object may contain some or all of the properties shown below.\r\n   *\r\n   * FORMAT = {\r\n   *   prefix: '',\r\n   *   groupSize: 3,\r\n   *   secondaryGroupSize: 0,\r\n   *   groupSeparator: ',',\r\n   *   decimalSeparator: '.',\r\n   *   fractionGroupSize: 0,\r\n   *   fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n   *   suffix: ''\r\n   * };\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   * [format] {object} Formatting options. See FORMAT pbject above.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   * '[BigNumber Error] Argument not an object: {format}'\r\n   */\r\n  P.toFormat = function (dp, rm, format) {\r\n    var str,\r\n      x = this;\r\n\r\n    if (format == null) {\r\n      if (dp != null && rm && typeof rm == 'object') {\r\n        format = rm;\r\n        rm = null;\r\n      } else if (dp && typeof dp == 'object') {\r\n        format = dp;\r\n        dp = rm = null;\r\n      } else {\r\n        format = FORMAT;\r\n      }\r\n    } else if (typeof format != 'object') {\r\n      throw Error\r\n        (bignumberError + 'Argument not an object: ' + format);\r\n    }\r\n\r\n    str = x.toFixed(dp, rm);\r\n\r\n    if (x.c) {\r\n      var i,\r\n        arr = str.split('.'),\r\n        g1 = +format.groupSize,\r\n        g2 = +format.secondaryGroupSize,\r\n        groupSeparator = format.groupSeparator || '',\r\n        intPart = arr[0],\r\n        fractionPart = arr[1],\r\n        isNeg = x.s < 0,\r\n        intDigits = isNeg ? intPart.slice(1) : intPart,\r\n        len = intDigits.length;\r\n\r\n      if (g2) {\r\n        i = g1;\r\n        g1 = g2;\r\n        g2 = i;\r\n        len -= i;\r\n      }\r\n\r\n      if (g1 > 0 && len > 0) {\r\n        i = len % g1 || g1;\r\n        intPart = intDigits.substr(0, i);\r\n        for (; i < len; i += g1) intPart += groupSeparator + intDigits.substr(i, g1);\r\n        if (g2 > 0) intPart += groupSeparator + intDigits.slice(i);\r\n        if (isNeg) intPart = '-' + intPart;\r\n      }\r\n\r\n      str = fractionPart\r\n       ? intPart + (format.decimalSeparator || '') + ((g2 = +format.fractionGroupSize)\r\n        ? fractionPart.replace(new RegExp('\\\\d{' + g2 + '}\\\\B', 'g'),\r\n         '$&' + (format.fractionGroupSeparator || ''))\r\n        : fractionPart)\r\n       : intPart;\r\n    }\r\n\r\n    return (format.prefix || '') + str + (format.suffix || '');\r\n  };\r\n\r\n\r\n  /*\r\n   * Return an array of two BigNumbers representing the value of this BigNumber as a simple\r\n   * fraction with an integer numerator and an integer denominator.\r\n   * The denominator will be a positive non-zero value less than or equal to the specified\r\n   * maximum denominator. If a maximum denominator is not specified, the denominator will be\r\n   * the lowest value necessary to represent the number exactly.\r\n   *\r\n   * [md] {number|string|BigNumber} Integer >= 1, or Infinity. The maximum denominator.\r\n   *\r\n   * '[BigNumber Error] Argument {not an integer|out of range} : {md}'\r\n   */\r\n  P.toFraction = function (md) {\r\n    var d, d0, d1, d2, e, exp, n, n0, n1, q, r, s,\r\n      x = this,\r\n      xc = x.c;\r\n\r\n    if (md != null) {\r\n      n = new BigNumber(md);\r\n\r\n      // Throw if md is less than one or is not an integer, unless it is Infinity.\r\n      if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE)) {\r\n        throw Error\r\n          (bignumberError + 'Argument ' +\r\n            (n.isInteger() ? 'out of range: ' : 'not an integer: ') + valueOf(n));\r\n      }\r\n    }\r\n\r\n    if (!xc) return new BigNumber(x);\r\n\r\n    d = new BigNumber(ONE);\r\n    n1 = d0 = new BigNumber(ONE);\r\n    d1 = n0 = new BigNumber(ONE);\r\n    s = coeffToString(xc);\r\n\r\n    // Determine initial denominator.\r\n    // d is a power of 10 and the minimum max denominator that specifies the value exactly.\r\n    e = d.e = s.length - x.e - 1;\r\n    d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];\r\n    md = !md || n.comparedTo(d) > 0 ? (e > 0 ? d : n1) : n;\r\n\r\n    exp = MAX_EXP;\r\n    MAX_EXP = 1 / 0;\r\n    n = new BigNumber(s);\r\n\r\n    // n0 = d1 = 0\r\n    n0.c[0] = 0;\r\n\r\n    for (; ;)  {\r\n      q = div(n, d, 0, 1);\r\n      d2 = d0.plus(q.times(d1));\r\n      if (d2.comparedTo(md) == 1) break;\r\n      d0 = d1;\r\n      d1 = d2;\r\n      n1 = n0.plus(q.times(d2 = n1));\r\n      n0 = d2;\r\n      d = n.minus(q.times(d2 = d));\r\n      n = d2;\r\n    }\r\n\r\n    d2 = div(md.minus(d0), d1, 0, 1);\r\n    n0 = n0.plus(d2.times(n1));\r\n    d0 = d0.plus(d2.times(d1));\r\n    n0.s = n1.s = x.s;\r\n    e = e * 2;\r\n\r\n    // Determine which fraction is closer to x, n0/d0 or n1/d1\r\n    r = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(\r\n        div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];\r\n\r\n    MAX_EXP = exp;\r\n\r\n    return r;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return the value of this BigNumber converted to a number primitive.\r\n   */\r\n  P.toNumber = function () {\r\n    return +valueOf(this);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber rounded to sd significant digits\r\n   * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits\r\n   * necessary to represent the integer part of the value in fixed-point notation, then use\r\n   * exponential notation.\r\n   *\r\n   * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.toPrecision = function (sd, rm) {\r\n    if (sd != null) intCheck(sd, 1, MAX);\r\n    return format(this, sd, rm, 2);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in base b, or base 10 if b is\r\n   * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and\r\n   * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent\r\n   * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than\r\n   * TO_EXP_NEG, return exponential notation.\r\n   *\r\n   * [b] {number} Integer, 2 to ALPHABET.length inclusive.\r\n   *\r\n   * '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n   */\r\n  P.toString = function (b) {\r\n    var str,\r\n      n = this,\r\n      s = n.s,\r\n      e = n.e;\r\n\r\n    // Infinity or NaN?\r\n    if (e === null) {\r\n      if (s) {\r\n        str = 'Infinity';\r\n        if (s < 0) str = '-' + str;\r\n      } else {\r\n        str = 'NaN';\r\n      }\r\n    } else {\r\n      if (b == null) {\r\n        str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n         ? toExponential(coeffToString(n.c), e)\r\n         : toFixedPoint(coeffToString(n.c), e, '0');\r\n      } else if (b === 10 && alphabetHasNormalDecimalDigits) {\r\n        n = round(new BigNumber(n), DECIMAL_PLACES + e + 1, ROUNDING_MODE);\r\n        str = toFixedPoint(coeffToString(n.c), n.e, '0');\r\n      } else {\r\n        intCheck(b, 2, ALPHABET.length, 'Base');\r\n        str = convertBase(toFixedPoint(coeffToString(n.c), e, '0'), 10, b, s, true);\r\n      }\r\n\r\n      if (s < 0 && n.c[0]) str = '-' + str;\r\n    }\r\n\r\n    return str;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return as toString, but do not accept a base argument, and include the minus sign for\r\n   * negative zero.\r\n   */\r\n  P.valueOf = P.toJSON = function () {\r\n    return valueOf(this);\r\n  };\r\n\r\n\r\n  P._isBigNumber = true;\r\n\r\n  P[Symbol.toStringTag] = 'BigNumber';\r\n\r\n  // Node.js v10.12.0+\r\n  P[Symbol.for('nodejs.util.inspect.custom')] = P.valueOf;\r\n\r\n  if (configObject != null) BigNumber.set(configObject);\r\n\r\n  return BigNumber;\r\n}\r\n\r\n\r\n// PRIVATE HELPER FUNCTIONS\r\n\r\n// These functions don't need access to variables,\r\n// e.g. DECIMAL_PLACES, in the scope of the `clone` function above.\r\n\r\n\r\nfunction bitFloor(n) {\r\n  var i = n | 0;\r\n  return n > 0 || n === i ? i : i - 1;\r\n}\r\n\r\n\r\n// Return a coefficient array as a string of base 10 digits.\r\nfunction coeffToString(a) {\r\n  var s, z,\r\n    i = 1,\r\n    j = a.length,\r\n    r = a[0] + '';\r\n\r\n  for (; i < j;) {\r\n    s = a[i++] + '';\r\n    z = LOG_BASE - s.length;\r\n    for (; z--; s = '0' + s);\r\n    r += s;\r\n  }\r\n\r\n  // Determine trailing zeros.\r\n  for (j = r.length; r.charCodeAt(--j) === 48;);\r\n\r\n  return r.slice(0, j + 1 || 1);\r\n}\r\n\r\n\r\n// Compare the value of BigNumbers x and y.\r\nfunction compare(x, y) {\r\n  var a, b,\r\n    xc = x.c,\r\n    yc = y.c,\r\n    i = x.s,\r\n    j = y.s,\r\n    k = x.e,\r\n    l = y.e;\r\n\r\n  // Either NaN?\r\n  if (!i || !j) return null;\r\n\r\n  a = xc && !xc[0];\r\n  b = yc && !yc[0];\r\n\r\n  // Either zero?\r\n  if (a || b) return a ? b ? 0 : -j : i;\r\n\r\n  // Signs differ?\r\n  if (i != j) return i;\r\n\r\n  a = i < 0;\r\n  b = k == l;\r\n\r\n  // Either Infinity?\r\n  if (!xc || !yc) return b ? 0 : !xc ^ a ? 1 : -1;\r\n\r\n  // Compare exponents.\r\n  if (!b) return k > l ^ a ? 1 : -1;\r\n\r\n  j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n  // Compare digit by digit.\r\n  for (i = 0; i < j; i++) if (xc[i] != yc[i]) return xc[i] > yc[i] ^ a ? 1 : -1;\r\n\r\n  // Compare lengths.\r\n  return k == l ? 0 : k > l ^ a ? 1 : -1;\r\n}\r\n\r\n\r\n/*\r\n * Check that n is a primitive number, an integer, and in range, otherwise throw.\r\n */\r\nfunction intCheck(n, min, max, name) {\r\n  if (n < min || n > max || n !== mathfloor(n)) {\r\n    throw Error\r\n     (bignumberError + (name || 'Argument') + (typeof n == 'number'\r\n       ? n < min || n > max ? ' out of range: ' : ' not an integer: '\r\n       : ' not a primitive number: ') + String(n));\r\n  }\r\n}\r\n\r\n\r\n// Assumes finite n.\r\nfunction isOdd(n) {\r\n  var k = n.c.length - 1;\r\n  return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;\r\n}\r\n\r\n\r\nfunction toExponential(str, e) {\r\n  return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) +\r\n   (e < 0 ? 'e' : 'e+') + e;\r\n}\r\n\r\n\r\nfunction toFixedPoint(str, e, z) {\r\n  var len, zs;\r\n\r\n  // Negative exponent?\r\n  if (e < 0) {\r\n\r\n    // Prepend zeros.\r\n    for (zs = z + '.'; ++e; zs += z);\r\n    str = zs + str;\r\n\r\n  // Positive exponent\r\n  } else {\r\n    len = str.length;\r\n\r\n    // Append zeros.\r\n    if (++e > len) {\r\n      for (zs = z, e -= len; --e; zs += z);\r\n      str += zs;\r\n    } else if (e < len) {\r\n      str = str.slice(0, e) + '.' + str.slice(e);\r\n    }\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\n\r\n// EXPORT\r\n\r\n\r\nexport var BigNumber = clone();\r\n\r\nexport default BigNumber;\r\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 8363, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8369, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/splaytree-ts/src/index.ts"],"sourcesContent":["type Comparator<T> = (a: T, b: T) => number;\ntype Predicate<T> = (value: T) => boolean;\n\nclass SplayTreeNode<K, Node extends SplayTreeNode<K, Node>> {\n    readonly key: K;\n\n    left: Node | null = null;\n    right: Node | null = null;\n\n    constructor(key: K) {\n        this.key = key;\n    }\n}\n\nclass SplayTreeSetNode<K> extends SplayTreeNode<K, SplayTreeSetNode<K>> {\n    constructor(key: K) {\n        super(key);\n    }\n}\n\nclass SplayTreeMapNode<K, V> extends SplayTreeNode<K, SplayTreeMapNode<K, V>> {\n    readonly value: V;\n\n    constructor(key: K, value: V) {\n        super(key);\n        this.value = value;\n    }\n\n    replaceValue(value: V) {\n        const node = new SplayTreeMapNode(this.key, value);\n        node.left = this.left;\n        node.right = this.right;\n        return node;\n    }\n}\n\nabstract class SplayTree<K, Node extends SplayTreeNode<K, Node>> {\n    protected abstract root: Node | null;\n\n    public size = 0;\n\n    protected modificationCount = 0;\n\n    protected splayCount = 0;\n\n    protected abstract compare: Comparator<K>;\n\n    protected abstract validKey: Predicate<unknown>;\n\n    protected splay(key: K) {\n        const root = this.root;\n        if (root == null) {\n            this.compare(key, key);\n            return -1;\n        }\n\n        let right: Node | null = null;\n        let newTreeRight: Node | null = null;\n        let left: Node | null = null;\n        let newTreeLeft: Node | null = null;\n        let current = root;\n        const compare = this.compare;\n        let comp: number;\n        while (true) {\n            comp = compare(current.key, key);\n            if (comp > 0) {\n                let currentLeft = current.left;\n                if (currentLeft == null) break;\n                comp = compare(currentLeft.key, key);\n                if (comp > 0) {\n                    current.left = currentLeft.right;\n                    currentLeft.right = current;\n                    current = currentLeft;\n                    currentLeft = current.left;\n                    if (currentLeft == null) break;\n                }\n                if (right == null) {\n                    newTreeRight = current;\n                } else {\n                    right.left = current;\n                }\n                right = current;\n                current = currentLeft;\n            } else if (comp < 0) {\n                let currentRight = current.right;\n                if (currentRight == null) break;\n                comp = compare(currentRight.key, key);\n                if (comp < 0) {\n                    current.right = currentRight.left;\n                    currentRight.left = current;\n                    current = currentRight;\n                    currentRight = current.right;\n                    if (currentRight == null) break;\n                }\n                if (left == null) {\n                    newTreeLeft = current;\n                } else {\n                    left.right = current;\n                }\n                left = current;\n                current = currentRight;\n            } else {\n                break;\n            }\n        }\n        if (left != null) {\n            left.right = current.left;\n            current.left = newTreeLeft;\n        }\n        if (right != null) {\n            right.left = current.right;\n            current.right = newTreeRight;\n        }\n        if (this.root !== current) {\n            this.root = current;\n            this.splayCount++;\n        }\n        return comp;\n    }\n\n    protected splayMin(node: Node) {\n        let current = node;\n        let nextLeft = current.left;\n        while (nextLeft != null) {\n            const left = nextLeft;\n            current.left = left.right;\n            left.right = current;\n            current = left;\n            nextLeft = current.left;\n        }\n        return current;\n    }\n\n    protected splayMax(node: Node) {\n        let current = node;\n        let nextRight = current.right;\n        while (nextRight != null) {\n            const right = nextRight;\n            current.right = right.left;\n            right.left = current;\n            current = right;\n            nextRight = current.right;\n        }\n        return current;\n    }\n\n    protected _delete(key: K) {\n        if (this.root == null) return null;\n        const comp = this.splay(key);\n        if (comp != 0) return null;\n        let root = this.root;\n        const result = root;\n        const left = root.left;\n        this.size--;\n        if (left == null) {\n            this.root = root.right;\n        } else {\n            const right = root.right;\n            root = this.splayMax(left);\n\n            root.right = right;\n            this.root = root;\n        }\n        this.modificationCount++;\n        return result;\n    }\n\n    protected addNewRoot(node: Node, comp: number) {\n        this.size++;\n        this.modificationCount++;\n        const root = this.root;\n        if (root == null) {\n            this.root = node;\n            return;\n        }\n        if (comp < 0) {\n            node.left = root;\n            node.right = root.right;\n            root.right = null;\n        } else {\n            node.right = root;\n            node.left = root.left;\n            root.left = null;\n        }\n        this.root = node;\n    }\n\n    protected _first() {\n        const root = this.root;\n        if (root == null) return null;\n        this.root = this.splayMin(root);\n        return this.root;\n    }\n\n    protected _last() {\n        const root = this.root;\n        if (root == null) return null;\n        this.root = this.splayMax(root);\n        return this.root;\n    }\n\n    public clear() {\n        this.root = null;\n        this.size = 0;\n        this.modificationCount++;\n    }\n\n    public has(key: unknown) {\n        return this.validKey(key) && this.splay(key as K) == 0;\n    }\n\n    protected defaultCompare(): Comparator<K> {\n        return (a: K, b: K) => a < b ? -1 : a > b ? 1 : 0;\n    }\n\n    protected wrap(): SplayTreeWrapper<K, Node> {\n        return {\n            getRoot: () => { return this.root },\n            setRoot: (root) => { this.root = root },\n            getSize: () => { return this.size },\n            getModificationCount: () => { return this.modificationCount },\n            getSplayCount: () => { return this.splayCount },\n            setSplayCount: (count) => { this.splayCount = count },\n            splay: (key) => { return this.splay(key) },\n            has: (key) => { return this.has(key) },\n        };\n    }\n}\n\nexport class SplayTreeMap<K, V> extends SplayTree<K, SplayTreeMapNode<K, V>> implements Iterable<[K, V]>, Map<K, V> {\n    protected root: SplayTreeMapNode<K, V> | null = null;\n\n    protected compare: Comparator<K>;\n    protected validKey: Predicate<unknown>;\n\n    constructor(compare?: Comparator<K>, isValidKey?: Predicate<unknown>) {\n        super();\n        this.compare = compare ?? this.defaultCompare();\n        this.validKey = isValidKey ?? ((a: unknown) => a != null && a != undefined);\n    }\n\n    delete(key: unknown) {\n        if (!this.validKey(key)) return false;\n        return this._delete(key as K) != null;\n    }\n\n    forEach(f: (value: V, key: K, map: Map<K, V>) => void) {\n        const nodes: Iterator<[K, V]> = new SplayTreeMapEntryIterableIterator<K, V>(this.wrap());\n        let result: IteratorResult<[K, V]>;\n        while (result = nodes.next(), !result.done) {\n            f(result.value[1], result.value[0], this);\n        }\n    }\n\n    get(key: unknown): V | undefined {\n        if (!this.validKey(key)) return undefined;\n        if (this.root != null) {\n            const comp = this.splay(key as K);\n            if (comp == 0) {\n                return this.root!.value;\n            }\n        }\n        return undefined;\n    }\n\n    hasValue(value: unknown) {\n        const initialSplayCount = this.splayCount;\n        const visit = (node: SplayTreeMapNode<K, V> | null) => {\n            while (node != null) {\n                if (node.value == value) return true;\n                if (initialSplayCount != this.splayCount) {\n                    throw \"Concurrent modification during iteration.\";\n                }\n                if (node.right != null && visit(node.right)) {\n                    return true;\n                }\n                node = node.left;\n            }\n            return false;\n        }\n\n        return visit(this.root);\n    }\n\n    set(key: K, value: V) {\n        const comp = this.splay(key);\n        if (comp == 0) {\n            this.root = this.root!.replaceValue(value);\n            this.splayCount += 1;\n            return this;\n        }\n        this.addNewRoot(new SplayTreeMapNode(key, value), comp);\n        return this;\n    }\n\n    setAll(other: Map<K, V>) {\n        other.forEach((value: V, key: K) => {\n            this.set(key, value);\n        });\n    }\n\n    setIfAbsent(key: K, ifAbsent: () => V) {\n        let comp = this.splay(key);\n        if (comp == 0) {\n            return this.root!.value;\n        }\n        const modificationCount = this.modificationCount;\n        const splayCount = this.splayCount;\n        const value = ifAbsent();\n        if (modificationCount != this.modificationCount) {\n            throw \"Concurrent modification during iteration.\";\n        }\n        if (splayCount != this.splayCount) {\n            comp = this.splay(key);\n        }\n        this.addNewRoot(new SplayTreeMapNode(key, value), comp);\n        return value;\n    }\n\n    isEmpty() {\n        return this.root == null;\n    }\n\n    isNotEmpty() {\n        return !this.isEmpty();\n    }\n\n    firstKey() {\n        if (this.root == null) return null;\n        return this._first()!.key;\n    }\n\n    lastKey() {\n        if (this.root == null) return null;\n        return this._last()!.key;\n    }\n\n    lastKeyBefore(key: K) {\n        if (key == null) throw \"Invalid arguments(s)\";\n        if (this.root == null) return null;\n        const comp = this.splay(key);\n        if (comp < 0) return this.root!.key;\n        let node: SplayTreeMapNode<K, V> | null = this.root!.left;\n        if (node == null) return null;\n        let nodeRight = node.right;\n        while (nodeRight != null) {\n            node = nodeRight;\n            nodeRight = node.right;\n        }\n        return node!.key;\n    }\n\n    firstKeyAfter(key: K) {\n        if (key == null) throw \"Invalid arguments(s)\";\n        if (this.root == null) return null;\n        const comp = this.splay(key);\n        if (comp > 0) return this.root!.key;\n        let node: SplayTreeMapNode<K, V> | null = this.root!.right;\n        if (node == null) return null;\n        let nodeLeft = node.left;\n        while (nodeLeft != null) {\n            node = nodeLeft;\n            nodeLeft = node.left;\n        }\n        return node!.key;\n    }\n\n    update(key: K, update: (value: V) => V, ifAbsent?: () => V) {\n        let comp = this.splay(key);\n        if (comp == 0) {\n            const modificationCount = this.modificationCount;\n            const splayCount = this.splayCount;\n            const newValue = update(this.root!.value);\n            if (modificationCount != this.modificationCount) {\n                throw \"Concurrent modification during iteration.\";\n            }\n            if (splayCount != this.splayCount) {\n                this.splay(key);\n            }\n            this.root = this.root!.replaceValue(newValue);\n            this.splayCount += 1;\n            return newValue;\n        }\n        if (ifAbsent != null) {\n            const modificationCount = this.modificationCount;\n            const splayCount = this.splayCount;\n            const newValue = ifAbsent();\n            if (modificationCount != this.modificationCount) {\n                throw \"Concurrent modification during iteration.\";\n            }\n            if (splayCount != this.splayCount) {\n                comp = this.splay(key);\n            }\n            this.addNewRoot(new SplayTreeMapNode(key, newValue), comp);\n            return newValue;\n        }\n        throw \"Invalid argument (key): Key not in map.\"\n    }\n\n    updateAll(update: (key: K, value: V) => V) {\n        const root = this.root;\n        if (root == null) return;\n        const iterator = new SplayTreeMapEntryIterableIterator(this.wrap());\n        let node: IteratorResult<[K, V]>;\n        while (node = iterator.next(), !node.done) {\n            const newValue = update(...node.value);\n            iterator.replaceValue(newValue);\n        }\n    }\n\n    keys(): IterableIterator<K> {\n        return new SplayTreeKeyIterableIterator<K, SplayTreeMapNode<K, V>>(this.wrap());\n    }\n\n    values(): IterableIterator<V> {\n        return new SplayTreeValueIterableIterator<K, V>(this.wrap());\n    }\n\n    entries(): IterableIterator<[K, V]> {\n        return this[Symbol.iterator]();\n    }\n\n    [Symbol.iterator](): IterableIterator<[K, V]> {\n        return new SplayTreeMapEntryIterableIterator<K, V>(this.wrap());\n    }\n\n    [Symbol.toStringTag] = '[object Map]'\n}\n\nexport class SplayTreeSet<E> extends SplayTree<E, SplayTreeSetNode<E>> implements Iterable<E>, Set<E> {\n    protected root: SplayTreeSetNode<E> | null = null;\n\n    protected compare: Comparator<E>;\n    protected validKey: Predicate<unknown>;\n\n    constructor(compare?: Comparator<E>, isValidKey?: Predicate<unknown>) {\n        super();\n        this.compare = compare ?? this.defaultCompare();\n        this.validKey = isValidKey ?? ((v: unknown) => v != null && v != undefined );\n    }\n\n    delete(element: unknown) {\n        if (!this.validKey(element)) return false;\n        return this._delete(element as E) != null;\n    }\n\n    deleteAll(elements: Iterable<unknown>) {\n        for (const element of elements) {\n            this.delete(element);\n        }\n    }\n\n    forEach(f: (element: E, element2: E, set: Set<E>) => void) {\n        const nodes: Iterator<E> = this[Symbol.iterator]();\n        let result: IteratorResult<E>;\n        while (result = nodes.next(), !result.done) {\n            f(result.value, result.value, this);\n        }\n    }\n\n    add(element: E) {\n        const compare = this.splay(element);\n        if (compare != 0) this.addNewRoot(new SplayTreeSetNode(element), compare);\n        return this;\n    }\n\n    addAndReturn(element: E) {\n        const compare = this.splay(element);\n        if (compare != 0) this.addNewRoot(new SplayTreeSetNode(element), compare);\n        return this.root!.key;\n    }\n\n    addAll(elements: Iterable<E>) {\n        for (const element of elements) {\n            this.add(element);\n        }\n    }\n\n    isEmpty() {\n        return this.root == null;\n    }\n\n    isNotEmpty() {\n        return this.root != null;\n    }\n\n    single() {\n        if (this.size == 0) throw \"Bad state: No element\";\n        if (this.size > 1) throw \"Bad state: Too many element\";\n        return this.root!.key;\n    }\n\n    first() {\n        if (this.size == 0) throw \"Bad state: No element\";\n        return this._first()!.key;\n    }\n\n    last() {\n        if (this.size == 0) throw \"Bad state: No element\";\n        return this._last()!.key;\n    }\n\n    lastBefore(element: E) {\n        if (element == null) throw \"Invalid arguments(s)\";\n        if (this.root == null) return null;\n        const comp = this.splay(element);\n        if (comp < 0) return this.root!.key;\n        let node: SplayTreeSetNode<E> | null = this.root!.left;\n        if (node == null) return null;\n        let nodeRight = node.right;\n        while (nodeRight != null) {\n            node = nodeRight;\n            nodeRight = node.right;\n        }\n        return node!.key;\n    }\n\n    firstAfter(element: E) {\n        if (element == null) throw \"Invalid arguments(s)\";\n        if (this.root == null) return null;\n        const comp = this.splay(element);\n        if (comp > 0) return this.root!.key;\n        let node: SplayTreeSetNode<E> | null = this.root!.right;\n        if (node == null) return null;\n        let nodeLeft = node.left;\n        while (nodeLeft != null) {\n            node = nodeLeft;\n            nodeLeft = node.left;\n        }\n        return node!.key;\n    }\n\n    retainAll(elements: Iterable<unknown>) {\n        const retainSet = new SplayTreeSet<E>(this.compare, this.validKey);\n        const modificationCount = this.modificationCount;\n        for (const object of elements) {\n            if (modificationCount != this.modificationCount) {\n                throw \"Concurrent modification during iteration.\";\n            }\n            if (this.validKey(object) && this.splay(object as E) == 0) {\n                retainSet.add(this.root!.key);\n            }\n        }\n        if (retainSet.size != this.size) {\n            this.root = retainSet.root;\n            this.size = retainSet.size;\n            this.modificationCount++;\n        }\n    }\n\n    lookup(object: unknown): E | null {\n        if (!this.validKey(object)) return null;\n        const comp = this.splay(object as E);\n        if (comp != 0) return null;\n        return this.root!.key;\n    }\n\n    intersection(other: Set<unknown>): Set<E> {\n        const result = new SplayTreeSet<E>(this.compare, this.validKey);\n        for (const element of this) {\n            if (other.has(element)) result.add(element);\n        }\n        return result;\n    }\n\n    difference(other: Set<unknown>): Set<E> {\n        const result = new SplayTreeSet<E>(this.compare, this.validKey);\n        for (const element of this) {\n            if (!other.has(element)) result.add(element);\n        }\n        return result;\n    }\n\n    union(other: Set<E>): Set<E> {\n        const u = this.clone();\n        u.addAll(other);\n        return u;\n    }\n\n    protected clone() {\n        const set = new SplayTreeSet<E>(this.compare, this.validKey);\n        set.size = this.size;\n        set.root = this.copyNode<SplayTreeSetNode<E>>(this.root);\n        return set;\n    }\n\n    protected copyNode<Node extends SplayTreeNode<E, Node>>(node: Node | null) {\n        if (node == null) return null;\n        function copyChildren(node: Node, dest: SplayTreeSetNode<E>) {\n            let left: Node | null;\n            let right: Node | null;\n            do {\n                left = node.left;\n                right = node.right;\n                if (left != null) {\n                    const newLeft = new SplayTreeSetNode<E>(left.key);\n                    dest.left = newLeft;\n                    copyChildren(left, newLeft);\n                }\n                if (right != null) {\n                    const newRight = new SplayTreeSetNode<E>(right.key);\n                    dest.right = newRight;\n                    node = right;\n                    dest = newRight;\n                }\n            } while (right != null);\n        }\n\n        const result = new SplayTreeSetNode<E>(node.key);\n        copyChildren(node, result);\n        return result;\n    }\n\n    toSet(): Set<E> {\n        return this.clone();\n    }\n\n    entries(): IterableIterator<[E, E]> {\n        return new SplayTreeSetEntryIterableIterator<E, SplayTreeSetNode<E>>(this.wrap());\n    }\n\n    keys(): IterableIterator<E> {\n        return this[Symbol.iterator]();\n    }\n    \n    values(): IterableIterator<E> {\n        return this[Symbol.iterator]();\n    }\n\n    [Symbol.iterator](): IterableIterator<E> {\n        return new SplayTreeKeyIterableIterator<E, SplayTreeSetNode<E>>(this.wrap());\n    }\n\n    [Symbol.toStringTag] = '[object Set]'\n}\n\ninterface SplayTreeWrapper<K, Node extends SplayTreeNode<K, Node>> {\n    getRoot: () => Node | null;\n    setRoot: (root: Node | null) => void;\n    getSize: () => number;\n    getModificationCount: () => number;\n    getSplayCount: () => number;\n    setSplayCount: (count: number) => void;\n    splay: (key: K) => number;\n    has: (key: unknown) => boolean;\n}\n\ntype SplayTreeMapWrapper<K, V> = SplayTreeWrapper<K, SplayTreeMapNode<K, V>>;\n\nabstract class SplayTreeIterableIterator<K, Node extends SplayTreeNode<K, Node>, T> implements IterableIterator<T> {\n    protected readonly tree: SplayTreeWrapper<K, Node>;\n\n    protected readonly path = new Array<Node>();\n\n    protected modificationCount: number | null = null;\n\n    protected splayCount: number;\n\n    constructor(tree: SplayTreeWrapper<K, Node>) {\n        this.tree = tree;\n        this.splayCount = tree.getSplayCount();\n    }\n\n    [Symbol.iterator](): IterableIterator<T> {\n        return this;\n    }\n\n    next(): IteratorResult<T, null> {\n        if (this.moveNext()) return { done: false, value: this.current()! }\n        return { done: true, value: null }\n    }\n\n    protected current() {\n        if (!this.path.length) return null;\n        const node = this.path[this.path.length - 1];\n        return this.getValue(node);\n    }\n\n    protected rebuildPath(key: K) {\n        this.path.splice(0, this.path.length)\n        this.tree.splay(key);\n        this.path.push(this.tree.getRoot()!);\n        this.splayCount = this.tree.getSplayCount();\n    }\n\n    protected findLeftMostDescendent(node: Node | null) {\n        while (node != null) {\n            this.path.push(node);\n            node = node.left;\n        }\n    }\n\n    protected moveNext() {\n        if (this.modificationCount != this.tree.getModificationCount()) {\n            if (this.modificationCount == null) {\n                this.modificationCount = this.tree.getModificationCount();\n                let node = this.tree.getRoot();\n                while (node != null) {\n                    this.path.push(node);\n                    node = node.left;\n                }\n                return this.path.length > 0;\n            }\n            throw \"Concurrent modification during iteration.\";\n        }\n        if (!this.path.length) return false;\n        if (this.splayCount != this.tree.getSplayCount()) {\n            this.rebuildPath(this.path[this.path.length - 1].key);\n        }\n        let node = this.path[this.path.length - 1];\n        let next = node.right;\n        if (next != null) {\n            while (next != null) {\n                this.path.push(next);\n                next = next.left;\n            }\n            return true;\n        }\n        this.path.pop();\n        while (this.path.length && this.path[this.path.length - 1].right === node) {\n            node = this.path.pop()!;\n        }\n        return this.path.length > 0;\n    }\n\n    protected abstract getValue(node: Node): T\n}\n\nclass SplayTreeKeyIterableIterator<K, Node extends SplayTreeNode<K, Node>> extends SplayTreeIterableIterator<K, Node, K> {\n\n    protected getValue(node: Node) {\n        return node.key;\n    }\n}\n\nclass SplayTreeSetEntryIterableIterator<K, Node extends SplayTreeNode<K, Node>> extends SplayTreeIterableIterator<K, Node, [K, K]> {\n\n    protected getValue(node: Node): [K, K] {\n        return [node.key, node.key];\n    }\n}\n\nclass SplayTreeValueIterableIterator<K, V> extends SplayTreeIterableIterator<K, SplayTreeMapNode<K, V>, V> {\n\n    constructor(map: SplayTreeMapWrapper<K, V>) {\n        super(map);\n    }\n\n    protected getValue(node: SplayTreeMapNode<K, V>) {\n        return node.value;\n    }\n}\n\nclass SplayTreeMapEntryIterableIterator<K, V> extends SplayTreeIterableIterator<K, SplayTreeMapNode<K, V>, [K, V]> {\n\n    constructor(map: SplayTreeMapWrapper<K, V>) {\n        super(map);\n    }\n\n    protected getValue(node: SplayTreeMapNode<K, V>): [K, V] {\n        return [node.key, node.value];\n    }\n\n    replaceValue(value: V) {\n        if (this.modificationCount != this.tree.getModificationCount()) {\n            throw \"Concurrent modification during iteration.\";\n        }\n        if (this.splayCount != this.tree.getSplayCount()) {\n            this.rebuildPath(this.path[this.path.length - 1].key);\n        }\n        const last = this.path.pop()!;\n        const newLast = last.replaceValue(value);\n        if (!this.path.length) {\n            this.tree.setRoot(newLast);\n        } else {\n            const parent = this.path[this.path.length - 1];\n            if (last === parent.left) {\n                parent.left = newLast;\n            } else {\n                parent.right = newLast;\n            }\n        }\n        this.path.push(newLast);\n        const count = this.tree.getSplayCount() + 1;\n        this.tree.setSplayCount(count);\n        this.splayCount = count;\n    }\n}"],"names":["node"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 9070, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 9076, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/polyclip-ts/src/geom-in.ts","file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/polyclip-ts/src/constant.ts","file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/polyclip-ts/src/compare.ts","file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/polyclip-ts/src/orient.ts","file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/polyclip-ts/src/snap.ts","file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/polyclip-ts/src/identity.ts","file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/polyclip-ts/src/precision.ts","file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/polyclip-ts/src/bbox.ts","file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/polyclip-ts/src/operation.ts","file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/polyclip-ts/src/vector.ts","file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/polyclip-ts/src/sweep-event.ts","file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/polyclip-ts/src/geom-out.ts","file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/polyclip-ts/src/sweep-line.ts","file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/polyclip-ts/src/segment.ts","file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/polyclip-ts/src/index.ts"],"sourcesContent":["import BigNumber from \"bignumber.js\";\nimport { Bbox } from \"./bbox.js\";\nimport { precision } from \"./precision.js\";\nimport Segment from \"./segment.js\";\nimport { Point } from \"./sweep-event.js\";\n\nexport type Ring = [number, number][]\nexport type Poly = Ring[]\nexport type MultiPoly = Poly[]\nexport type Geom = Poly | MultiPoly\n\nexport class RingIn {\n  poly: PolyIn\n  isExterior: boolean\n  segments: Segment[]\n  bbox: Bbox\n\n  constructor(geomRing: Ring, poly: PolyIn, isExterior: boolean) {\n    if (!Array.isArray(geomRing) || geomRing.length === 0) {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\")\n    }\n\n    this.poly = poly\n    this.isExterior = isExterior\n    this.segments = []\n\n    if (\n      typeof geomRing[0][0] !== \"number\" ||\n      typeof geomRing[0][1] !== \"number\"\n    ) {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\")\n    }\n\n    const firstPoint = precision.snap({ x: new BigNumber(geomRing[0][0]), y: new BigNumber(geomRing[0][1]) }) as Point\n    this.bbox = {\n      ll: { x: firstPoint.x, y: firstPoint.y },\n      ur: { x: firstPoint.x, y: firstPoint.y },\n    }\n\n    let prevPoint = firstPoint\n    for (let i = 1, iMax = geomRing.length; i < iMax; i++) {\n      if (\n        typeof geomRing[i][0] !== \"number\" ||\n        typeof geomRing[i][1] !== \"number\"\n      ) {\n        throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\")\n      }\n      const point = precision.snap({ x: new BigNumber(geomRing[i][0]), y: new BigNumber(geomRing[i][1]) }) as Point\n      // skip repeated points\n      if (point.x.eq(prevPoint.x) && point.y.eq(prevPoint.y)) continue\n      this.segments.push(Segment.fromRing(prevPoint, point, this))\n      if (point.x.isLessThan(this.bbox.ll.x)) this.bbox.ll.x = point.x\n      if (point.y.isLessThan(this.bbox.ll.y)) this.bbox.ll.y = point.y\n      if (point.x.isGreaterThan(this.bbox.ur.x)) this.bbox.ur.x = point.x\n      if (point.y.isGreaterThan(this.bbox.ur.y)) this.bbox.ur.y = point.y\n      prevPoint = point\n    }\n    // add segment from last to first if last is not the same as first\n    if (!firstPoint.x.eq(prevPoint.x) || !firstPoint.y.eq(prevPoint.y)) {\n      this.segments.push(Segment.fromRing(prevPoint, firstPoint, this))\n    }\n  }\n\n  getSweepEvents() {\n    const sweepEvents = []\n    for (let i = 0, iMax = this.segments.length; i < iMax; i++) {\n      const segment = this.segments[i]\n      sweepEvents.push(segment.leftSE)\n      sweepEvents.push(segment.rightSE)\n    }\n    return sweepEvents\n  }\n}\n\nexport class PolyIn {\n  multiPoly: MultiPolyIn\n  exteriorRing: RingIn\n  interiorRings: RingIn[]\n  bbox: Bbox\n\n  constructor(geomPoly: Poly, multiPoly: MultiPolyIn) {\n    if (!Array.isArray(geomPoly)) {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\")\n    }\n    this.exteriorRing = new RingIn(geomPoly[0], this, true)\n    // copy by value\n    this.bbox = {\n      ll: { x: this.exteriorRing.bbox.ll.x, y: this.exteriorRing.bbox.ll.y },\n      ur: { x: this.exteriorRing.bbox.ur.x, y: this.exteriorRing.bbox.ur.y },\n    }\n    this.interiorRings = []\n    for (let i = 1, iMax = geomPoly.length; i < iMax; i++) {\n      const ring = new RingIn(geomPoly[i], this, false)\n      if (ring.bbox.ll.x.isLessThan(this.bbox.ll.x)) this.bbox.ll.x = ring.bbox.ll.x\n      if (ring.bbox.ll.y.isLessThan(this.bbox.ll.y)) this.bbox.ll.y = ring.bbox.ll.y\n      if (ring.bbox.ur.x.isGreaterThan(this.bbox.ur.x)) this.bbox.ur.x = ring.bbox.ur.x\n      if (ring.bbox.ur.y.isGreaterThan(this.bbox.ur.y)) this.bbox.ur.y = ring.bbox.ur.y\n      this.interiorRings.push(ring)\n    }\n    this.multiPoly = multiPoly\n  }\n\n  getSweepEvents() {\n    const sweepEvents = this.exteriorRing.getSweepEvents()\n    for (let i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n      const ringSweepEvents = this.interiorRings[i].getSweepEvents()\n      for (let j = 0, jMax = ringSweepEvents.length; j < jMax; j++) {\n        sweepEvents.push(ringSweepEvents[j])\n      }\n    }\n    return sweepEvents\n  }\n}\n\nexport class MultiPolyIn {\n  isSubject: boolean\n  polys: PolyIn[]\n  bbox: Bbox\n\n  constructor(geom: Geom, isSubject: boolean) {\n    if (!Array.isArray(geom)) {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\")\n    }\n\n    try {\n      // if the input looks like a polygon, convert it to a multipolygon\n      if (typeof geom[0][0][0] === \"number\") geom = [geom as Poly]\n    } catch (ex) {\n      // The input is either malformed or has empty arrays.\n      // In either case, it will be handled later on.\n    }\n\n    this.polys = []\n    this.bbox = {\n      ll: { x: new BigNumber(Number.POSITIVE_INFINITY), y: new BigNumber(Number.POSITIVE_INFINITY) },\n      ur: { x: new BigNumber(Number.NEGATIVE_INFINITY), y: new BigNumber(Number.NEGATIVE_INFINITY) },\n    }\n    for (let i = 0, iMax = geom.length; i < iMax; i++) {\n      const poly = new PolyIn(geom[i] as Poly, this)\n      if (poly.bbox.ll.x.isLessThan(this.bbox.ll.x)) this.bbox.ll.x = poly.bbox.ll.x\n      if (poly.bbox.ll.y.isLessThan(this.bbox.ll.y)) this.bbox.ll.y = poly.bbox.ll.y\n      if (poly.bbox.ur.x.isGreaterThan(this.bbox.ur.x)) this.bbox.ur.x = poly.bbox.ur.x\n      if (poly.bbox.ur.y.isGreaterThan(this.bbox.ur.y)) this.bbox.ur.y = poly.bbox.ur.y\n      this.polys.push(poly)\n    }\n    this.isSubject = isSubject\n  }\n\n  getSweepEvents() {\n    const sweepEvents = []\n    for (let i = 0, iMax = this.polys.length; i < iMax; i++) {\n      const polySweepEvents = this.polys[i].getSweepEvents()\n      for (let j = 0, jMax = polySweepEvents.length; j < jMax; j++) {\n        sweepEvents.push(polySweepEvents[j])\n      }\n    }\n    return sweepEvents\n  }\n}\n","export default <T>(x: T) => {\n    return () => {\n        return x\n    }\n}","import BigNumber from \"bignumber.js\"\nimport constant from \"./constant.js\"\n\nexport default (eps?: number) => {\n    const almostEqual = eps ? (a: BigNumber, b: BigNumber) =>\n        b.minus(a).abs().isLessThanOrEqualTo(eps)\n        : constant(false)\n\n    return (a: BigNumber, b: BigNumber) => {\n        if (almostEqual(a, b)) return 0\n\n        return a.comparedTo(b)\n    }\n}","import BigNumber from \"bignumber.js\";\nimport constant from \"./constant.js\";\nimport { Vector } from \"./vector.js\";\n\nexport default function (eps?: number) {\n    const almostCollinear = eps ? (area2: BigNumber, ax: BigNumber, ay: BigNumber, cx: BigNumber, cy: BigNumber) =>\n        area2.exponentiatedBy(2).isLessThanOrEqualTo(\n            cx.minus(ax).exponentiatedBy(2).plus(cy.minus(ay).exponentiatedBy(2))\n                .times(eps))\n        : constant(false)\n\n    return (a: Vector, b: Vector, c: Vector) => {\n        const ax = a.x, ay = a.y, cx = c.x, cy = c.y\n\n        const area2 = ay.minus(cy).times(b.x.minus(cx)).minus(ax.minus(cx).times(b.y.minus(cy)))\n\n        if (almostCollinear(area2, ax, ay, cx, cy)) return 0\n\n        return area2.comparedTo(0)\n    }\n}","import BigNumber from \"bignumber.js\";\nimport { SplayTreeSet } from \"splaytree-ts\"\nimport compare from \"./compare.js\";\nimport identity from \"./identity.js\";\nimport { Vector } from \"./vector.js\";\n\nexport default (eps?: number) => {\n  if (eps) {\n\n    const xTree = new SplayTreeSet(compare(eps))\n    const yTree = new SplayTreeSet(compare(eps))\n\n    const snapCoord = (coord: BigNumber, tree: SplayTreeSet<BigNumber>) => {\n      return tree.addAndReturn(coord)\n    }\n\n    const snap = (v: Vector) => {\n      return {\n        x: snapCoord(v.x, xTree),\n        y: snapCoord(v.y, yTree),\n      } as Vector\n    }\n\n    snap({ x: new BigNumber(0), y: new BigNumber(0)})\n\n    return snap\n  }\n\n  return identity<Vector>\n}","export default <T>(x: T) => {\n    return x;\n}","import compare from \"./compare.js\";\nimport orient from \"./orient.js\";\nimport snap from \"./snap.js\";\n\nconst set = (eps?: number) => {\n    return {\n        set: (eps?: number) => { precision = set(eps) },\n        reset: () => set(eps),\n        compare: compare(eps),\n        snap: snap(eps),\n        orient: orient(eps)\n    }\n}\n\nexport let precision: ReturnType<typeof set> = set()","import { Vector } from \"./vector.js\";\n\nexport interface Bbox {\n  ll: Vector;\n  ur: Vector;\n}\n\n/**\n * A bounding box has the format:\n *\n *  { ll: { x: xmin, y: ymin }, ur: { x: xmax, y: ymax } }\n *\n */\n\nexport const isInBbox = (bbox: Bbox, point: Vector) => {\n  return (\n    bbox.ll.x.isLessThanOrEqualTo(point.x) &&\n    point.x.isLessThanOrEqualTo(bbox.ur.x) &&\n    bbox.ll.y.isLessThanOrEqualTo(point.y) &&\n    point.y.isLessThanOrEqualTo(bbox.ur.y) \n  )\n}\n\n/* Returns either null, or a bbox (aka an ordered pair of points)\n * If there is only one point of overlap, a bbox with identical points\n * will be returned */\nexport const getBboxOverlap = (b1: Bbox, b2: Bbox) => {\n  // check if the bboxes overlap at all\n  if (\n    b2.ur.x.isLessThan(b1.ll.x) ||\n    b1.ur.x.isLessThan(b2.ll.x) ||\n    b2.ur.y.isLessThan(b1.ll.y) ||\n    b1.ur.y.isLessThan(b2.ll.y) \n  )\n    return null\n\n  // find the middle two X values\n  const lowerX = b1.ll.x.isLessThan(b2.ll.x) ? b2.ll.x : b1.ll.x\n  const upperX = b1.ur.x.isLessThan(b2.ur.x) ? b1.ur.x : b2.ur.x\n\n  // find the middle two Y values\n  const lowerY = b1.ll.y.isLessThan(b2.ll.y) ? b2.ll.y : b1.ll.y\n  const upperY = b1.ur.y.isLessThan(b2.ur.y) ? b1.ur.y : b2.ur.y\n\n  // put those middle values together to get the overlap\n  return { ll: { x: lowerX, y: lowerY }, ur: { x: upperX, y: upperY } } as Bbox\n}\n","import { SplayTreeSet } from \"splaytree-ts\"\nimport { getBboxOverlap } from \"./bbox.js\"\nimport * as geomIn from \"./geom-in.js\"\nimport { Geom } from \"./geom-in.js\"\nimport * as geomOut from \"./geom-out.js\"\nimport { precision } from \"./precision.js\"\nimport SweepEvent from \"./sweep-event.js\"\nimport SweepLine from \"./sweep-line.js\"\n\nexport class Operation {\n  type!: string\n  numMultiPolys!: number\n\n  run(type: string, geom: Geom, moreGeoms: Geom[]) {\n    operation.type = type\n\n    /* Convert inputs to MultiPoly objects */\n    const multipolys = [new geomIn.MultiPolyIn(geom, true)]\n    for (let i = 0, iMax = moreGeoms.length; i < iMax; i++) {\n      multipolys.push(new geomIn.MultiPolyIn(moreGeoms[i], false))\n    }\n    operation.numMultiPolys = multipolys.length\n\n    /* BBox optimization for difference operation\n     * If the bbox of a multipolygon that's part of the clipping doesn't\n     * intersect the bbox of the subject at all, we can just drop that\n     * multiploygon. */\n    if (operation.type === \"difference\") {\n      // in place removal\n      const subject = multipolys[0]\n      let i = 1\n      while (i < multipolys.length) {\n        if (getBboxOverlap(multipolys[i].bbox, subject.bbox) !== null) i++\n        else multipolys.splice(i, 1)\n      }\n    }\n\n    /* BBox optimization for intersection operation\n     * If we can find any pair of multipolygons whose bbox does not overlap,\n     * then the result will be empty. */\n    if (operation.type === \"intersection\") {\n      // TODO: this is O(n^2) in number of polygons. By sorting the bboxes,\n      //       it could be optimized to O(n * ln(n))\n      for (let i = 0, iMax = multipolys.length; i < iMax; i++) {\n        const mpA = multipolys[i]\n        for (let j = i + 1, jMax = multipolys.length; j < jMax; j++) {\n          if (getBboxOverlap(mpA.bbox, multipolys[j].bbox) === null) return []\n        }\n      }\n    }\n\n    /* Put segment endpoints in a priority queue */\n    const queue = new SplayTreeSet(SweepEvent.compare)\n    for (let i = 0, iMax = multipolys.length; i < iMax; i++) {\n      const sweepEvents = multipolys[i].getSweepEvents()\n      for (let j = 0, jMax = sweepEvents.length; j < jMax; j++) {\n        queue.add(sweepEvents[j])\n      }\n    }\n\n    /* Pass the sweep line over those endpoints */\n    const sweepLine = new SweepLine(queue)\n    let evt = null\n    if (queue.size != 0) {\n      evt = queue.first()\n      queue.delete(evt)\n    }\n    while (evt) {\n      const newEvents = sweepLine.process(evt)\n      for (let i = 0, iMax = newEvents.length; i < iMax; i++) {\n        const evt = newEvents[i]\n        if (evt.consumedBy === undefined) queue.add(evt)\n      }\n      if (queue.size != 0) {\n        evt = queue.first()\n        queue.delete(evt)\n      } else {\n        evt = null;\n      }\n    }\n\n    // free some memory we don't need anymore\n    precision.reset()\n\n    /* Collect and compile segments we're keeping into a multipolygon */\n    const ringsOut = geomOut.RingOut.factory(sweepLine.segments)\n    const result = new geomOut.MultiPolyOut(ringsOut)\n    return result.getGeom()\n  }\n}\n\n// singleton available by import\nconst operation = new Operation()\n\nexport default operation\n","import * as bn from \"bignumber.js\";\n\nexport interface Vector {\n  x: bn.BigNumber;\n  y: bn.BigNumber;\n}\n\n/* Cross Product of two vectors with first point at origin */\nexport const crossProduct = (a: Vector, b: Vector) => a.x.times(b.y).minus(a.y.times(b.x))\n\n/* Dot Product of two vectors with first point at origin */\nexport const dotProduct = (a: Vector, b: Vector) => a.x.times(b.x).plus(a.y.times(b.y))\n\nexport const length = (v: Vector) => dotProduct(v, v).sqrt()\n\n/* Get the sine of the angle from pShared -> pAngle to pShaed -> pBase */\nexport const sineOfAngle = (pShared: Vector, pBase: Vector, pAngle: Vector) => {\n  const vBase = { x: pBase.x.minus(pShared.x), y: pBase.y.minus(pShared.y) }\n  const vAngle = { x: pAngle.x.minus(pShared.x), y: pAngle.y.minus(pShared.y) }\n  return crossProduct(vAngle, vBase).div(length(vAngle)).div(length(vBase))\n}\n\n/* Get the cosine of the angle from pShared -> pAngle to pShaed -> pBase */\nexport const cosineOfAngle = (pShared: Vector, pBase: Vector, pAngle: Vector) => {\n  const vBase = { x: pBase.x.minus(pShared.x), y: pBase.y.minus(pShared.y) }\n  const vAngle = { x: pAngle.x.minus(pShared.x), y: pAngle.y.minus(pShared.y) }\n  return dotProduct(vAngle, vBase).div(length(vAngle)).div(length(vBase))\n}\n\n/* Get the x coordinate where the given line (defined by a point and vector)\n * crosses the horizontal line with the given y coordiante.\n * In the case of parrallel lines (including overlapping ones) returns null. */\nexport const horizontalIntersection = (pt: Vector, v: Vector, y: bn.BigNumber) => {\n  if (v.y.isZero()) return null\n  return { x: pt.x.plus((v.x.div(v.y)).times(y.minus(pt.y))), y: y }\n}\n\n/* Get the y coordinate where the given line (defined by a point and vector)\n * crosses the vertical line with the given x coordiante.\n * In the case of parrallel lines (including overlapping ones) returns null. */\nexport const verticalIntersection = (pt: Vector, v: Vector, x: bn.BigNumber) => {\n  if (v.x.isZero()) return null\n  return { x: x, y: pt.y.plus((v.y.div(v.x)).times(x.minus(pt.x))) }\n}\n\n/* Get the intersection of two lines, each defined by a base point and a vector.\n * In the case of parrallel lines (including overlapping ones) returns null. */\nexport const intersection = (pt1: Vector, v1: Vector, pt2: Vector, v2: Vector) => {\n  // take some shortcuts for vertical and horizontal lines\n  // this also ensures we don't calculate an intersection and then discover\n  // it's actually outside the bounding box of the line\n  if (v1.x.isZero()) return verticalIntersection(pt2, v2, pt1.x)\n  if (v2.x.isZero()) return verticalIntersection(pt1, v1, pt2.x)\n  if (v1.y.isZero()) return horizontalIntersection(pt2, v2, pt1.y)\n  if (v2.y.isZero()) return horizontalIntersection(pt1, v1, pt2.y)\n\n  // General case for non-overlapping segments.\n  // This algorithm is based on Schneider and Eberly.\n  // http://www.cimec.org.ar/~ncalvo/Schneider_Eberly.pdf - pg 244\n\n  const kross = crossProduct(v1, v2)\n  if (kross.isZero()) return null\n\n  const ve = { x: pt2.x.minus(pt1.x), y: pt2.y.minus(pt1.y) }\n  const d1 = crossProduct(ve, v1).div(kross)\n  const d2 = crossProduct(ve, v2).div(kross)\n\n  // take the average of the two calculations to minimize rounding error\n  const x1 = pt1.x.plus(d2.times(v1.x)),\n    x2 = pt2.x.plus(d1.times(v2.x))\n  const y1 = pt1.y.plus(d2.times(v1.y)),\n    y2 = pt2.y.plus(d1.times(v2.y))\n  const x = x1.plus(x2).div(2)\n  const y = y1.plus(y2).div(2)\n  return { x: x, y: y } as Vector\n}\n\n/* Given a vector, return one that is perpendicular */\nexport const perpendicular = (v: Vector) => {\n  return { x: v.y.negated(), y: v.x }\n}","import BigNumber from \"bignumber.js\";\nimport Segment from \"./segment.js\"\nimport { cosineOfAngle, sineOfAngle, Vector } from \"./vector.js\"\n\nexport interface Point extends Vector {\n  events: SweepEvent[];\n}\n\nexport default class SweepEvent {\n  point: Point;\n  isLeft: boolean;\n  segment!: Segment;\n  otherSE!: SweepEvent;\n  consumedBy: SweepEvent | undefined;\n\n  // for ordering sweep events in the sweep event queue\n  static compare(a: SweepEvent, b: SweepEvent) {\n    // favor event with a point that the sweep line hits first\n    const ptCmp = SweepEvent.comparePoints(a.point, b.point)\n    if (ptCmp !== 0) return ptCmp\n\n    // the points are the same, so link them if needed\n    if (a.point !== b.point) a.link(b)\n\n    // favor right events over left\n    if (a.isLeft !== b.isLeft) return a.isLeft ? 1 : -1\n\n    // we have two matching left or right endpoints\n    // ordering of this case is the same as for their segments\n    return Segment.compare(a.segment, b.segment)\n  }\n\n  // for ordering points in sweep line order\n  static comparePoints(aPt: Point, bPt: Point) {\n    if (aPt.x.isLessThan(bPt.x)) return -1\n    if (aPt.x.isGreaterThan(bPt.x)) return 1\n\n    if (aPt.y.isLessThan(bPt.y)) return -1\n    if (aPt.y.isGreaterThan(bPt.y)) return 1\n\n    return 0\n  }\n\n  // Warning: 'point' input will be modified and re-used (for performance)\n  constructor(point: Point, isLeft: boolean) {\n    if (point.events === undefined) point.events = [this]\n    else point.events.push(this)\n    this.point = point\n    this.isLeft = isLeft\n    // this.segment, this.otherSE set by factory\n  }\n\n  link(other: SweepEvent) {\n    if (other.point === this.point) {\n      throw new Error(\"Tried to link already linked events\")\n    }\n    const otherEvents = other.point.events\n    for (let i = 0, iMax = otherEvents.length; i < iMax; i++) {\n      const evt = otherEvents[i]\n      this.point.events.push(evt)\n      evt.point = this.point\n    }\n    this.checkForConsuming()\n  }\n\n  /* Do a pass over our linked events and check to see if any pair\n   * of segments match, and should be consumed. */\n  checkForConsuming() {\n    // FIXME: The loops in this method run O(n^2) => no good.\n    //        Maintain little ordered sweep event trees?\n    //        Can we maintaining an ordering that avoids the need\n    //        for the re-sorting with getLeftmostComparator in geom-out?\n\n    // Compare each pair of events to see if other events also match\n    const numEvents = this.point.events.length\n    for (let i = 0; i < numEvents; i++) {\n      const evt1 = this.point.events[i]\n      if (evt1.segment.consumedBy !== undefined) continue\n      for (let j = i + 1; j < numEvents; j++) {\n        const evt2 = this.point.events[j]\n        if (evt2.consumedBy !== undefined) continue\n        if (evt1.otherSE.point.events !== evt2.otherSE.point.events) continue\n        evt1.segment.consume(evt2.segment)\n      }\n    }\n  }\n\n  getAvailableLinkedEvents() {\n    // point.events is always of length 2 or greater\n    const events = []\n    for (let i = 0, iMax = this.point.events.length; i < iMax; i++) {\n      const evt = this.point.events[i]\n      if (evt !== this && !evt.segment.ringOut && evt.segment.isInResult()) {\n        events.push(evt)\n      }\n    }\n    return events\n  }\n\n  /**\n   * Returns a comparator function for sorting linked events that will\n   * favor the event that will give us the smallest left-side angle.\n   * All ring construction starts as low as possible heading to the right,\n   * so by always turning left as sharp as possible we'll get polygons\n   * without uncessary loops & holes.\n   *\n   * The comparator function has a compute cache such that it avoids\n   * re-computing already-computed values.\n   */\n  getLeftmostComparator(baseEvent: SweepEvent) {\n    const cache = new Map<SweepEvent, { sine: BigNumber, cosine: BigNumber }>()\n\n    const fillCache = (linkedEvent: SweepEvent) => {\n      const nextEvent = linkedEvent.otherSE\n      cache.set(linkedEvent, {\n        sine: sineOfAngle(this.point, baseEvent.point, nextEvent.point),\n        cosine: cosineOfAngle(this.point, baseEvent.point, nextEvent.point),\n      })\n    }\n\n    return (a: SweepEvent, b: SweepEvent) => {\n      if (!cache.has(a)) fillCache(a)\n      if (!cache.has(b)) fillCache(b)\n\n      const { sine: asine, cosine: acosine } = cache.get(a)!\n      const { sine: bsine, cosine: bcosine } = cache.get(b)!\n\n      // both on or above x-axis\n      if (asine.isGreaterThanOrEqualTo(0) && bsine.isGreaterThanOrEqualTo(0)) {\n        if (acosine.isLessThan(bcosine)) return 1\n        if (acosine.isGreaterThan(bcosine)) return -1\n        return 0\n      }\n\n      // both below x-axis\n      if (asine.isLessThan(0) && bsine.isLessThan(0)) {\n        if (acosine.isLessThan(bcosine)) return -1\n        if (acosine.isGreaterThan(bcosine)) return 1\n        return 0\n      }\n\n      // one above x-axis, one below\n      if (bsine.isLessThan(asine)) return -1\n      if (bsine.isGreaterThan(asine)) return 1\n      return 0\n    }\n  }\n}\n","import { MultiPoly, Poly, Ring } from \"./geom-in.js\"\nimport { precision } from \"./precision.js\"\nimport Segment from \"./segment.js\"\nimport SweepEvent from \"./sweep-event.js\"\n\nexport class RingOut {\n  events: SweepEvent[]\n  poly: PolyOut | null\n  _isExteriorRing: boolean | undefined\n  _enclosingRing: RingOut | null | undefined\n  \n  /* Given the segments from the sweep line pass, compute & return a series\n   * of closed rings from all the segments marked to be part of the result */\n  static factory(allSegments: Segment[]) {\n    const ringsOut = []\n\n    for (let i = 0, iMax = allSegments.length; i < iMax; i++) {\n      const segment = allSegments[i]\n      if (!segment.isInResult() || segment.ringOut) continue\n\n      let prevEvent = null\n      let event = segment.leftSE\n      let nextEvent = segment.rightSE\n      const events = [event]\n\n      const startingPoint = event.point\n      const intersectionLEs = []\n\n      /* Walk the chain of linked events to form a closed ring */\n      while (true) {\n        prevEvent = event\n        event = nextEvent\n        events.push(event)\n\n        /* Is the ring complete? */\n        if (event.point === startingPoint) break\n\n        while (true) {\n          const availableLEs = event.getAvailableLinkedEvents()\n\n          /* Did we hit a dead end? This shouldn't happen. Indicates some earlier\n           * part of the algorithm malfunctioned... please file a bug report. */\n          if (availableLEs.length === 0) {\n            const firstPt = events[0].point\n            const lastPt = events[events.length - 1].point\n            throw new Error(\n              `Unable to complete output ring starting at [${firstPt.x},` +\n                ` ${firstPt.y}]. Last matching segment found ends at` +\n                ` [${lastPt.x}, ${lastPt.y}].`,\n            )\n          }\n\n          /* Only one way to go, so cotinue on the path */\n          if (availableLEs.length === 1) {\n            nextEvent = availableLEs[0].otherSE\n            break\n          }\n\n          /* We must have an intersection. Check for a completed loop */\n          let indexLE = null\n          for (let j = 0, jMax = intersectionLEs.length; j < jMax; j++) {\n            if (intersectionLEs[j].point === event.point) {\n              indexLE = j\n              break\n            }\n          }\n          /* Found a completed loop. Cut that off and make a ring */\n          if (indexLE !== null) {\n            const intersectionLE = intersectionLEs.splice(indexLE)[0]\n            const ringEvents = events.splice(intersectionLE.index)\n            ringEvents.unshift(ringEvents[0].otherSE)\n            ringsOut.push(new RingOut(ringEvents.reverse()))\n            continue\n          }\n          /* register the intersection */\n          intersectionLEs.push({\n            index: events.length,\n            point: event.point,\n          })\n          /* Choose the left-most option to continue the walk */\n          const comparator = event.getLeftmostComparator(prevEvent)\n          nextEvent = availableLEs.sort(comparator)[0].otherSE\n          break\n        }\n      }\n\n      ringsOut.push(new RingOut(events))\n    }\n    return ringsOut\n  }\n\n  constructor(events: SweepEvent[]) {\n    this.events = events\n    for (let i = 0, iMax = events.length; i < iMax; i++) {\n      events[i].segment.ringOut = this\n    }\n    this.poly = null\n  }\n\n  getGeom() {\n    // Remove superfluous points (ie extra points along a straight line),\n    let prevPt = this.events[0].point\n    const points = [prevPt]\n    for (let i = 1, iMax = this.events.length - 1; i < iMax; i++) {\n      const pt = this.events[i].point\n      const nextPt = this.events[i + 1].point\n      if (precision.orient(pt, prevPt, nextPt) === 0) continue\n      points.push(pt)\n      prevPt = pt\n    }\n\n    // ring was all (within rounding error of angle calc) colinear points\n    if (points.length === 1) return null\n\n    // check if the starting point is necessary\n    const pt = points[0]\n    const nextPt = points[1]\n    if (precision.orient(pt, prevPt, nextPt) === 0) points.shift()\n\n    points.push(points[0])\n    const step = this.isExteriorRing() ? 1 : -1\n    const iStart = this.isExteriorRing() ? 0 : points.length - 1\n    const iEnd = this.isExteriorRing() ? points.length : -1\n    const orderedPoints: Ring = []\n    for (let i = iStart; i != iEnd; i += step)\n      orderedPoints.push([points[i].x.toNumber(), points[i].y.toNumber()])\n    return orderedPoints\n  }\n\n  isExteriorRing(): boolean {\n    if (this._isExteriorRing === undefined) {\n      const enclosing = this.enclosingRing()\n      this._isExteriorRing = enclosing ? !enclosing.isExteriorRing() : true\n    }\n    return this._isExteriorRing\n  }\n\n  enclosingRing() {\n    if (this._enclosingRing === undefined) {\n      this._enclosingRing = this._calcEnclosingRing()\n    }\n    return this._enclosingRing\n  }\n\n  /* Returns the ring that encloses this one, if any */\n  _calcEnclosingRing(): RingOut | null | undefined {\n    // start with the ealier sweep line event so that the prevSeg\n    // chain doesn't lead us inside of a loop of ours\n    let leftMostEvt = this.events[0]\n    for (let i = 1, iMax = this.events.length; i < iMax; i++) {\n      const evt = this.events[i]\n      if (SweepEvent.compare(leftMostEvt, evt) > 0) leftMostEvt = evt\n    }\n\n    let prevSeg: Segment | null | undefined = leftMostEvt.segment.prevInResult()\n    let prevPrevSeg: Segment | null | undefined = prevSeg ? prevSeg.prevInResult() : null\n\n    while (true) {\n      // no segment found, thus no ring can enclose us\n      if (!prevSeg) return null\n\n      // no segments below prev segment found, thus the ring of the prev\n      // segment must loop back around and enclose us\n      if (!prevPrevSeg) return prevSeg.ringOut\n\n      // if the two segments are of different rings, the ring of the prev\n      // segment must either loop around us or the ring of the prev prev\n      // seg, which would make us and the ring of the prev peers\n      if (prevPrevSeg.ringOut !== prevSeg.ringOut) {\n        if (prevPrevSeg.ringOut?.enclosingRing() !== prevSeg.ringOut) {\n          return prevSeg.ringOut\n        } else return prevSeg.ringOut?.enclosingRing()\n      }\n\n      // two segments are from the same ring, so this was a penisula\n      // of that ring. iterate downward, keep searching\n      prevSeg = prevPrevSeg.prevInResult()\n      prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null\n    }\n  }\n}\n\nexport class PolyOut {\n  exteriorRing: RingOut;\n  interiorRings: RingOut[];\n\n  constructor(exteriorRing: RingOut) {\n    this.exteriorRing = exteriorRing\n    exteriorRing.poly = this\n    this.interiorRings = []\n  }\n\n  addInterior(ring: RingOut) {\n    this.interiorRings.push(ring)\n    ring.poly = this\n  }\n\n  getGeom() {\n    const geom0 = this.exteriorRing.getGeom()\n    // exterior ring was all (within rounding error of angle calc) colinear points\n    if (geom0 === null) return null\n    const geom: Poly = [geom0];\n    for (let i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n      const ringGeom = this.interiorRings[i].getGeom()\n      // interior ring was all (within rounding error of angle calc) colinear points\n      if (ringGeom === null) continue\n      geom.push(ringGeom)\n    }\n    return geom\n  }\n}\n\nexport class MultiPolyOut {\n  rings: RingOut[];\n  polys: PolyOut[];\n\n  constructor(rings: RingOut[]) {\n    this.rings = rings\n    this.polys = this._composePolys(rings)\n  }\n\n  getGeom() {\n    const geom: MultiPoly = []\n    for (let i = 0, iMax = this.polys.length; i < iMax; i++) {\n      const polyGeom = this.polys[i].getGeom()\n      // exterior ring was all (within rounding error of angle calc) colinear points\n      if (polyGeom === null) continue\n      geom.push(polyGeom)\n    }\n    return geom\n  }\n\n  _composePolys(rings: RingOut[]) {\n    const polys = []\n    for (let i = 0, iMax = rings.length; i < iMax; i++) {\n      const ring = rings[i]\n      if (ring.poly) continue\n      if (ring.isExteriorRing()) polys.push(new PolyOut(ring))\n      else {\n        const enclosingRing = ring.enclosingRing()\n        if (!enclosingRing?.poly) polys.push(new PolyOut(enclosingRing!))\n        enclosingRing?.poly?.addInterior(ring)\n      }\n    }\n    return polys\n  }\n}\n","import { SplayTreeSet } from \"splaytree-ts\"\nimport Segment from \"./segment.js\"\nimport SweepEvent, { Point } from \"./sweep-event.js\"\n\n/**\n * NOTE:  We must be careful not to change any segments while\n *        they are in the SplayTree. AFAIK, there's no way to tell\n *        the tree to rebalance itself - thus before splitting\n *        a segment that's in the tree, we remove it from the tree,\n *        do the split, then re-insert it. (Even though splitting a\n *        segment *shouldn't* change its correct position in the\n *        sweep line tree, the reality is because of rounding errors,\n *        it sometimes does.)\n */\n\nexport default class SweepLine {\n  private queue: SplayTreeSet<SweepEvent>\n  private tree: SplayTreeSet<Segment>\n  segments: Segment[]\n\n  constructor(queue: SplayTreeSet<SweepEvent>, comparator = Segment.compare) {\n    this.queue = queue\n    this.tree = new SplayTreeSet(comparator)\n    this.segments = []\n  }\n\n  process(event: SweepEvent) {\n    const segment = event.segment\n    const newEvents: SweepEvent[] = []\n\n    // if we've already been consumed by another segment,\n    // clean up our body parts and get out\n    if (event.consumedBy) {\n      if (event.isLeft) this.queue.delete(event.otherSE)\n      else this.tree.delete(segment)\n      return newEvents\n    }\n\n    if (event.isLeft) this.tree.add(segment);\n\n    let prevSeg: Segment | null = segment\n    let nextSeg: Segment | null = segment\n\n    // skip consumed segments still in tree\n    do {\n      prevSeg = this.tree.lastBefore(prevSeg)\n    } while (prevSeg != null && prevSeg.consumedBy != undefined)\n\n    // skip consumed segments still in tree\n    do {\n      nextSeg = this.tree.firstAfter(nextSeg)\n    } while (nextSeg != null && nextSeg.consumedBy != undefined)\n\n    if (event.isLeft) {\n      // Check for intersections against the previous segment in the sweep line\n      let prevMySplitter = null\n      if (prevSeg) {\n        const prevInter = prevSeg.getIntersection(segment)\n        if (prevInter !== null) {\n          if (!segment.isAnEndpoint(prevInter)) prevMySplitter = prevInter\n          if (!prevSeg.isAnEndpoint(prevInter)) {\n            const newEventsFromSplit = this._splitSafely(prevSeg, prevInter)\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i])\n            }\n          }\n        }\n      }\n\n      // Check for intersections against the next segment in the sweep line\n      let nextMySplitter = null\n      if (nextSeg) {\n        const nextInter = nextSeg.getIntersection(segment)\n        if (nextInter !== null) {\n          if (!segment.isAnEndpoint(nextInter)) nextMySplitter = nextInter\n          if (!nextSeg.isAnEndpoint(nextInter)) {\n            const newEventsFromSplit = this._splitSafely(nextSeg, nextInter)\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i])\n            }\n          }\n        }\n      }\n\n      // For simplicity, even if we find more than one intersection we only\n      // spilt on the 'earliest' (sweep-line style) of the intersections.\n      // The other intersection will be handled in a future process().\n      if (prevMySplitter !== null || nextMySplitter !== null) {\n        let mySplitter = null\n        if (prevMySplitter === null) mySplitter = nextMySplitter\n        else if (nextMySplitter === null) mySplitter = prevMySplitter\n        else {\n          const cmpSplitters = SweepEvent.comparePoints(\n            prevMySplitter,\n            nextMySplitter,\n          )\n          mySplitter = cmpSplitters <= 0 ? prevMySplitter : nextMySplitter\n        }\n\n        // Rounding errors can cause changes in ordering,\n        // so remove afected segments and right sweep events before splitting\n        this.queue.delete(segment.rightSE)\n        newEvents.push(segment.rightSE)\n\n        const newEventsFromSplit = segment.split(mySplitter!)\n        for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n          newEvents.push(newEventsFromSplit[i])\n        }\n      }\n\n      if (newEvents.length > 0) {\n        // We found some intersections, so re-do the current event to\n        // make sure sweep line ordering is totally consistent for later\n        // use with the segment 'prev' pointers\n        this.tree.delete(segment)\n        newEvents.push(event)\n      } else {\n        // done with left event\n        this.segments.push(segment)\n        segment.prev = prevSeg\n      }\n    } else {\n      // event.isRight\n\n      // since we're about to be removed from the sweep line, check for\n      // intersections between our previous and next segments\n      if (prevSeg && nextSeg) {\n        const inter = prevSeg.getIntersection(nextSeg)\n        if (inter !== null) {\n          if (!prevSeg.isAnEndpoint(inter)) {\n            const newEventsFromSplit = this._splitSafely(prevSeg, inter)\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i])\n            }\n          }\n          if (!nextSeg.isAnEndpoint(inter)) {\n            const newEventsFromSplit = this._splitSafely(nextSeg, inter)\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i])\n            }\n          }\n        }\n      }\n\n      this.tree.delete(segment)\n    }\n\n    return newEvents\n  }\n\n  /* Safely split a segment that is currently in the datastructures\n   * IE - a segment other than the one that is currently being processed. */\n  _splitSafely(seg: Segment, pt: Point) {\n    // Rounding errors can cause changes in ordering,\n    // so remove afected segments and right sweep events before splitting\n    // removeNode() doesn't work, so have re-find the seg\n    // https://github.com/w8r/splay-tree/pull/5\n    this.tree.delete(seg)\n    const rightSE = seg.rightSE\n    this.queue.delete(rightSE)\n    const newEvents = seg.split(pt)\n    newEvents.push(rightSE)\n    // splitting can trigger consumption\n    if (seg.consumedBy === undefined) this.tree.add(seg)\n    return newEvents\n  }\n}\n","import { getBboxOverlap, isInBbox } from \"./bbox.js\"\nimport { MultiPolyIn, RingIn } from \"./geom-in.js\"\nimport { RingOut } from \"./geom-out.js\"\nimport operation from \"./operation.js\"\nimport { precision } from \"./precision.js\"\nimport SweepEvent, { Point } from \"./sweep-event.js\"\nimport { intersection } from \"./vector.js\"\n\ninterface State {\n  rings: RingIn[],\n  windings: number[],\n  multiPolys: MultiPolyIn[]\n}\n\n// Give segments unique ID's to get consistent sorting of\n// segments and sweep events when all else is identical\nlet segmentId = 0\n\nexport default class Segment {\n  id: number\n  leftSE: SweepEvent\n  rightSE: SweepEvent\n  rings: RingIn[] | null\n  windings: number[] | null\n  ringOut: RingOut | undefined\n  consumedBy: Segment | undefined\n  prev: Segment | null | undefined\n  _prevInResult: Segment | null | undefined\n  _beforeState: State | undefined\n  _afterState: State | undefined\n  _isInResult: boolean | undefined\n\n  /* This compare() function is for ordering segments in the sweep\n   * line tree, and does so according to the following criteria:\n   *\n   * Consider the vertical line that lies an infinestimal step to the\n   * right of the right-more of the two left endpoints of the input\n   * segments. Imagine slowly moving a point up from negative infinity\n   * in the increasing y direction. Which of the two segments will that\n   * point intersect first? That segment comes 'before' the other one.\n   *\n   * If neither segment would be intersected by such a line, (if one\n   * or more of the segments are vertical) then the line to be considered\n   * is directly on the right-more of the two left inputs.\n   */\n  static compare(a: Segment, b: Segment) {\n    const alx = a.leftSE.point.x\n    const blx = b.leftSE.point.x\n    const arx = a.rightSE.point.x\n    const brx = b.rightSE.point.x\n\n    // check if they're even in the same vertical plane\n    if (brx.isLessThan(alx)) return 1\n    if (arx.isLessThan(blx)) return -1\n\n    const aly = a.leftSE.point.y\n    const bly = b.leftSE.point.y\n    const ary = a.rightSE.point.y\n    const bry = b.rightSE.point.y\n\n    // is left endpoint of segment B the right-more?\n    if (alx.isLessThan(blx)) {\n      // are the two segments in the same horizontal plane?\n      if (bly.isLessThan(aly) && bly.isLessThan(ary)) return 1\n      if (bly.isGreaterThan(aly) && bly.isGreaterThan(ary)) return -1\n\n      // is the B left endpoint colinear to segment A?\n      const aCmpBLeft = a.comparePoint(b.leftSE.point)\n      if (aCmpBLeft < 0) return 1\n      if (aCmpBLeft > 0) return -1\n\n      // is the A right endpoint colinear to segment B ?\n      const bCmpARight = b.comparePoint(a.rightSE.point)\n      if (bCmpARight !== 0) return bCmpARight\n\n      // colinear segments, consider the one with left-more\n      // left endpoint to be first (arbitrary?)\n      return -1\n    }\n\n    // is left endpoint of segment A the right-more?\n    if (alx.isGreaterThan(blx)) {\n      if (aly.isLessThan(bly) && aly.isLessThan(bry)) return -1\n      if (aly.isGreaterThan(bly) && aly.isGreaterThan(bry)) return 1\n\n      // is the A left endpoint colinear to segment B?\n      const bCmpALeft = b.comparePoint(a.leftSE.point)\n      if (bCmpALeft !== 0) return bCmpALeft\n\n      // is the B right endpoint colinear to segment A?\n      const aCmpBRight = a.comparePoint(b.rightSE.point)\n      if (aCmpBRight < 0) return 1\n      if (aCmpBRight > 0) return -1\n\n      // colinear segments, consider the one with left-more\n      // left endpoint to be first (arbitrary?)\n      return 1\n    }\n\n    // if we get here, the two left endpoints are in the same\n    // vertical plane, ie alx === blx\n\n    // consider the lower left-endpoint to come first\n    if (aly.isLessThan(bly)) return -1\n    if (aly.isGreaterThan(bly)) return 1\n\n    // left endpoints are identical\n    // check for colinearity by using the left-more right endpoint\n\n    // is the A right endpoint more left-more?\n    if (arx.isLessThan(brx)) {\n      const bCmpARight = b.comparePoint(a.rightSE.point)\n      if (bCmpARight !== 0) return bCmpARight\n    }\n\n    // is the B right endpoint more left-more?\n    if (arx.isGreaterThan(brx)) {\n      const aCmpBRight = a.comparePoint(b.rightSE.point)\n      if (aCmpBRight < 0) return 1\n      if (aCmpBRight > 0) return -1\n    }\n\n    if (!arx.eq(brx)) {\n      // are these two [almost] vertical segments with opposite orientation?\n      // if so, the one with the lower right endpoint comes first\n      const ay = ary.minus(aly)\n      const ax = arx.minus(alx)\n      const by = bry.minus(bly)\n      const bx = brx.minus(blx)\n      if (ay.isGreaterThan(ax) && by.isLessThan(bx)) return 1\n      if (ay.isLessThan(ax) && by.isGreaterThan(bx)) return -1\n    }\n\n    // we have colinear segments with matching orientation\n    // consider the one with more left-more right endpoint to be first\n    if (arx.isGreaterThan(brx)) return 1\n    if (arx.isLessThan(brx)) return -1\n\n    // if we get here, two two right endpoints are in the same\n    // vertical plane, ie arx === brx\n\n    // consider the lower right-endpoint to come first\n    if (ary.isLessThan(bry)) return -1\n    if (ary.isGreaterThan(bry)) return 1\n\n    // right endpoints identical as well, so the segments are idential\n    // fall back on creation order as consistent tie-breaker\n    if (a.id < b.id) return -1\n    if (a.id > b.id) return 1\n\n    // identical segment, ie a === b\n    return 0\n  }\n\n  /* Warning: a reference to ringWindings input will be stored,\n   *  and possibly will be later modified */\n  constructor(leftSE: SweepEvent, rightSE: SweepEvent, rings: RingIn[], windings: number[]) {\n    this.id = ++segmentId\n    this.leftSE = leftSE\n    leftSE.segment = this\n    leftSE.otherSE = rightSE\n    this.rightSE = rightSE\n    rightSE.segment = this\n    rightSE.otherSE = leftSE\n    this.rings = rings\n    this.windings = windings\n    // left unset for performance, set later in algorithm\n    // this.ringOut, this.consumedBy, this.prev\n  }\n\n  static fromRing(pt1: Point, pt2: Point, ring: RingIn) {\n    let leftPt: Point, rightPt: Point, winding: number\n\n    // ordering the two points according to sweep line ordering\n    const cmpPts = SweepEvent.comparePoints(pt1, pt2)\n    if (cmpPts < 0) {\n      leftPt = pt1\n      rightPt = pt2\n      winding = 1\n    } else if (cmpPts > 0) {\n      leftPt = pt2\n      rightPt = pt1\n      winding = -1\n    } else\n      throw new Error(\n        `Tried to create degenerate segment at [${pt1.x}, ${pt1.y}]`,\n      )\n\n    const leftSE = new SweepEvent(leftPt, true)\n    const rightSE = new SweepEvent(rightPt, false)\n    return new Segment(leftSE, rightSE, [ring], [winding])\n  }\n\n  /* When a segment is split, the rightSE is replaced with a new sweep event */\n  replaceRightSE(newRightSE: SweepEvent) {\n    this.rightSE = newRightSE\n    this.rightSE.segment = this\n    this.rightSE.otherSE = this.leftSE\n    this.leftSE.otherSE = this.rightSE\n  }\n\n  bbox() {\n    const y1 = this.leftSE.point.y\n    const y2 = this.rightSE.point.y\n    return {\n      ll: { x: this.leftSE.point.x, y: y1.isLessThan(y2) ? y1 : y2 },\n      ur: { x: this.rightSE.point.x, y: y1.isGreaterThan(y2) ? y1 : y2 },\n    }\n  }\n\n  /* A vector from the left point to the right */\n  vector() {\n    return {\n      x: this.rightSE.point.x.minus(this.leftSE.point.x),\n      y: this.rightSE.point.y.minus(this.leftSE.point.y),\n    }\n  }\n\n  isAnEndpoint(pt: Point) {\n    return (\n      (pt.x.eq(this.leftSE.point.x) && pt.y.eq(this.leftSE.point.y)) ||\n      (pt.x.eq(this.rightSE.point.x) && pt.y.eq(this.rightSE.point.y))\n    )\n  }\n\n  /* Compare this segment with a point.\n   *\n   * A point P is considered to be colinear to a segment if there\n   * exists a distance D such that if we travel along the segment\n   * from one * endpoint towards the other a distance D, we find\n   * ourselves at point P.\n   *\n   * Return value indicates:\n   *\n   *   1: point lies above the segment (to the left of vertical)\n   *   0: point is colinear to segment\n   *  -1: point lies below the segment (to the right of vertical)\n   */\n  comparePoint(point: Point) {\n    return precision.orient(this.leftSE.point, point, this.rightSE.point)\n  }\n\n  /**\n   * Given another segment, returns the first non-trivial intersection\n   * between the two segments (in terms of sweep line ordering), if it exists.\n   *\n   * A 'non-trivial' intersection is one that will cause one or both of the\n   * segments to be split(). As such, 'trivial' vs. 'non-trivial' intersection:\n   *\n   *   * endpoint of segA with endpoint of segB --> trivial\n   *   * endpoint of segA with point along segB --> non-trivial\n   *   * endpoint of segB with point along segA --> non-trivial\n   *   * point along segA with point along segB --> non-trivial\n   *\n   * If no non-trivial intersection exists, return null\n   * Else, return null.\n   */\n  getIntersection(other: Segment) {\n    // If bboxes don't overlap, there can't be any intersections\n    const tBbox = this.bbox()\n    const oBbox = other.bbox()\n    const bboxOverlap = getBboxOverlap(tBbox, oBbox)\n    if (bboxOverlap === null) return null\n\n    // We first check to see if the endpoints can be considered intersections.\n    // This will 'snap' intersections to endpoints if possible, and will\n    // handle cases of colinearity.\n\n    const tlp = this.leftSE.point\n    const trp = this.rightSE.point\n    const olp = other.leftSE.point\n    const orp = other.rightSE.point\n\n    // does each endpoint touch the other segment?\n    // note that we restrict the 'touching' definition to only allow segments\n    // to touch endpoints that lie forward from where we are in the sweep line pass\n    const touchesOtherLSE = isInBbox(tBbox, olp) && this.comparePoint(olp) === 0\n    const touchesThisLSE = isInBbox(oBbox, tlp) && other.comparePoint(tlp) === 0\n    const touchesOtherRSE = isInBbox(tBbox, orp) && this.comparePoint(orp) === 0\n    const touchesThisRSE = isInBbox(oBbox, trp) && other.comparePoint(trp) === 0\n\n    // do left endpoints match?\n    if (touchesThisLSE && touchesOtherLSE) {\n      // these two cases are for colinear segments with matching left\n      // endpoints, and one segment being longer than the other\n      if (touchesThisRSE && !touchesOtherRSE) return trp\n      if (!touchesThisRSE && touchesOtherRSE) return orp\n      // either the two segments match exactly (two trival intersections)\n      // or just on their left endpoint (one trivial intersection\n      return null\n    }\n\n    // does this left endpoint matches (other doesn't)\n    if (touchesThisLSE) {\n      // check for segments that just intersect on opposing endpoints\n      if (touchesOtherRSE) {\n        if (tlp.x.eq(orp.x) && tlp.y.eq(orp.y)) return null\n      }\n      // t-intersection on left endpoint\n      return tlp\n    }\n\n    // does other left endpoint matches (this doesn't)\n    if (touchesOtherLSE) {\n      // check for segments that just intersect on opposing endpoints\n      if (touchesThisRSE) {\n        if (trp.x.eq(olp.x) && trp.y.eq(olp.y)) return null\n      }\n      // t-intersection on left endpoint\n      return olp\n    }\n\n    // trivial intersection on right endpoints\n    if (touchesThisRSE && touchesOtherRSE) return null\n\n    // t-intersections on just one right endpoint\n    if (touchesThisRSE) return trp\n    if (touchesOtherRSE) return orp\n\n    // None of our endpoints intersect. Look for a general intersection between\n    // infinite lines laid over the segments\n    const pt = intersection(tlp, this.vector(), olp, other.vector())\n\n    // are the segments parrallel? Note that if they were colinear with overlap,\n    // they would have an endpoint intersection and that case was already handled above\n    if (pt === null) return null\n\n    // is the intersection found between the lines not on the segments?\n    if (!isInBbox(bboxOverlap, pt)) return null\n\n    // round the the computed point if needed\n    return precision.snap(pt) as Point\n  }\n\n  /**\n   * Split the given segment into multiple segments on the given points.\n   *  * Each existing segment will retain its leftSE and a new rightSE will be\n   *    generated for it.\n   *  * A new segment will be generated which will adopt the original segment's\n   *    rightSE, and a new leftSE will be generated for it.\n   *  * If there are more than two points given to split on, new segments\n   *    in the middle will be generated with new leftSE and rightSE's.\n   *  * An array of the newly generated SweepEvents will be returned.\n   *\n   * Warning: input array of points is modified\n   */\n  split(point: Point) {\n    const newEvents = []\n    const alreadyLinked = point.events !== undefined\n\n    const newLeftSE = new SweepEvent(point, true)\n    const newRightSE = new SweepEvent(point, false)\n    const oldRightSE = this.rightSE\n    this.replaceRightSE(newRightSE)\n    newEvents.push(newRightSE)\n    newEvents.push(newLeftSE)\n    const newSeg = new Segment(\n      newLeftSE,\n      oldRightSE,\n      this.rings!.slice(),\n      this.windings!.slice(),\n    )\n\n    // when splitting a nearly vertical downward-facing segment,\n    // sometimes one of the resulting new segments is vertical, in which\n    // case its left and right events may need to be swapped\n    if (\n      SweepEvent.comparePoints(newSeg.leftSE.point, newSeg.rightSE.point) > 0\n    ) {\n      newSeg.swapEvents()\n    }\n    if (SweepEvent.comparePoints(this.leftSE.point, this.rightSE.point) > 0) {\n      this.swapEvents()\n    }\n\n    // in the point we just used to create new sweep events with was already\n    // linked to other events, we need to check if either of the affected\n    // segments should be consumed\n    if (alreadyLinked) {\n      newLeftSE.checkForConsuming()\n      newRightSE.checkForConsuming()\n    }\n\n    return newEvents\n  }\n\n  /* Swap which event is left and right */\n  swapEvents() {\n    const tmpEvt = this.rightSE\n    this.rightSE = this.leftSE\n    this.leftSE = tmpEvt\n    this.leftSE.isLeft = true\n    this.rightSE.isLeft = false\n    for (let i = 0, iMax = this.windings!.length; i < iMax; i++) {\n      this.windings![i] *= -1\n    }\n  }\n\n  /* Consume another segment. We take their rings under our wing\n   * and mark them as consumed. Use for perfectly overlapping segments */\n  consume(other: Segment) {\n    let consumer = this as Segment\n    let consumee = other\n    while (consumer.consumedBy) consumer = consumer.consumedBy\n    while (consumee.consumedBy) consumee = consumee.consumedBy\n\n    const cmp = Segment.compare(consumer, consumee)\n    if (cmp === 0) return // already consumed\n    // the winner of the consumption is the earlier segment\n    // according to sweep line ordering\n    if (cmp > 0) {\n      const tmp = consumer\n      consumer = consumee\n      consumee = tmp\n    }\n\n    // make sure a segment doesn't consume it's prev\n    if (consumer.prev === consumee) {\n      const tmp = consumer\n      consumer = consumee\n      consumee = tmp\n    }\n\n    for (let i = 0, iMax = consumee.rings!.length; i < iMax; i++) {\n      const ring = consumee.rings![i]\n      const winding = consumee.windings![i]\n      const index = consumer.rings!.indexOf(ring)\n      if (index === -1) {\n        consumer.rings!.push(ring)\n        consumer.windings!.push(winding)\n      } else consumer.windings![index] += winding\n    }\n    consumee.rings = null\n    consumee.windings = null\n    consumee.consumedBy = consumer\n\n    // mark sweep events consumed as to maintain ordering in sweep event queue\n    consumee.leftSE.consumedBy = consumer.leftSE\n    consumee.rightSE.consumedBy = consumer.rightSE\n  }\n\n  /* The first segment previous segment chain that is in the result */\n  prevInResult(): Segment | null | undefined {\n    if (this._prevInResult !== undefined) return this._prevInResult\n    if (!this.prev) this._prevInResult = null\n    else if (this.prev.isInResult()) this._prevInResult = this.prev\n    else this._prevInResult = this.prev.prevInResult()\n    return this._prevInResult\n  }\n\n  beforeState(): State {\n    if (this._beforeState !== undefined) return this._beforeState\n    if (!this.prev)\n      this._beforeState = {\n        rings: [],\n        windings: [],\n        multiPolys: [],\n      }\n    else {\n      const seg = this.prev.consumedBy || this.prev\n      this._beforeState = seg.afterState()\n    }\n    return this._beforeState\n  }\n\n  afterState() {\n    if (this._afterState !== undefined) return this._afterState\n\n    const beforeState = this.beforeState()\n    this._afterState = {\n      rings: beforeState.rings.slice(0),\n      windings: beforeState.windings.slice(0),\n      multiPolys: [],\n    }\n    const ringsAfter = this._afterState.rings\n    const windingsAfter = this._afterState.windings\n    const mpsAfter = this._afterState.multiPolys\n\n    // calculate ringsAfter, windingsAfter\n    for (let i = 0, iMax = this.rings!.length; i < iMax; i++) {\n      const ring = this.rings![i]\n      const winding = this.windings![i]\n      const index = ringsAfter.indexOf(ring)\n      if (index === -1) {\n        ringsAfter.push(ring)\n        windingsAfter.push(winding)\n      } else windingsAfter[index] += winding\n    }\n\n    // calcualte polysAfter\n    const polysAfter = []\n    const polysExclude = []\n    for (let i = 0, iMax = ringsAfter.length; i < iMax; i++) {\n      if (windingsAfter[i] === 0) continue // non-zero rule\n      const ring = ringsAfter[i]\n      const poly = ring.poly\n      if (polysExclude.indexOf(poly) !== -1) continue\n      if (ring.isExterior) polysAfter.push(poly)\n      else {\n        if (polysExclude.indexOf(poly) === -1) polysExclude.push(poly)\n        const index = polysAfter.indexOf(ring.poly)\n        if (index !== -1) polysAfter.splice(index, 1)\n      }\n    }\n\n    // calculate multiPolysAfter\n    for (let i = 0, iMax = polysAfter.length; i < iMax; i++) {\n      const mp = polysAfter[i].multiPoly\n      if (mpsAfter.indexOf(mp) === -1) mpsAfter.push(mp)\n    }\n\n    return this._afterState\n  }\n\n  /* Is this segment part of the final result? */\n  isInResult() {\n    // if we've been consumed, we're not in the result\n    if (this.consumedBy) return false\n\n    if (this._isInResult !== undefined) return this._isInResult\n\n    const mpsBefore = this.beforeState().multiPolys\n    const mpsAfter = this.afterState().multiPolys\n\n    switch (operation.type) {\n      case \"union\": {\n        // UNION - included iff:\n        //  * On one side of us there is 0 poly interiors AND\n        //  * On the other side there is 1 or more.\n        const noBefores = mpsBefore.length === 0\n        const noAfters = mpsAfter.length === 0\n        this._isInResult = noBefores !== noAfters\n        break\n      }\n\n      case \"intersection\": {\n        // INTERSECTION - included iff:\n        //  * on one side of us all multipolys are rep. with poly interiors AND\n        //  * on the other side of us, not all multipolys are repsented\n        //    with poly interiors\n        let least\n        let most\n        if (mpsBefore.length < mpsAfter.length) {\n          least = mpsBefore.length\n          most = mpsAfter.length\n        } else {\n          least = mpsAfter.length\n          most = mpsBefore.length\n        }\n        this._isInResult = most === operation.numMultiPolys && least < most\n        break\n      }\n\n      case \"xor\": {\n        // XOR - included iff:\n        //  * the difference between the number of multipolys represented\n        //    with poly interiors on our two sides is an odd number\n        const diff = Math.abs(mpsBefore.length - mpsAfter.length)\n        this._isInResult = diff % 2 === 1\n        break\n      }\n\n      case \"difference\": {\n        // DIFFERENCE included iff:\n        //  * on exactly one side, we have just the subject\n        const isJustSubject = (mps: MultiPolyIn[]) => mps.length === 1 && mps[0].isSubject\n        this._isInResult = isJustSubject(mpsBefore) !== isJustSubject(mpsAfter)\n        break\n      }\n    }\n\n    return this._isInResult\n  }\n}\n","import { Geom } from \"./geom-in.js\"\nimport { precision } from \"./precision.js\"\nimport operation from \"./operation.js\"\n\nexport { Geom }\n\nexport const union = (geom: Geom, ...moreGeoms: Geom[]) =>\n  operation.run(\"union\", geom, moreGeoms)\n\nexport const intersection = (geom: Geom, ...moreGeoms: Geom[]) =>\n  operation.run(\"intersection\", geom, moreGeoms)\n\nexport const xor = (geom: Geom, ...moreGeoms: Geom[]) =>\n  operation.run(\"xor\", geom, moreGeoms)\n\nexport const difference = (geom: Geom, ...moreGeoms: Geom[]) =>\n  operation.run(\"difference\", geom, moreGeoms)\n\nexport const setPrecision = precision.set"],"names":["BigNumber","eps","SplayTreeSet","pt","nextPt","SplayTreeSet","SplayTreeSet","SplayTreeSet","evt","BigNumber","intersection"],"mappings":";;;;;;;;AAAA,OAAOA,gBAAe;AICtB,SAAS,oBAAoB;;;AHD7B,IAAO,mBAAQ,CAAI,MAAS;IACxB,OAAO,MAAM;QACT,OAAO;IACX;AACJ;;ACDA,IAAO,kBAAQ,CAAC,QAAiB;IAC7B,MAAM,cAAc,MAAM,CAAC,GAAc,IACrC,EAAE,KAAA,CAAM,CAAC,EAAE,GAAA,CAAI,EAAE,mBAAA,CAAoB,GAAG,IACtC,iBAAS,KAAK;IAEpB,OAAO,CAAC,GAAc,MAAiB;QACnC,IAAI,YAAY,GAAG,CAAC,EAAG,CAAA,OAAO;QAE9B,OAAO,EAAE,UAAA,CAAW,CAAC;IACzB;AACJ;;ACTe,SAAR,eAAkB,GAAA,EAAc;IACnC,MAAM,kBAAkB,MAAM,CAAC,OAAkB,IAAe,IAAe,IAAe,KAC1F,MAAM,eAAA,CAAgB,CAAC,EAAE,mBAAA,CACrB,GAAG,KAAA,CAAM,EAAE,EAAE,eAAA,CAAgB,CAAC,EAAE,IAAA,CAAK,GAAG,KAAA,CAAM,EAAE,EAAE,eAAA,CAAgB,CAAC,CAAC,EAC/D,KAAA,CAAM,GAAG,KAChB,iBAAS,KAAK;IAEpB,OAAO,CAAC,GAAW,GAAW,MAAc;QACxC,MAAM,KAAK,EAAE,CAAA,EAAG,KAAK,EAAE,CAAA,EAAG,KAAK,EAAE,CAAA,EAAG,KAAK,EAAE,CAAA;QAE3C,MAAM,QAAQ,GAAG,KAAA,CAAM,EAAE,EAAE,KAAA,CAAM,EAAE,CAAA,CAAE,KAAA,CAAM,EAAE,CAAC,EAAE,KAAA,CAAM,GAAG,KAAA,CAAM,EAAE,EAAE,KAAA,CAAM,EAAE,CAAA,CAAE,KAAA,CAAM,EAAE,CAAC,CAAC;QAEvF,IAAI,gBAAgB,OAAO,IAAI,IAAI,IAAI,EAAE,EAAG,CAAA,OAAO;QAEnD,OAAO,MAAM,UAAA,CAAW,CAAC;IAC7B;AACJ;;;;AEpBA,IAAO,mBAAQ,CAAI,MAAS;IACxB,OAAO;AACX;;ADIA,IAAO,eAAQ,CAAC,QAAiB;IAC/B,IAAI,KAAK;QAEP,MAAM,QAAQ,4JAAI,eAAA,CAAa,gBAAQ,GAAG,CAAC;QAC3C,MAAM,QAAQ,4JAAI,eAAA,CAAa,gBAAQ,GAAG,CAAC;QAE3C,MAAM,YAAY,CAAC,OAAkB,SAAkC;YACrE,OAAO,KAAK,YAAA,CAAa,KAAK;QAChC;QAEA,MAAM,OAAO,CAAC,MAAc;YAC1B,OAAO;gBACL,GAAG,UAAU,EAAE,CAAA,EAAG,KAAK;gBACvB,GAAG,UAAU,EAAE,CAAA,EAAG,KAAK;YACzB;QACF;QAEA,KAAK;YAAE,GAAG,kJAAI,UAAA,CAAU,CAAC;YAAG,GAAG,kJAAI,UAAA,CAAU,CAAC;QAAC,CAAC;QAEhD,OAAO;IACT;IAEA,OAAO;AACT;;AEzBA,IAAM,MAAM,CAAC,QAAiB;IAC1B,OAAO;QACH,KAAK,CAACC,SAAiB;YAAE,YAAY,IAAIA,IAAG;QAAE;QAC9C,OAAO,IAAM,IAAI,GAAG;QACpB,SAAS,gBAAQ,GAAG;QACpB,MAAM,aAAK,GAAG;QACd,QAAQ,eAAO,GAAG;IACtB;AACJ;AAEO,IAAI,YAAoC,IAAI;;ACA5C,IAAM,WAAW,CAAC,MAAY,UAAkB;IACrD,OACE,KAAK,EAAA,CAAG,CAAA,CAAE,mBAAA,CAAoB,MAAM,CAAC,KACrC,MAAM,CAAA,CAAE,mBAAA,CAAoB,KAAK,EAAA,CAAG,CAAC,KACrC,KAAK,EAAA,CAAG,CAAA,CAAE,mBAAA,CAAoB,MAAM,CAAC,KACrC,MAAM,CAAA,CAAE,mBAAA,CAAoB,KAAK,EAAA,CAAG,CAAC;AAEzC;AAKO,IAAM,iBAAiB,CAAC,IAAU,OAAa;IAEpD,IACE,GAAG,EAAA,CAAG,CAAA,CAAE,UAAA,CAAW,GAAG,EAAA,CAAG,CAAC,KAC1B,GAAG,EAAA,CAAG,CAAA,CAAE,UAAA,CAAW,GAAG,EAAA,CAAG,CAAC,KAC1B,GAAG,EAAA,CAAG,CAAA,CAAE,UAAA,CAAW,GAAG,EAAA,CAAG,CAAC,KAC1B,GAAG,EAAA,CAAG,CAAA,CAAE,UAAA,CAAW,GAAG,EAAA,CAAG,CAAC,GAE1B,OAAO;IAGT,MAAM,SAAS,GAAG,EAAA,CAAG,CAAA,CAAE,UAAA,CAAW,GAAG,EAAA,CAAG,CAAC,IAAI,GAAG,EAAA,CAAG,CAAA,GAAI,GAAG,EAAA,CAAG,CAAA;IAC7D,MAAM,SAAS,GAAG,EAAA,CAAG,CAAA,CAAE,UAAA,CAAW,GAAG,EAAA,CAAG,CAAC,IAAI,GAAG,EAAA,CAAG,CAAA,GAAI,GAAG,EAAA,CAAG,CAAA;IAG7D,MAAM,SAAS,GAAG,EAAA,CAAG,CAAA,CAAE,UAAA,CAAW,GAAG,EAAA,CAAG,CAAC,IAAI,GAAG,EAAA,CAAG,CAAA,GAAI,GAAG,EAAA,CAAG,CAAA;IAC7D,MAAM,SAAS,GAAG,EAAA,CAAG,CAAA,CAAE,UAAA,CAAW,GAAG,EAAA,CAAG,CAAC,IAAI,GAAG,EAAA,CAAG,CAAA,GAAI,GAAG,EAAA,CAAG,CAAA;IAG7D,OAAO;QAAE,IAAI;YAAE,GAAG;YAAQ,GAAG;QAAO;QAAG,IAAI;YAAE,GAAG;YAAQ,GAAG;QAAO;IAAE;AACtE;;;AEtCO,IAAM,eAAe,CAAC,GAAW,IAAc,EAAE,CAAA,CAAE,KAAA,CAAM,EAAE,CAAC,EAAE,KAAA,CAAM,EAAE,CAAA,CAAE,KAAA,CAAM,EAAE,CAAC,CAAC;AAGlF,IAAM,aAAa,CAAC,GAAW,IAAc,EAAE,CAAA,CAAE,KAAA,CAAM,EAAE,CAAC,EAAE,IAAA,CAAK,EAAE,CAAA,CAAE,KAAA,CAAM,EAAE,CAAC,CAAC;AAE/E,IAAM,SAAS,CAAC,IAAc,WAAW,GAAG,CAAC,EAAE,IAAA,CAAK;AAGpD,IAAM,cAAc,CAAC,SAAiB,OAAe,WAAmB;IAC7E,MAAM,QAAQ;QAAE,GAAG,MAAM,CAAA,CAAE,KAAA,CAAM,QAAQ,CAAC;QAAG,GAAG,MAAM,CAAA,CAAE,KAAA,CAAM,QAAQ,CAAC;IAAE;IACzE,MAAM,SAAS;QAAE,GAAG,OAAO,CAAA,CAAE,KAAA,CAAM,QAAQ,CAAC;QAAG,GAAG,OAAO,CAAA,CAAE,KAAA,CAAM,QAAQ,CAAC;IAAE;IAC5E,OAAO,aAAa,QAAQ,KAAK,EAAE,GAAA,CAAI,OAAO,MAAM,CAAC,EAAE,GAAA,CAAI,OAAO,KAAK,CAAC;AAC1E;AAGO,IAAM,gBAAgB,CAAC,SAAiB,OAAe,WAAmB;IAC/E,MAAM,QAAQ;QAAE,GAAG,MAAM,CAAA,CAAE,KAAA,CAAM,QAAQ,CAAC;QAAG,GAAG,MAAM,CAAA,CAAE,KAAA,CAAM,QAAQ,CAAC;IAAE;IACzE,MAAM,SAAS;QAAE,GAAG,OAAO,CAAA,CAAE,KAAA,CAAM,QAAQ,CAAC;QAAG,GAAG,OAAO,CAAA,CAAE,KAAA,CAAM,QAAQ,CAAC;IAAE;IAC5E,OAAO,WAAW,QAAQ,KAAK,EAAE,GAAA,CAAI,OAAO,MAAM,CAAC,EAAE,GAAA,CAAI,OAAO,KAAK,CAAC;AACxE;AAKO,IAAM,yBAAyB,CAAC,IAAY,GAAW,MAAoB;IAChF,IAAI,EAAE,CAAA,CAAE,MAAA,CAAO,EAAG,CAAA,OAAO;IACzB,OAAO;QAAE,GAAG,GAAG,CAAA,CAAE,IAAA,CAAM,EAAE,CAAA,CAAE,GAAA,CAAI,EAAE,CAAC,EAAG,KAAA,CAAM,EAAE,KAAA,CAAM,GAAG,CAAC,CAAC,CAAC;QAAG;IAAK;AACnE;AAKO,IAAM,uBAAuB,CAAC,IAAY,GAAW,MAAoB;IAC9E,IAAI,EAAE,CAAA,CAAE,MAAA,CAAO,EAAG,CAAA,OAAO;IACzB,OAAO;QAAE;QAAM,GAAG,GAAG,CAAA,CAAE,IAAA,CAAM,EAAE,CAAA,CAAE,GAAA,CAAI,EAAE,CAAC,EAAG,KAAA,CAAM,EAAE,KAAA,CAAM,GAAG,CAAC,CAAC,CAAC;IAAE;AACnE;AAIO,IAAM,eAAe,CAAC,KAAa,IAAY,KAAa,OAAe;IAIhF,IAAI,GAAG,CAAA,CAAE,MAAA,CAAO,EAAG,CAAA,OAAO,qBAAqB,KAAK,IAAI,IAAI,CAAC;IAC7D,IAAI,GAAG,CAAA,CAAE,MAAA,CAAO,EAAG,CAAA,OAAO,qBAAqB,KAAK,IAAI,IAAI,CAAC;IAC7D,IAAI,GAAG,CAAA,CAAE,MAAA,CAAO,EAAG,CAAA,OAAO,uBAAuB,KAAK,IAAI,IAAI,CAAC;IAC/D,IAAI,GAAG,CAAA,CAAE,MAAA,CAAO,EAAG,CAAA,OAAO,uBAAuB,KAAK,IAAI,IAAI,CAAC;IAM/D,MAAM,QAAQ,aAAa,IAAI,EAAE;IACjC,IAAI,MAAM,MAAA,CAAO,EAAG,CAAA,OAAO;IAE3B,MAAM,KAAK;QAAE,GAAG,IAAI,CAAA,CAAE,KAAA,CAAM,IAAI,CAAC;QAAG,GAAG,IAAI,CAAA,CAAE,KAAA,CAAM,IAAI,CAAC;IAAE;IAC1D,MAAM,KAAK,aAAa,IAAI,EAAE,EAAE,GAAA,CAAI,KAAK;IACzC,MAAM,KAAK,aAAa,IAAI,EAAE,EAAE,GAAA,CAAI,KAAK;IAGzC,MAAM,KAAK,IAAI,CAAA,CAAE,IAAA,CAAK,GAAG,KAAA,CAAM,GAAG,CAAC,CAAC,GAClC,KAAK,IAAI,CAAA,CAAE,IAAA,CAAK,GAAG,KAAA,CAAM,GAAG,CAAC,CAAC;IAChC,MAAM,KAAK,IAAI,CAAA,CAAE,IAAA,CAAK,GAAG,KAAA,CAAM,GAAG,CAAC,CAAC,GAClC,KAAK,IAAI,CAAA,CAAE,IAAA,CAAK,GAAG,KAAA,CAAM,GAAG,CAAC,CAAC;IAChC,MAAM,IAAI,GAAG,IAAA,CAAK,EAAE,EAAE,GAAA,CAAI,CAAC;IAC3B,MAAM,IAAI,GAAG,IAAA,CAAK,EAAE,EAAE,GAAA,CAAI,CAAC;IAC3B,OAAO;QAAE;QAAM;IAAK;AACtB;;ACnEA,IAAqB,aAArB,MAAqB,YAAW;IAC9B,MAAA;IACA,OAAA;IACA,QAAA;IACA,QAAA;IACA,WAAA;IAAA,qDAAA;IAGA,OAAO,QAAQ,CAAA,EAAe,CAAA,EAAe;QAE3C,MAAM,QAAQ,YAAW,aAAA,CAAc,EAAE,KAAA,EAAO,EAAE,KAAK;QACvD,IAAI,UAAU,EAAG,CAAA,OAAO;QAGxB,IAAI,EAAE,KAAA,KAAU,EAAE,KAAA,CAAO,CAAA,EAAE,IAAA,CAAK,CAAC;QAGjC,IAAI,EAAE,MAAA,KAAW,EAAE,MAAA,CAAQ,CAAA,OAAO,EAAE,MAAA,GAAS,IAAI,CAAA;QAIjD,OAAO,QAAQ,OAAA,CAAQ,EAAE,OAAA,EAAS,EAAE,OAAO;IAC7C;IAAA,0CAAA;IAGA,OAAO,cAAc,GAAA,EAAY,GAAA,EAAY;QAC3C,IAAI,IAAI,CAAA,CAAE,UAAA,CAAW,IAAI,CAAC,EAAG,CAAA,OAAO,CAAA;QACpC,IAAI,IAAI,CAAA,CAAE,aAAA,CAAc,IAAI,CAAC,EAAG,CAAA,OAAO;QAEvC,IAAI,IAAI,CAAA,CAAE,UAAA,CAAW,IAAI,CAAC,EAAG,CAAA,OAAO,CAAA;QACpC,IAAI,IAAI,CAAA,CAAE,aAAA,CAAc,IAAI,CAAC,EAAG,CAAA,OAAO;QAEvC,OAAO;IACT;IAAA,wEAAA;IAGA,YAAY,KAAA,EAAc,MAAA,CAAiB;QACzC,IAAI,MAAM,MAAA,KAAW,KAAA,EAAW,CAAA,MAAM,MAAA,GAAS;YAAC,IAAI;SAAA;aAC/C,MAAM,MAAA,CAAO,IAAA,CAAK,IAAI;QAC3B,IAAA,CAAK,KAAA,GAAQ;QACb,IAAA,CAAK,MAAA,GAAS;IAEhB;IAEA,KAAK,KAAA,EAAmB;QACtB,IAAI,MAAM,KAAA,KAAU,IAAA,CAAK,KAAA,EAAO;YAC9B,MAAM,IAAI,MAAM,qCAAqC;QACvD;QACA,MAAM,cAAc,MAAM,KAAA,CAAM,MAAA;QAChC,IAAA,IAAS,IAAI,GAAG,OAAO,YAAY,MAAA,EAAQ,IAAI,MAAM,IAAK;YACxD,MAAM,MAAM,WAAA,CAAY,CAAC,CAAA;YACzB,IAAA,CAAK,KAAA,CAAM,MAAA,CAAO,IAAA,CAAK,GAAG;YAC1B,IAAI,KAAA,GAAQ,IAAA,CAAK,KAAA;QACnB;QACA,IAAA,CAAK,iBAAA,CAAkB;IACzB;IAAA;gDAAA,GAIA,oBAAoB;QAOlB,MAAM,YAAY,IAAA,CAAK,KAAA,CAAM,MAAA,CAAO,MAAA;QACpC,IAAA,IAAS,IAAI,GAAG,IAAI,WAAW,IAAK;YAClC,MAAM,OAAO,IAAA,CAAK,KAAA,CAAM,MAAA,CAAO,CAAC,CAAA;YAChC,IAAI,KAAK,OAAA,CAAQ,UAAA,KAAe,KAAA,EAAW,CAAA;YAC3C,IAAA,IAAS,IAAI,IAAI,GAAG,IAAI,WAAW,IAAK;gBACtC,MAAM,OAAO,IAAA,CAAK,KAAA,CAAM,MAAA,CAAO,CAAC,CAAA;gBAChC,IAAI,KAAK,UAAA,KAAe,KAAA,EAAW,CAAA;gBACnC,IAAI,KAAK,OAAA,CAAQ,KAAA,CAAM,MAAA,KAAW,KAAK,OAAA,CAAQ,KAAA,CAAM,MAAA,CAAQ,CAAA;gBAC7D,KAAK,OAAA,CAAQ,OAAA,CAAQ,KAAK,OAAO;YACnC;QACF;IACF;IAEA,2BAA2B;QAEzB,MAAM,SAAS,CAAC,CAAA;QAChB,IAAA,IAAS,IAAI,GAAG,OAAO,IAAA,CAAK,KAAA,CAAM,MAAA,CAAO,MAAA,EAAQ,IAAI,MAAM,IAAK;YAC9D,MAAM,MAAM,IAAA,CAAK,KAAA,CAAM,MAAA,CAAO,CAAC,CAAA;YAC/B,IAAI,QAAQ,IAAA,IAAQ,CAAC,IAAI,OAAA,CAAQ,OAAA,IAAW,IAAI,OAAA,CAAQ,UAAA,CAAW,GAAG;gBACpE,OAAO,IAAA,CAAK,GAAG;YACjB;QACF;QACA,OAAO;IACT;IAAA;;;;;;;;;GAAA,GAYA,sBAAsB,SAAA,EAAuB;QAC3C,MAAM,QAAQ,aAAA,GAAA,IAAI,IAAwD;QAE1E,MAAM,YAAY,CAAC,gBAA4B;YAC7C,MAAM,YAAY,YAAY,OAAA;YAC9B,MAAM,GAAA,CAAI,aAAa;gBACrB,MAAM,YAAY,IAAA,CAAK,KAAA,EAAO,UAAU,KAAA,EAAO,UAAU,KAAK;gBAC9D,QAAQ,cAAc,IAAA,CAAK,KAAA,EAAO,UAAU,KAAA,EAAO,UAAU,KAAK;YACpE,CAAC;QACH;QAEA,OAAO,CAAC,GAAe,MAAkB;YACvC,IAAI,CAAC,MAAM,GAAA,CAAI,CAAC,EAAG,CAAA,UAAU,CAAC;YAC9B,IAAI,CAAC,MAAM,GAAA,CAAI,CAAC,EAAG,CAAA,UAAU,CAAC;YAE9B,MAAM,EAAE,MAAM,KAAA,EAAO,QAAQ,OAAA,CAAQ,CAAA,GAAI,MAAM,GAAA,CAAI,CAAC;YACpD,MAAM,EAAE,MAAM,KAAA,EAAO,QAAQ,OAAA,CAAQ,CAAA,GAAI,MAAM,GAAA,CAAI,CAAC;YAGpD,IAAI,MAAM,sBAAA,CAAuB,CAAC,KAAK,MAAM,sBAAA,CAAuB,CAAC,GAAG;gBACtE,IAAI,QAAQ,UAAA,CAAW,OAAO,EAAG,CAAA,OAAO;gBACxC,IAAI,QAAQ,aAAA,CAAc,OAAO,EAAG,CAAA,OAAO,CAAA;gBAC3C,OAAO;YACT;YAGA,IAAI,MAAM,UAAA,CAAW,CAAC,KAAK,MAAM,UAAA,CAAW,CAAC,GAAG;gBAC9C,IAAI,QAAQ,UAAA,CAAW,OAAO,EAAG,CAAA,OAAO,CAAA;gBACxC,IAAI,QAAQ,aAAA,CAAc,OAAO,EAAG,CAAA,OAAO;gBAC3C,OAAO;YACT;YAGA,IAAI,MAAM,UAAA,CAAW,KAAK,EAAG,CAAA,OAAO,CAAA;YACpC,IAAI,MAAM,aAAA,CAAc,KAAK,EAAG,CAAA,OAAO;YACvC,OAAO;QACT;IACF;AACF;;AC9IO,IAAM,UAAN,MAAM,SAAQ;IACnB,OAAA;IACA,KAAA;IACA,gBAAA;IACA,eAAA;IAAA;2EAAA,GAIA,OAAO,QAAQ,WAAA,EAAwB;QACrC,MAAM,WAAW,CAAC,CAAA;QAElB,IAAA,IAAS,IAAI,GAAG,OAAO,YAAY,MAAA,EAAQ,IAAI,MAAM,IAAK;YACxD,MAAM,UAAU,WAAA,CAAY,CAAC,CAAA;YAC7B,IAAI,CAAC,QAAQ,UAAA,CAAW,KAAK,QAAQ,OAAA,CAAS,CAAA;YAE9C,IAAI,YAAY;YAChB,IAAI,QAAQ,QAAQ,MAAA;YACpB,IAAI,YAAY,QAAQ,OAAA;YACxB,MAAM,SAAS;gBAAC,KAAK;aAAA;YAErB,MAAM,gBAAgB,MAAM,KAAA;YAC5B,MAAM,kBAAkB,CAAC,CAAA;YAGzB,MAAO,KAAM;gBACX,YAAY;gBACZ,QAAQ;gBACR,OAAO,IAAA,CAAK,KAAK;gBAGjB,IAAI,MAAM,KAAA,KAAU,cAAe,CAAA;gBAEnC,MAAO,KAAM;oBACX,MAAM,eAAe,MAAM,wBAAA,CAAyB;oBAIpD,IAAI,aAAa,MAAA,KAAW,GAAG;wBAC7B,MAAM,UAAU,MAAA,CAAO,CAAC,CAAA,CAAE,KAAA;wBAC1B,MAAM,SAAS,MAAA,CAAO,OAAO,MAAA,GAAS,CAAC,CAAA,CAAE,KAAA;wBACzC,MAAM,IAAI,MACR,CAAA,4CAAA,EAA+C,QAAQ,CAAC,CAAA,EAAA,EAClD,QAAQ,CAAC,CAAA,wCAAA,EACR,OAAO,CAAC,CAAA,EAAA,EAAK,OAAO,CAAC,CAAA,EAAA,CAAA;oBAEhC;oBAGA,IAAI,aAAa,MAAA,KAAW,GAAG;wBAC7B,YAAY,YAAA,CAAa,CAAC,CAAA,CAAE,OAAA;wBAC5B;oBACF;oBAGA,IAAI,UAAU;oBACd,IAAA,IAAS,IAAI,GAAG,OAAO,gBAAgB,MAAA,EAAQ,IAAI,MAAM,IAAK;wBAC5D,IAAI,eAAA,CAAgB,CAAC,CAAA,CAAE,KAAA,KAAU,MAAM,KAAA,EAAO;4BAC5C,UAAU;4BACV;wBACF;oBACF;oBAEA,IAAI,YAAY,MAAM;wBACpB,MAAM,iBAAiB,gBAAgB,MAAA,CAAO,OAAO,CAAA,CAAE,CAAC,CAAA;wBACxD,MAAM,aAAa,OAAO,MAAA,CAAO,eAAe,KAAK;wBACrD,WAAW,OAAA,CAAQ,UAAA,CAAW,CAAC,CAAA,CAAE,OAAO;wBACxC,SAAS,IAAA,CAAK,IAAI,SAAQ,WAAW,OAAA,CAAQ,CAAC,CAAC;wBAC/C;oBACF;oBAEA,gBAAgB,IAAA,CAAK;wBACnB,OAAO,OAAO,MAAA;wBACd,OAAO,MAAM,KAAA;oBACf,CAAC;oBAED,MAAM,aAAa,MAAM,qBAAA,CAAsB,SAAS;oBACxD,YAAY,aAAa,IAAA,CAAK,UAAU,CAAA,CAAE,CAAC,CAAA,CAAE,OAAA;oBAC7C;gBACF;YACF;YAEA,SAAS,IAAA,CAAK,IAAI,SAAQ,MAAM,CAAC;QACnC;QACA,OAAO;IACT;IAEA,YAAY,MAAA,CAAsB;QAChC,IAAA,CAAK,MAAA,GAAS;QACd,IAAA,IAAS,IAAI,GAAG,OAAO,OAAO,MAAA,EAAQ,IAAI,MAAM,IAAK;YACnD,MAAA,CAAO,CAAC,CAAA,CAAE,OAAA,CAAQ,OAAA,GAAU,IAAA;QAC9B;QACA,IAAA,CAAK,IAAA,GAAO;IACd;IAEA,UAAU;QAER,IAAI,SAAS,IAAA,CAAK,MAAA,CAAO,CAAC,CAAA,CAAE,KAAA;QAC5B,MAAM,SAAS;YAAC,MAAM;SAAA;QACtB,IAAA,IAAS,IAAI,GAAG,OAAO,IAAA,CAAK,MAAA,CAAO,MAAA,GAAS,GAAG,IAAI,MAAM,IAAK;YAC5D,MAAME,MAAK,IAAA,CAAK,MAAA,CAAO,CAAC,CAAA,CAAE,KAAA;YAC1B,MAAMC,UAAS,IAAA,CAAK,MAAA,CAAO,IAAI,CAAC,CAAA,CAAE,KAAA;YAClC,IAAI,UAAU,MAAA,CAAOD,KAAI,QAAQC,OAAM,MAAM,EAAG,CAAA;YAChD,OAAO,IAAA,CAAKD,GAAE;YACd,SAASA;QACX;QAGA,IAAI,OAAO,MAAA,KAAW,EAAG,CAAA,OAAO;QAGhC,MAAM,KAAK,MAAA,CAAO,CAAC,CAAA;QACnB,MAAM,SAAS,MAAA,CAAO,CAAC,CAAA;QACvB,IAAI,UAAU,MAAA,CAAO,IAAI,QAAQ,MAAM,MAAM,EAAG,CAAA,OAAO,KAAA,CAAM;QAE7D,OAAO,IAAA,CAAK,MAAA,CAAO,CAAC,CAAC;QACrB,MAAM,OAAO,IAAA,CAAK,cAAA,CAAe,IAAI,IAAI,CAAA;QACzC,MAAM,SAAS,IAAA,CAAK,cAAA,CAAe,IAAI,IAAI,OAAO,MAAA,GAAS;QAC3D,MAAM,OAAO,IAAA,CAAK,cAAA,CAAe,IAAI,OAAO,MAAA,GAAS,CAAA;QACrD,MAAM,gBAAsB,CAAC,CAAA;QAC7B,IAAA,IAAS,IAAI,QAAQ,KAAK,MAAM,KAAK,KACnC,cAAc,IAAA,CAAK;YAAC,MAAA,CAAO,CAAC,CAAA,CAAE,CAAA,CAAE,QAAA,CAAS;YAAG,MAAA,CAAO,CAAC,CAAA,CAAE,CAAA,CAAE,QAAA,CAAS,CAAC;SAAC;QACrE,OAAO;IACT;IAEA,iBAA0B;QACxB,IAAI,IAAA,CAAK,eAAA,KAAoB,KAAA,GAAW;YACtC,MAAM,YAAY,IAAA,CAAK,aAAA,CAAc;YACrC,IAAA,CAAK,eAAA,GAAkB,YAAY,CAAC,UAAU,cAAA,CAAe,IAAI;QACnE;QACA,OAAO,IAAA,CAAK,eAAA;IACd;IAEA,gBAAgB;QACd,IAAI,IAAA,CAAK,cAAA,KAAmB,KAAA,GAAW;YACrC,IAAA,CAAK,cAAA,GAAiB,IAAA,CAAK,kBAAA,CAAmB;QAChD;QACA,OAAO,IAAA,CAAK,cAAA;IACd;IAAA,mDAAA,GAGA,qBAAiD;QAG/C,IAAI,cAAc,IAAA,CAAK,MAAA,CAAO,CAAC,CAAA;QAC/B,IAAA,IAAS,IAAI,GAAG,OAAO,IAAA,CAAK,MAAA,CAAO,MAAA,EAAQ,IAAI,MAAM,IAAK;YACxD,MAAM,MAAM,IAAA,CAAK,MAAA,CAAO,CAAC,CAAA;YACzB,IAAI,WAAW,OAAA,CAAQ,aAAa,GAAG,IAAI,EAAG,CAAA,cAAc;QAC9D;QAEA,IAAI,UAAsC,YAAY,OAAA,CAAQ,YAAA,CAAa;QAC3E,IAAI,cAA0C,UAAU,QAAQ,YAAA,CAAa,IAAI;QAEjF,MAAO,KAAM;YAEX,IAAI,CAAC,QAAS,CAAA,OAAO;YAIrB,IAAI,CAAC,YAAa,CAAA,OAAO,QAAQ,OAAA;YAKjC,IAAI,YAAY,OAAA,KAAY,QAAQ,OAAA,EAAS;gBAC3C,IAAI,YAAY,OAAA,EAAS,cAAc,MAAM,QAAQ,OAAA,EAAS;oBAC5D,OAAO,QAAQ,OAAA;gBACjB,MAAO,CAAA,OAAO,QAAQ,OAAA,EAAS,cAAc;YAC/C;YAIA,UAAU,YAAY,YAAA,CAAa;YACnC,cAAc,UAAU,QAAQ,YAAA,CAAa,IAAI;QACnD;IACF;AACF;AAEO,IAAM,UAAN,MAAc;IACnB,aAAA;IACA,cAAA;IAEA,YAAY,YAAA,CAAuB;QACjC,IAAA,CAAK,YAAA,GAAe;QACpB,aAAa,IAAA,GAAO,IAAA;QACpB,IAAA,CAAK,aAAA,GAAgB,CAAC,CAAA;IACxB;IAEA,YAAY,IAAA,EAAe;QACzB,IAAA,CAAK,aAAA,CAAc,IAAA,CAAK,IAAI;QAC5B,KAAK,IAAA,GAAO,IAAA;IACd;IAEA,UAAU;QACR,MAAM,QAAQ,IAAA,CAAK,YAAA,CAAa,OAAA,CAAQ;QAExC,IAAI,UAAU,KAAM,CAAA,OAAO;QAC3B,MAAM,OAAa;YAAC,KAAK;SAAA;QACzB,IAAA,IAAS,IAAI,GAAG,OAAO,IAAA,CAAK,aAAA,CAAc,MAAA,EAAQ,IAAI,MAAM,IAAK;YAC/D,MAAM,WAAW,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA,CAAQ;YAE/C,IAAI,aAAa,KAAM,CAAA;YACvB,KAAK,IAAA,CAAK,QAAQ;QACpB;QACA,OAAO;IACT;AACF;AAEO,IAAM,eAAN,MAAmB;IACxB,MAAA;IACA,MAAA;IAEA,YAAY,KAAA,CAAkB;QAC5B,IAAA,CAAK,KAAA,GAAQ;QACb,IAAA,CAAK,KAAA,GAAQ,IAAA,CAAK,aAAA,CAAc,KAAK;IACvC;IAEA,UAAU;QACR,MAAM,OAAkB,CAAC,CAAA;QACzB,IAAA,IAAS,IAAI,GAAG,OAAO,IAAA,CAAK,KAAA,CAAM,MAAA,EAAQ,IAAI,MAAM,IAAK;YACvD,MAAM,WAAW,IAAA,CAAK,KAAA,CAAM,CAAC,CAAA,CAAE,OAAA,CAAQ;YAEvC,IAAI,aAAa,KAAM,CAAA;YACvB,KAAK,IAAA,CAAK,QAAQ;QACpB;QACA,OAAO;IACT;IAEA,cAAc,KAAA,EAAkB;QAC9B,MAAM,QAAQ,CAAC,CAAA;QACf,IAAA,IAAS,IAAI,GAAG,OAAO,MAAM,MAAA,EAAQ,IAAI,MAAM,IAAK;YAClD,MAAM,OAAO,KAAA,CAAM,CAAC,CAAA;YACpB,IAAI,KAAK,IAAA,CAAM,CAAA;YACf,IAAI,KAAK,cAAA,CAAe,EAAG,CAAA,MAAM,IAAA,CAAK,IAAI,QAAQ,IAAI,CAAC;iBAClD;gBACH,MAAM,gBAAgB,KAAK,aAAA,CAAc;gBACzC,IAAI,CAAC,eAAe,KAAM,CAAA,MAAM,IAAA,CAAK,IAAI,QAAQ,aAAc,CAAC;gBAChE,eAAe,MAAM,YAAY,IAAI;YACvC;QACF;QACA,OAAO;IACT;AACF;;ACvOA,IAAqB,YAArB,MAA+B;IACrB,MAAA;IACA,KAAA;IACR,SAAA;IAEA,YAAY,KAAA,EAAiC,aAAa,QAAQ,OAAA,CAAS;QACzE,IAAA,CAAK,KAAA,GAAQ;QACb,IAAA,CAAK,IAAA,GAAO,4JAAIG,eAAAA,CAAa,UAAU;QACvC,IAAA,CAAK,QAAA,GAAW,CAAC,CAAA;IACnB;IAEA,QAAQ,KAAA,EAAmB;QACzB,MAAM,UAAU,MAAM,OAAA;QACtB,MAAM,YAA0B,CAAC,CAAA;QAIjC,IAAI,MAAM,UAAA,EAAY;YACpB,IAAI,MAAM,MAAA,CAAQ,CAAA,IAAA,CAAK,KAAA,CAAM,MAAA,CAAO,MAAM,OAAO;iBAC5C,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,OAAO;YAC7B,OAAO;QACT;QAEA,IAAI,MAAM,MAAA,CAAQ,CAAA,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,OAAO;QAEvC,IAAI,UAA0B;QAC9B,IAAI,UAA0B;QAG9B,GAAG;YACD,UAAU,IAAA,CAAK,IAAA,CAAK,UAAA,CAAW,OAAO;QACxC,QAAS,WAAW,QAAQ,QAAQ,UAAA,IAAc,KAAA,EAAA;QAGlD,GAAG;YACD,UAAU,IAAA,CAAK,IAAA,CAAK,UAAA,CAAW,OAAO;QACxC,QAAS,WAAW,QAAQ,QAAQ,UAAA,IAAc,KAAA,EAAA;QAElD,IAAI,MAAM,MAAA,EAAQ;YAEhB,IAAI,iBAAiB;YACrB,IAAI,SAAS;gBACX,MAAM,YAAY,QAAQ,eAAA,CAAgB,OAAO;gBACjD,IAAI,cAAc,MAAM;oBACtB,IAAI,CAAC,QAAQ,YAAA,CAAa,SAAS,EAAG,CAAA,iBAAiB;oBACvD,IAAI,CAAC,QAAQ,YAAA,CAAa,SAAS,GAAG;wBACpC,MAAM,qBAAqB,IAAA,CAAK,YAAA,CAAa,SAAS,SAAS;wBAC/D,IAAA,IAAS,IAAI,GAAG,OAAO,mBAAmB,MAAA,EAAQ,IAAI,MAAM,IAAK;4BAC/D,UAAU,IAAA,CAAK,kBAAA,CAAmB,CAAC,CAAC;wBACtC;oBACF;gBACF;YACF;YAGA,IAAI,iBAAiB;YACrB,IAAI,SAAS;gBACX,MAAM,YAAY,QAAQ,eAAA,CAAgB,OAAO;gBACjD,IAAI,cAAc,MAAM;oBACtB,IAAI,CAAC,QAAQ,YAAA,CAAa,SAAS,EAAG,CAAA,iBAAiB;oBACvD,IAAI,CAAC,QAAQ,YAAA,CAAa,SAAS,GAAG;wBACpC,MAAM,qBAAqB,IAAA,CAAK,YAAA,CAAa,SAAS,SAAS;wBAC/D,IAAA,IAAS,IAAI,GAAG,OAAO,mBAAmB,MAAA,EAAQ,IAAI,MAAM,IAAK;4BAC/D,UAAU,IAAA,CAAK,kBAAA,CAAmB,CAAC,CAAC;wBACtC;oBACF;gBACF;YACF;YAKA,IAAI,mBAAmB,QAAQ,mBAAmB,MAAM;gBACtD,IAAI,aAAa;gBACjB,IAAI,mBAAmB,KAAM,CAAA,aAAa;qBAAA,IACjC,mBAAmB,KAAM,CAAA,aAAa;qBAC1C;oBACH,MAAM,eAAe,WAAW,aAAA,CAC9B,gBACA;oBAEF,aAAa,gBAAgB,IAAI,iBAAiB;gBACpD;gBAIA,IAAA,CAAK,KAAA,CAAM,MAAA,CAAO,QAAQ,OAAO;gBACjC,UAAU,IAAA,CAAK,QAAQ,OAAO;gBAE9B,MAAM,qBAAqB,QAAQ,KAAA,CAAM,UAAW;gBACpD,IAAA,IAAS,IAAI,GAAG,OAAO,mBAAmB,MAAA,EAAQ,IAAI,MAAM,IAAK;oBAC/D,UAAU,IAAA,CAAK,kBAAA,CAAmB,CAAC,CAAC;gBACtC;YACF;YAEA,IAAI,UAAU,MAAA,GAAS,GAAG;gBAIxB,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,OAAO;gBACxB,UAAU,IAAA,CAAK,KAAK;YACtB,OAAO;gBAEL,IAAA,CAAK,QAAA,CAAS,IAAA,CAAK,OAAO;gBAC1B,QAAQ,IAAA,GAAO;YACjB;QACF,OAAO;YAKL,IAAI,WAAW,SAAS;gBACtB,MAAM,QAAQ,QAAQ,eAAA,CAAgB,OAAO;gBAC7C,IAAI,UAAU,MAAM;oBAClB,IAAI,CAAC,QAAQ,YAAA,CAAa,KAAK,GAAG;wBAChC,MAAM,qBAAqB,IAAA,CAAK,YAAA,CAAa,SAAS,KAAK;wBAC3D,IAAA,IAAS,IAAI,GAAG,OAAO,mBAAmB,MAAA,EAAQ,IAAI,MAAM,IAAK;4BAC/D,UAAU,IAAA,CAAK,kBAAA,CAAmB,CAAC,CAAC;wBACtC;oBACF;oBACA,IAAI,CAAC,QAAQ,YAAA,CAAa,KAAK,GAAG;wBAChC,MAAM,qBAAqB,IAAA,CAAK,YAAA,CAAa,SAAS,KAAK;wBAC3D,IAAA,IAAS,IAAI,GAAG,OAAO,mBAAmB,MAAA,EAAQ,IAAI,MAAM,IAAK;4BAC/D,UAAU,IAAA,CAAK,kBAAA,CAAmB,CAAC,CAAC;wBACtC;oBACF;gBACF;YACF;YAEA,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,OAAO;QAC1B;QAEA,OAAO;IACT;IAAA;0EAAA,GAIA,aAAa,GAAA,EAAc,EAAA,EAAW;QAKpC,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,GAAG;QACpB,MAAM,UAAU,IAAI,OAAA;QACpB,IAAA,CAAK,KAAA,CAAM,MAAA,CAAO,OAAO;QACzB,MAAM,YAAY,IAAI,KAAA,CAAM,EAAE;QAC9B,UAAU,IAAA,CAAK,OAAO;QAEtB,IAAI,IAAI,UAAA,KAAe,KAAA,EAAW,CAAA,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,GAAG;QACnD,OAAO;IACT;AACF;;AJ7JO,IAAM,YAAN,MAAgB;IACrB,KAAA;IACA,cAAA;IAEA,IAAI,IAAA,EAAc,IAAA,EAAY,SAAA,EAAmB;QAC/C,UAAU,IAAA,GAAO;QAGjB,MAAM,aAAa;YAAC,IAAW,YAAY,MAAM,IAAI,CAAC;SAAA;QACtD,IAAA,IAAS,IAAI,GAAG,OAAO,UAAU,MAAA,EAAQ,IAAI,MAAM,IAAK;YACtD,WAAW,IAAA,CAAK,IAAW,YAAY,SAAA,CAAU,CAAC,CAAA,EAAG,KAAK,CAAC;QAC7D;QACA,UAAU,aAAA,GAAgB,WAAW,MAAA;QAMrC,IAAI,UAAU,IAAA,KAAS,cAAc;YAEnC,MAAM,UAAU,UAAA,CAAW,CAAC,CAAA;YAC5B,IAAI,IAAI;YACR,MAAO,IAAI,WAAW,MAAA,CAAQ;gBAC5B,IAAI,eAAe,UAAA,CAAW,CAAC,CAAA,CAAE,IAAA,EAAM,QAAQ,IAAI,MAAM,KAAM,CAAA;qBAC1D,WAAW,MAAA,CAAO,GAAG,CAAC;YAC7B;QACF;QAKA,IAAI,UAAU,IAAA,KAAS,gBAAgB;YAGrC,IAAA,IAAS,IAAI,GAAG,OAAO,WAAW,MAAA,EAAQ,IAAI,MAAM,IAAK;gBACvD,MAAM,MAAM,UAAA,CAAW,CAAC,CAAA;gBACxB,IAAA,IAAS,IAAI,IAAI,GAAG,OAAO,WAAW,MAAA,EAAQ,IAAI,MAAM,IAAK;oBAC3D,IAAI,eAAe,IAAI,IAAA,EAAM,UAAA,CAAW,CAAC,CAAA,CAAE,IAAI,MAAM,KAAM,CAAA,OAAO,CAAC,CAAA;gBACrE;YACF;QACF;QAGA,MAAM,QAAQ,4JAAIC,eAAAA,CAAa,WAAW,OAAO;QACjD,IAAA,IAAS,IAAI,GAAG,OAAO,WAAW,MAAA,EAAQ,IAAI,MAAM,IAAK;YACvD,MAAM,cAAc,UAAA,CAAW,CAAC,CAAA,CAAE,cAAA,CAAe;YACjD,IAAA,IAAS,IAAI,GAAG,OAAO,YAAY,MAAA,EAAQ,IAAI,MAAM,IAAK;gBACxD,MAAM,GAAA,CAAI,WAAA,CAAY,CAAC,CAAC;YAC1B;QACF;QAGA,MAAM,YAAY,IAAI,UAAU,KAAK;QACrC,IAAI,MAAM;QACV,IAAI,MAAM,IAAA,IAAQ,GAAG;YACnB,MAAM,MAAM,KAAA,CAAM;YAClB,MAAM,MAAA,CAAO,GAAG;QAClB;QACA,MAAO,IAAK;YACV,MAAM,YAAY,UAAU,OAAA,CAAQ,GAAG;YACvC,IAAA,IAAS,IAAI,GAAG,OAAO,UAAU,MAAA,EAAQ,IAAI,MAAM,IAAK;gBACtD,MAAMC,OAAM,SAAA,CAAU,CAAC,CAAA;gBACvB,IAAIA,KAAI,UAAA,KAAe,KAAA,EAAW,CAAA,MAAM,GAAA,CAAIA,IAAG;YACjD;YACA,IAAI,MAAM,IAAA,IAAQ,GAAG;gBACnB,MAAM,MAAM,KAAA,CAAM;gBAClB,MAAM,MAAA,CAAO,GAAG;YAClB,OAAO;gBACL,MAAM;YACR;QACF;QAGA,UAAU,KAAA,CAAM;QAGhB,MAAM,WAAmB,QAAQ,OAAA,CAAQ,UAAU,QAAQ;QAC3D,MAAM,SAAS,IAAY,aAAa,QAAQ;QAChD,OAAO,OAAO,OAAA,CAAQ;IACxB;AACF;AAGA,IAAM,YAAY,IAAI,UAAU;AAEhC,IAAO,oBAAQ;;AK9Ef,IAAI,YAAY;AAEhB,IAAqB,UAArB,MAAqB,SAAQ;IAC3B,GAAA;IACA,OAAA;IACA,QAAA;IACA,MAAA;IACA,SAAA;IACA,QAAA;IACA,WAAA;IACA,KAAA;IACA,cAAA;IACA,aAAA;IACA,YAAA;IACA,YAAA;IAAA;;;;;;;;;;;;GAAA,GAeA,OAAO,QAAQ,CAAA,EAAY,CAAA,EAAY;QACrC,MAAM,MAAM,EAAE,MAAA,CAAO,KAAA,CAAM,CAAA;QAC3B,MAAM,MAAM,EAAE,MAAA,CAAO,KAAA,CAAM,CAAA;QAC3B,MAAM,MAAM,EAAE,OAAA,CAAQ,KAAA,CAAM,CAAA;QAC5B,MAAM,MAAM,EAAE,OAAA,CAAQ,KAAA,CAAM,CAAA;QAG5B,IAAI,IAAI,UAAA,CAAW,GAAG,EAAG,CAAA,OAAO;QAChC,IAAI,IAAI,UAAA,CAAW,GAAG,EAAG,CAAA,OAAO,CAAA;QAEhC,MAAM,MAAM,EAAE,MAAA,CAAO,KAAA,CAAM,CAAA;QAC3B,MAAM,MAAM,EAAE,MAAA,CAAO,KAAA,CAAM,CAAA;QAC3B,MAAM,MAAM,EAAE,OAAA,CAAQ,KAAA,CAAM,CAAA;QAC5B,MAAM,MAAM,EAAE,OAAA,CAAQ,KAAA,CAAM,CAAA;QAG5B,IAAI,IAAI,UAAA,CAAW,GAAG,GAAG;YAEvB,IAAI,IAAI,UAAA,CAAW,GAAG,KAAK,IAAI,UAAA,CAAW,GAAG,EAAG,CAAA,OAAO;YACvD,IAAI,IAAI,aAAA,CAAc,GAAG,KAAK,IAAI,aAAA,CAAc,GAAG,EAAG,CAAA,OAAO,CAAA;YAG7D,MAAM,YAAY,EAAE,YAAA,CAAa,EAAE,MAAA,CAAO,KAAK;YAC/C,IAAI,YAAY,EAAG,CAAA,OAAO;YAC1B,IAAI,YAAY,EAAG,CAAA,OAAO,CAAA;YAG1B,MAAM,aAAa,EAAE,YAAA,CAAa,EAAE,OAAA,CAAQ,KAAK;YACjD,IAAI,eAAe,EAAG,CAAA,OAAO;YAI7B,OAAO,CAAA;QACT;QAGA,IAAI,IAAI,aAAA,CAAc,GAAG,GAAG;YAC1B,IAAI,IAAI,UAAA,CAAW,GAAG,KAAK,IAAI,UAAA,CAAW,GAAG,EAAG,CAAA,OAAO,CAAA;YACvD,IAAI,IAAI,aAAA,CAAc,GAAG,KAAK,IAAI,aAAA,CAAc,GAAG,EAAG,CAAA,OAAO;YAG7D,MAAM,YAAY,EAAE,YAAA,CAAa,EAAE,MAAA,CAAO,KAAK;YAC/C,IAAI,cAAc,EAAG,CAAA,OAAO;YAG5B,MAAM,aAAa,EAAE,YAAA,CAAa,EAAE,OAAA,CAAQ,KAAK;YACjD,IAAI,aAAa,EAAG,CAAA,OAAO;YAC3B,IAAI,aAAa,EAAG,CAAA,OAAO,CAAA;YAI3B,OAAO;QACT;QAMA,IAAI,IAAI,UAAA,CAAW,GAAG,EAAG,CAAA,OAAO,CAAA;QAChC,IAAI,IAAI,aAAA,CAAc,GAAG,EAAG,CAAA,OAAO;QAMnC,IAAI,IAAI,UAAA,CAAW,GAAG,GAAG;YACvB,MAAM,aAAa,EAAE,YAAA,CAAa,EAAE,OAAA,CAAQ,KAAK;YACjD,IAAI,eAAe,EAAG,CAAA,OAAO;QAC/B;QAGA,IAAI,IAAI,aAAA,CAAc,GAAG,GAAG;YAC1B,MAAM,aAAa,EAAE,YAAA,CAAa,EAAE,OAAA,CAAQ,KAAK;YACjD,IAAI,aAAa,EAAG,CAAA,OAAO;YAC3B,IAAI,aAAa,EAAG,CAAA,OAAO,CAAA;QAC7B;QAEA,IAAI,CAAC,IAAI,EAAA,CAAG,GAAG,GAAG;YAGhB,MAAM,KAAK,IAAI,KAAA,CAAM,GAAG;YACxB,MAAM,KAAK,IAAI,KAAA,CAAM,GAAG;YACxB,MAAM,KAAK,IAAI,KAAA,CAAM,GAAG;YACxB,MAAM,KAAK,IAAI,KAAA,CAAM,GAAG;YACxB,IAAI,GAAG,aAAA,CAAc,EAAE,KAAK,GAAG,UAAA,CAAW,EAAE,EAAG,CAAA,OAAO;YACtD,IAAI,GAAG,UAAA,CAAW,EAAE,KAAK,GAAG,aAAA,CAAc,EAAE,EAAG,CAAA,OAAO,CAAA;QACxD;QAIA,IAAI,IAAI,aAAA,CAAc,GAAG,EAAG,CAAA,OAAO;QACnC,IAAI,IAAI,UAAA,CAAW,GAAG,EAAG,CAAA,OAAO,CAAA;QAMhC,IAAI,IAAI,UAAA,CAAW,GAAG,EAAG,CAAA,OAAO,CAAA;QAChC,IAAI,IAAI,aAAA,CAAc,GAAG,EAAG,CAAA,OAAO;QAInC,IAAI,EAAE,EAAA,GAAK,EAAE,EAAA,CAAI,CAAA,OAAO,CAAA;QACxB,IAAI,EAAE,EAAA,GAAK,EAAE,EAAA,CAAI,CAAA,OAAO;QAGxB,OAAO;IACT;IAAA;0CAAA,GAIA,YAAY,MAAA,EAAoB,OAAA,EAAqB,KAAA,EAAiB,QAAA,CAAoB;QACxF,IAAA,CAAK,EAAA,GAAK,EAAE;QACZ,IAAA,CAAK,MAAA,GAAS;QACd,OAAO,OAAA,GAAU,IAAA;QACjB,OAAO,OAAA,GAAU;QACjB,IAAA,CAAK,OAAA,GAAU;QACf,QAAQ,OAAA,GAAU,IAAA;QAClB,QAAQ,OAAA,GAAU;QAClB,IAAA,CAAK,KAAA,GAAQ;QACb,IAAA,CAAK,QAAA,GAAW;IAGlB;IAEA,OAAO,SAAS,GAAA,EAAY,GAAA,EAAY,IAAA,EAAc;QACpD,IAAI,QAAe,SAAgB;QAGnC,MAAM,SAAS,WAAW,aAAA,CAAc,KAAK,GAAG;QAChD,IAAI,SAAS,GAAG;YACd,SAAS;YACT,UAAU;YACV,UAAU;QACZ,OAAA,IAAW,SAAS,GAAG;YACrB,SAAS;YACT,UAAU;YACV,UAAU,CAAA;QACZ,OACE,MAAM,IAAI,MACR,CAAA,uCAAA,EAA0C,IAAI,CAAC,CAAA,EAAA,EAAK,IAAI,CAAC,CAAA,CAAA,CAAA;QAG7D,MAAM,SAAS,IAAI,WAAW,QAAQ,IAAI;QAC1C,MAAM,UAAU,IAAI,WAAW,SAAS,KAAK;QAC7C,OAAO,IAAI,SAAQ,QAAQ,SAAS;YAAC,IAAI;SAAA,EAAG;YAAC,OAAO;SAAC;IACvD;IAAA,2EAAA,GAGA,eAAe,UAAA,EAAwB;QACrC,IAAA,CAAK,OAAA,GAAU;QACf,IAAA,CAAK,OAAA,CAAQ,OAAA,GAAU,IAAA;QACvB,IAAA,CAAK,OAAA,CAAQ,OAAA,GAAU,IAAA,CAAK,MAAA;QAC5B,IAAA,CAAK,MAAA,CAAO,OAAA,GAAU,IAAA,CAAK,OAAA;IAC7B;IAEA,OAAO;QACL,MAAM,KAAK,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,CAAA;QAC7B,MAAM,KAAK,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAM,CAAA;QAC9B,OAAO;YACL,IAAI;gBAAE,GAAG,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,CAAA;gBAAG,GAAG,GAAG,UAAA,CAAW,EAAE,IAAI,KAAK;YAAG;YAC7D,IAAI;gBAAE,GAAG,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAM,CAAA;gBAAG,GAAG,GAAG,aAAA,CAAc,EAAE,IAAI,KAAK;YAAG;QACnE;IACF;IAAA,6CAAA,GAGA,SAAS;QACP,OAAO;YACL,GAAG,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAM,CAAA,CAAE,KAAA,CAAM,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,CAAC;YACjD,GAAG,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAM,CAAA,CAAE,KAAA,CAAM,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,CAAC;QACnD;IACF;IAEA,aAAa,EAAA,EAAW;QACtB,OACG,GAAG,CAAA,CAAE,EAAA,CAAG,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,CAAC,KAAK,GAAG,CAAA,CAAE,EAAA,CAAG,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,CAAC,KAC3D,GAAG,CAAA,CAAE,EAAA,CAAG,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAM,CAAC,KAAK,GAAG,CAAA,CAAE,EAAA,CAAG,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAM,CAAC;IAElE;IAAA;;;;;;;;;;;;GAAA,GAeA,aAAa,KAAA,EAAc;QACzB,OAAO,UAAU,MAAA,CAAO,IAAA,CAAK,MAAA,CAAO,KAAA,EAAO,OAAO,IAAA,CAAK,OAAA,CAAQ,KAAK;IACtE;IAAA;;;;;;;;;;;;;;GAAA,GAiBA,gBAAgB,KAAA,EAAgB;QAE9B,MAAM,QAAQ,IAAA,CAAK,IAAA,CAAK;QACxB,MAAM,QAAQ,MAAM,IAAA,CAAK;QACzB,MAAM,cAAc,eAAe,OAAO,KAAK;QAC/C,IAAI,gBAAgB,KAAM,CAAA,OAAO;QAMjC,MAAM,MAAM,IAAA,CAAK,MAAA,CAAO,KAAA;QACxB,MAAM,MAAM,IAAA,CAAK,OAAA,CAAQ,KAAA;QACzB,MAAM,MAAM,MAAM,MAAA,CAAO,KAAA;QACzB,MAAM,MAAM,MAAM,OAAA,CAAQ,KAAA;QAK1B,MAAM,kBAAkB,SAAS,OAAO,GAAG,KAAK,IAAA,CAAK,YAAA,CAAa,GAAG,MAAM;QAC3E,MAAM,iBAAiB,SAAS,OAAO,GAAG,KAAK,MAAM,YAAA,CAAa,GAAG,MAAM;QAC3E,MAAM,kBAAkB,SAAS,OAAO,GAAG,KAAK,IAAA,CAAK,YAAA,CAAa,GAAG,MAAM;QAC3E,MAAM,iBAAiB,SAAS,OAAO,GAAG,KAAK,MAAM,YAAA,CAAa,GAAG,MAAM;QAG3E,IAAI,kBAAkB,iBAAiB;YAGrC,IAAI,kBAAkB,CAAC,gBAAiB,CAAA,OAAO;YAC/C,IAAI,CAAC,kBAAkB,gBAAiB,CAAA,OAAO;YAG/C,OAAO;QACT;QAGA,IAAI,gBAAgB;YAElB,IAAI,iBAAiB;gBACnB,IAAI,IAAI,CAAA,CAAE,EAAA,CAAG,IAAI,CAAC,KAAK,IAAI,CAAA,CAAE,EAAA,CAAG,IAAI,CAAC,EAAG,CAAA,OAAO;YACjD;YAEA,OAAO;QACT;QAGA,IAAI,iBAAiB;YAEnB,IAAI,gBAAgB;gBAClB,IAAI,IAAI,CAAA,CAAE,EAAA,CAAG,IAAI,CAAC,KAAK,IAAI,CAAA,CAAE,EAAA,CAAG,IAAI,CAAC,EAAG,CAAA,OAAO;YACjD;YAEA,OAAO;QACT;QAGA,IAAI,kBAAkB,gBAAiB,CAAA,OAAO;QAG9C,IAAI,eAAgB,CAAA,OAAO;QAC3B,IAAI,gBAAiB,CAAA,OAAO;QAI5B,MAAM,KAAK,aAAa,KAAK,IAAA,CAAK,MAAA,CAAO,GAAG,KAAK,MAAM,MAAA,CAAO,CAAC;QAI/D,IAAI,OAAO,KAAM,CAAA,OAAO;QAGxB,IAAI,CAAC,SAAS,aAAa,EAAE,EAAG,CAAA,OAAO;QAGvC,OAAO,UAAU,IAAA,CAAK,EAAE;IAC1B;IAAA;;;;;;;;;;;GAAA,GAcA,MAAM,KAAA,EAAc;QAClB,MAAM,YAAY,CAAC,CAAA;QACnB,MAAM,gBAAgB,MAAM,MAAA,KAAW,KAAA;QAEvC,MAAM,YAAY,IAAI,WAAW,OAAO,IAAI;QAC5C,MAAM,aAAa,IAAI,WAAW,OAAO,KAAK;QAC9C,MAAM,aAAa,IAAA,CAAK,OAAA;QACxB,IAAA,CAAK,cAAA,CAAe,UAAU;QAC9B,UAAU,IAAA,CAAK,UAAU;QACzB,UAAU,IAAA,CAAK,SAAS;QACxB,MAAM,SAAS,IAAI,SACjB,WACA,YACA,IAAA,CAAK,KAAA,CAAO,KAAA,CAAM,GAClB,IAAA,CAAK,QAAA,CAAU,KAAA,CAAM;QAMvB,IACE,WAAW,aAAA,CAAc,OAAO,MAAA,CAAO,KAAA,EAAO,OAAO,OAAA,CAAQ,KAAK,IAAI,GACtE;YACA,OAAO,UAAA,CAAW;QACpB;QACA,IAAI,WAAW,aAAA,CAAc,IAAA,CAAK,MAAA,CAAO,KAAA,EAAO,IAAA,CAAK,OAAA,CAAQ,KAAK,IAAI,GAAG;YACvE,IAAA,CAAK,UAAA,CAAW;QAClB;QAKA,IAAI,eAAe;YACjB,UAAU,iBAAA,CAAkB;YAC5B,WAAW,iBAAA,CAAkB;QAC/B;QAEA,OAAO;IACT;IAAA,sCAAA,GAGA,aAAa;QACX,MAAM,SAAS,IAAA,CAAK,OAAA;QACpB,IAAA,CAAK,OAAA,GAAU,IAAA,CAAK,MAAA;QACpB,IAAA,CAAK,MAAA,GAAS;QACd,IAAA,CAAK,MAAA,CAAO,MAAA,GAAS;QACrB,IAAA,CAAK,OAAA,CAAQ,MAAA,GAAS;QACtB,IAAA,IAAS,IAAI,GAAG,OAAO,IAAA,CAAK,QAAA,CAAU,MAAA,EAAQ,IAAI,MAAM,IAAK;YAC3D,IAAA,CAAK,QAAA,CAAU,CAAC,CAAA,IAAK,CAAA;QACvB;IACF;IAAA;uEAAA,GAIA,QAAQ,KAAA,EAAgB;QACtB,IAAI,WAAW,IAAA;QACf,IAAI,WAAW;QACf,MAAO,SAAS,UAAA,CAAY,WAAW,SAAS,UAAA;QAChD,MAAO,SAAS,UAAA,CAAY,WAAW,SAAS,UAAA;QAEhD,MAAM,MAAM,SAAQ,OAAA,CAAQ,UAAU,QAAQ;QAC9C,IAAI,QAAQ,EAAG,CAAA;QAGf,IAAI,MAAM,GAAG;YACX,MAAM,MAAM;YACZ,WAAW;YACX,WAAW;QACb;QAGA,IAAI,SAAS,IAAA,KAAS,UAAU;YAC9B,MAAM,MAAM;YACZ,WAAW;YACX,WAAW;QACb;QAEA,IAAA,IAAS,IAAI,GAAG,OAAO,SAAS,KAAA,CAAO,MAAA,EAAQ,IAAI,MAAM,IAAK;YAC5D,MAAM,OAAO,SAAS,KAAA,CAAO,CAAC,CAAA;YAC9B,MAAM,UAAU,SAAS,QAAA,CAAU,CAAC,CAAA;YACpC,MAAM,QAAQ,SAAS,KAAA,CAAO,OAAA,CAAQ,IAAI;YAC1C,IAAI,UAAU,CAAA,GAAI;gBAChB,SAAS,KAAA,CAAO,IAAA,CAAK,IAAI;gBACzB,SAAS,QAAA,CAAU,IAAA,CAAK,OAAO;YACjC,MAAO,CAAA,SAAS,QAAA,CAAU,KAAK,CAAA,IAAK;QACtC;QACA,SAAS,KAAA,GAAQ;QACjB,SAAS,QAAA,GAAW;QACpB,SAAS,UAAA,GAAa;QAGtB,SAAS,MAAA,CAAO,UAAA,GAAa,SAAS,MAAA;QACtC,SAAS,OAAA,CAAQ,UAAA,GAAa,SAAS,OAAA;IACzC;IAAA,kEAAA,GAGA,eAA2C;QACzC,IAAI,IAAA,CAAK,aAAA,KAAkB,KAAA,EAAW,CAAA,OAAO,IAAA,CAAK,aAAA;QAClD,IAAI,CAAC,IAAA,CAAK,IAAA,CAAM,CAAA,IAAA,CAAK,aAAA,GAAgB;aAAA,IAC5B,IAAA,CAAK,IAAA,CAAK,UAAA,CAAW,EAAG,CAAA,IAAA,CAAK,aAAA,GAAgB,IAAA,CAAK,IAAA;aACtD,IAAA,CAAK,aAAA,GAAgB,IAAA,CAAK,IAAA,CAAK,YAAA,CAAa;QACjD,OAAO,IAAA,CAAK,aAAA;IACd;IAEA,cAAqB;QACnB,IAAI,IAAA,CAAK,YAAA,KAAiB,KAAA,EAAW,CAAA,OAAO,IAAA,CAAK,YAAA;QACjD,IAAI,CAAC,IAAA,CAAK,IAAA,EACR,IAAA,CAAK,YAAA,GAAe;YAClB,OAAO,CAAC,CAAA;YACR,UAAU,CAAC,CAAA;YACX,YAAY,CAAC,CAAA;QACf;aACG;YACH,MAAM,MAAM,IAAA,CAAK,IAAA,CAAK,UAAA,IAAc,IAAA,CAAK,IAAA;YACzC,IAAA,CAAK,YAAA,GAAe,IAAI,UAAA,CAAW;QACrC;QACA,OAAO,IAAA,CAAK,YAAA;IACd;IAEA,aAAa;QACX,IAAI,IAAA,CAAK,WAAA,KAAgB,KAAA,EAAW,CAAA,OAAO,IAAA,CAAK,WAAA;QAEhD,MAAM,cAAc,IAAA,CAAK,WAAA,CAAY;QACrC,IAAA,CAAK,WAAA,GAAc;YACjB,OAAO,YAAY,KAAA,CAAM,KAAA,CAAM,CAAC;YAChC,UAAU,YAAY,QAAA,CAAS,KAAA,CAAM,CAAC;YACtC,YAAY,CAAC,CAAA;QACf;QACA,MAAM,aAAa,IAAA,CAAK,WAAA,CAAY,KAAA;QACpC,MAAM,gBAAgB,IAAA,CAAK,WAAA,CAAY,QAAA;QACvC,MAAM,WAAW,IAAA,CAAK,WAAA,CAAY,UAAA;QAGlC,IAAA,IAAS,IAAI,GAAG,OAAO,IAAA,CAAK,KAAA,CAAO,MAAA,EAAQ,IAAI,MAAM,IAAK;YACxD,MAAM,OAAO,IAAA,CAAK,KAAA,CAAO,CAAC,CAAA;YAC1B,MAAM,UAAU,IAAA,CAAK,QAAA,CAAU,CAAC,CAAA;YAChC,MAAM,QAAQ,WAAW,OAAA,CAAQ,IAAI;YACrC,IAAI,UAAU,CAAA,GAAI;gBAChB,WAAW,IAAA,CAAK,IAAI;gBACpB,cAAc,IAAA,CAAK,OAAO;YAC5B,MAAO,CAAA,aAAA,CAAc,KAAK,CAAA,IAAK;QACjC;QAGA,MAAM,aAAa,CAAC,CAAA;QACpB,MAAM,eAAe,CAAC,CAAA;QACtB,IAAA,IAAS,IAAI,GAAG,OAAO,WAAW,MAAA,EAAQ,IAAI,MAAM,IAAK;YACvD,IAAI,aAAA,CAAc,CAAC,CAAA,KAAM,EAAG,CAAA;YAC5B,MAAM,OAAO,UAAA,CAAW,CAAC,CAAA;YACzB,MAAM,OAAO,KAAK,IAAA;YAClB,IAAI,aAAa,OAAA,CAAQ,IAAI,MAAM,CAAA,EAAI,CAAA;YACvC,IAAI,KAAK,UAAA,CAAY,CAAA,WAAW,IAAA,CAAK,IAAI;iBACpC;gBACH,IAAI,aAAa,OAAA,CAAQ,IAAI,MAAM,CAAA,EAAI,CAAA,aAAa,IAAA,CAAK,IAAI;gBAC7D,MAAM,QAAQ,WAAW,OAAA,CAAQ,KAAK,IAAI;gBAC1C,IAAI,UAAU,CAAA,EAAI,CAAA,WAAW,MAAA,CAAO,OAAO,CAAC;YAC9C;QACF;QAGA,IAAA,IAAS,IAAI,GAAG,OAAO,WAAW,MAAA,EAAQ,IAAI,MAAM,IAAK;YACvD,MAAM,KAAK,UAAA,CAAW,CAAC,CAAA,CAAE,SAAA;YACzB,IAAI,SAAS,OAAA,CAAQ,EAAE,MAAM,CAAA,EAAI,CAAA,SAAS,IAAA,CAAK,EAAE;QACnD;QAEA,OAAO,IAAA,CAAK,WAAA;IACd;IAAA,6CAAA,GAGA,aAAa;QAEX,IAAI,IAAA,CAAK,UAAA,CAAY,CAAA,OAAO;QAE5B,IAAI,IAAA,CAAK,WAAA,KAAgB,KAAA,EAAW,CAAA,OAAO,IAAA,CAAK,WAAA;QAEhD,MAAM,YAAY,IAAA,CAAK,WAAA,CAAY,EAAE,UAAA;QACrC,MAAM,WAAW,IAAA,CAAK,UAAA,CAAW,EAAE,UAAA;QAEnC,OAAQ,kBAAU,IAAA,EAAM;YACtB,KAAK;gBAAS;oBAIZ,MAAM,YAAY,UAAU,MAAA,KAAW;oBACvC,MAAM,WAAW,SAAS,MAAA,KAAW;oBACrC,IAAA,CAAK,WAAA,GAAc,cAAc;oBACjC;gBACF;YAEA,KAAK;gBAAgB;oBAKnB,IAAI;oBACJ,IAAI;oBACJ,IAAI,UAAU,MAAA,GAAS,SAAS,MAAA,EAAQ;wBACtC,QAAQ,UAAU,MAAA;wBAClB,OAAO,SAAS,MAAA;oBAClB,OAAO;wBACL,QAAQ,SAAS,MAAA;wBACjB,OAAO,UAAU,MAAA;oBACnB;oBACA,IAAA,CAAK,WAAA,GAAc,SAAS,kBAAU,aAAA,IAAiB,QAAQ;oBAC/D;gBACF;YAEA,KAAK;gBAAO;oBAIV,MAAM,OAAO,KAAK,GAAA,CAAI,UAAU,MAAA,GAAS,SAAS,MAAM;oBACxD,IAAA,CAAK,WAAA,GAAc,OAAO,MAAM;oBAChC;gBACF;YAEA,KAAK;gBAAc;oBAGjB,MAAM,gBAAgB,CAAC,MAAuB,IAAI,MAAA,KAAW,KAAK,GAAA,CAAI,CAAC,CAAA,CAAE,SAAA;oBACzE,IAAA,CAAK,WAAA,GAAc,cAAc,SAAS,MAAM,cAAc,QAAQ;oBACtE;gBACF;QACF;QAEA,OAAO,IAAA,CAAK,WAAA;IACd;AACF;;AbljBO,IAAM,SAAN,MAAa;IAClB,KAAA;IACA,WAAA;IACA,SAAA;IACA,KAAA;IAEA,YAAY,QAAA,EAAgB,IAAA,EAAc,UAAA,CAAqB;QAC7D,IAAI,CAAC,MAAM,OAAA,CAAQ,QAAQ,KAAK,SAAS,MAAA,KAAW,GAAG;YACrD,MAAM,IAAI,MAAM,uDAAuD;QACzE;QAEA,IAAA,CAAK,IAAA,GAAO;QACZ,IAAA,CAAK,UAAA,GAAa;QAClB,IAAA,CAAK,QAAA,GAAW,CAAC,CAAA;QAEjB,IACE,OAAO,QAAA,CAAS,CAAC,CAAA,CAAE,CAAC,CAAA,KAAM,YAC1B,OAAO,QAAA,CAAS,CAAC,CAAA,CAAE,CAAC,CAAA,KAAM,UAC1B;YACA,MAAM,IAAI,MAAM,uDAAuD;QACzE;QAEA,MAAM,aAAa,UAAU,IAAA,CAAK;YAAE,GAAG,kJAAIC,UAAAA,CAAU,QAAA,CAAS,CAAC,CAAA,CAAE,CAAC,CAAC;YAAG,GAAG,kJAAIA,UAAAA,CAAU,QAAA,CAAS,CAAC,CAAA,CAAE,CAAC,CAAC;QAAE,CAAC;QACxG,IAAA,CAAK,IAAA,GAAO;YACV,IAAI;gBAAE,GAAG,WAAW,CAAA;gBAAG,GAAG,WAAW,CAAA;YAAE;YACvC,IAAI;gBAAE,GAAG,WAAW,CAAA;gBAAG,GAAG,WAAW,CAAA;YAAE;QACzC;QAEA,IAAI,YAAY;QAChB,IAAA,IAAS,IAAI,GAAG,OAAO,SAAS,MAAA,EAAQ,IAAI,MAAM,IAAK;YACrD,IACE,OAAO,QAAA,CAAS,CAAC,CAAA,CAAE,CAAC,CAAA,KAAM,YAC1B,OAAO,QAAA,CAAS,CAAC,CAAA,CAAE,CAAC,CAAA,KAAM,UAC1B;gBACA,MAAM,IAAI,MAAM,uDAAuD;YACzE;YACA,MAAM,QAAQ,UAAU,IAAA,CAAK;gBAAE,GAAG,IAAIA,wJAAAA,CAAU,QAAA,CAAS,CAAC,CAAA,CAAE,CAAC,CAAC;gBAAG,GAAG,kJAAIA,UAAAA,CAAU,QAAA,CAAS,CAAC,CAAA,CAAE,CAAC,CAAC;YAAE,CAAC;YAEnG,IAAI,MAAM,CAAA,CAAE,EAAA,CAAG,UAAU,CAAC,KAAK,MAAM,CAAA,CAAE,EAAA,CAAG,UAAU,CAAC,EAAG,CAAA;YACxD,IAAA,CAAK,QAAA,CAAS,IAAA,CAAK,QAAQ,QAAA,CAAS,WAAW,OAAO,IAAI,CAAC;YAC3D,IAAI,MAAM,CAAA,CAAE,UAAA,CAAW,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAC,EAAG,CAAA,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAA,GAAI,MAAM,CAAA;YAC/D,IAAI,MAAM,CAAA,CAAE,UAAA,CAAW,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAC,EAAG,CAAA,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAA,GAAI,MAAM,CAAA;YAC/D,IAAI,MAAM,CAAA,CAAE,aAAA,CAAc,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAC,EAAG,CAAA,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAA,GAAI,MAAM,CAAA;YAClE,IAAI,MAAM,CAAA,CAAE,aAAA,CAAc,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAC,EAAG,CAAA,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAA,GAAI,MAAM,CAAA;YAClE,YAAY;QACd;QAEA,IAAI,CAAC,WAAW,CAAA,CAAE,EAAA,CAAG,UAAU,CAAC,KAAK,CAAC,WAAW,CAAA,CAAE,EAAA,CAAG,UAAU,CAAC,GAAG;YAClE,IAAA,CAAK,QAAA,CAAS,IAAA,CAAK,QAAQ,QAAA,CAAS,WAAW,YAAY,IAAI,CAAC;QAClE;IACF;IAEA,iBAAiB;QACf,MAAM,cAAc,CAAC,CAAA;QACrB,IAAA,IAAS,IAAI,GAAG,OAAO,IAAA,CAAK,QAAA,CAAS,MAAA,EAAQ,IAAI,MAAM,IAAK;YAC1D,MAAM,UAAU,IAAA,CAAK,QAAA,CAAS,CAAC,CAAA;YAC/B,YAAY,IAAA,CAAK,QAAQ,MAAM;YAC/B,YAAY,IAAA,CAAK,QAAQ,OAAO;QAClC;QACA,OAAO;IACT;AACF;AAEO,IAAM,SAAN,MAAa;IAClB,UAAA;IACA,aAAA;IACA,cAAA;IACA,KAAA;IAEA,YAAY,QAAA,EAAgB,SAAA,CAAwB;QAClD,IAAI,CAAC,MAAM,OAAA,CAAQ,QAAQ,GAAG;YAC5B,MAAM,IAAI,MAAM,uDAAuD;QACzE;QACA,IAAA,CAAK,YAAA,GAAe,IAAI,OAAO,QAAA,CAAS,CAAC,CAAA,EAAG,IAAA,EAAM,IAAI;QAEtD,IAAA,CAAK,IAAA,GAAO;YACV,IAAI;gBAAE,GAAG,IAAA,CAAK,YAAA,CAAa,IAAA,CAAK,EAAA,CAAG,CAAA;gBAAG,GAAG,IAAA,CAAK,YAAA,CAAa,IAAA,CAAK,EAAA,CAAG,CAAA;YAAE;YACrE,IAAI;gBAAE,GAAG,IAAA,CAAK,YAAA,CAAa,IAAA,CAAK,EAAA,CAAG,CAAA;gBAAG,GAAG,IAAA,CAAK,YAAA,CAAa,IAAA,CAAK,EAAA,CAAG,CAAA;YAAE;QACvE;QACA,IAAA,CAAK,aAAA,GAAgB,CAAC,CAAA;QACtB,IAAA,IAAS,IAAI,GAAG,OAAO,SAAS,MAAA,EAAQ,IAAI,MAAM,IAAK;YACrD,MAAM,OAAO,IAAI,OAAO,QAAA,CAAS,CAAC,CAAA,EAAG,IAAA,EAAM,KAAK;YAChD,IAAI,KAAK,IAAA,CAAK,EAAA,CAAG,CAAA,CAAE,UAAA,CAAW,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAC,EAAG,CAAA,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAA,GAAI,KAAK,IAAA,CAAK,EAAA,CAAG,CAAA;YAC7E,IAAI,KAAK,IAAA,CAAK,EAAA,CAAG,CAAA,CAAE,UAAA,CAAW,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAC,EAAG,CAAA,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAA,GAAI,KAAK,IAAA,CAAK,EAAA,CAAG,CAAA;YAC7E,IAAI,KAAK,IAAA,CAAK,EAAA,CAAG,CAAA,CAAE,aAAA,CAAc,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAC,EAAG,CAAA,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAA,GAAI,KAAK,IAAA,CAAK,EAAA,CAAG,CAAA;YAChF,IAAI,KAAK,IAAA,CAAK,EAAA,CAAG,CAAA,CAAE,aAAA,CAAc,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAC,EAAG,CAAA,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAA,GAAI,KAAK,IAAA,CAAK,EAAA,CAAG,CAAA;YAChF,IAAA,CAAK,aAAA,CAAc,IAAA,CAAK,IAAI;QAC9B;QACA,IAAA,CAAK,SAAA,GAAY;IACnB;IAEA,iBAAiB;QACf,MAAM,cAAc,IAAA,CAAK,YAAA,CAAa,cAAA,CAAe;QACrD,IAAA,IAAS,IAAI,GAAG,OAAO,IAAA,CAAK,aAAA,CAAc,MAAA,EAAQ,IAAI,MAAM,IAAK;YAC/D,MAAM,kBAAkB,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,cAAA,CAAe;YAC7D,IAAA,IAAS,IAAI,GAAG,OAAO,gBAAgB,MAAA,EAAQ,IAAI,MAAM,IAAK;gBAC5D,YAAY,IAAA,CAAK,eAAA,CAAgB,CAAC,CAAC;YACrC;QACF;QACA,OAAO;IACT;AACF;AAEO,IAAM,cAAN,MAAkB;IACvB,UAAA;IACA,MAAA;IACA,KAAA;IAEA,YAAY,IAAA,EAAY,SAAA,CAAoB;QAC1C,IAAI,CAAC,MAAM,OAAA,CAAQ,IAAI,GAAG;YACxB,MAAM,IAAI,MAAM,uDAAuD;QACzE;QAEA,IAAI;YAEF,IAAI,OAAO,IAAA,CAAK,CAAC,CAAA,CAAE,CAAC,CAAA,CAAE,CAAC,CAAA,KAAM,SAAU,CAAA,OAAO;gBAAC,IAAY;aAAA;QAC7D,EAAA,OAAS,IAAI,CAGb;QAEA,IAAA,CAAK,KAAA,GAAQ,CAAC,CAAA;QACd,IAAA,CAAK,IAAA,GAAO;YACV,IAAI;gBAAE,GAAG,kJAAIA,UAAAA,CAAU,OAAO,iBAAiB;gBAAG,GAAG,kJAAIA,UAAAA,CAAU,OAAO,iBAAiB;YAAE;YAC7F,IAAI;gBAAE,GAAG,kJAAIA,UAAAA,CAAU,OAAO,iBAAiB;gBAAG,GAAG,kJAAIA,UAAAA,CAAU,OAAO,iBAAiB;YAAE;QAC/F;QACA,IAAA,IAAS,IAAI,GAAG,OAAO,KAAK,MAAA,EAAQ,IAAI,MAAM,IAAK;YACjD,MAAM,OAAO,IAAI,OAAO,IAAA,CAAK,CAAC,CAAA,EAAW,IAAI;YAC7C,IAAI,KAAK,IAAA,CAAK,EAAA,CAAG,CAAA,CAAE,UAAA,CAAW,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAC,EAAG,CAAA,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAA,GAAI,KAAK,IAAA,CAAK,EAAA,CAAG,CAAA;YAC7E,IAAI,KAAK,IAAA,CAAK,EAAA,CAAG,CAAA,CAAE,UAAA,CAAW,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAC,EAAG,CAAA,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAA,GAAI,KAAK,IAAA,CAAK,EAAA,CAAG,CAAA;YAC7E,IAAI,KAAK,IAAA,CAAK,EAAA,CAAG,CAAA,CAAE,aAAA,CAAc,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAC,EAAG,CAAA,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAA,GAAI,KAAK,IAAA,CAAK,EAAA,CAAG,CAAA;YAChF,IAAI,KAAK,IAAA,CAAK,EAAA,CAAG,CAAA,CAAE,aAAA,CAAc,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAC,EAAG,CAAA,IAAA,CAAK,IAAA,CAAK,EAAA,CAAG,CAAA,GAAI,KAAK,IAAA,CAAK,EAAA,CAAG,CAAA;YAChF,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,IAAI;QACtB;QACA,IAAA,CAAK,SAAA,GAAY;IACnB;IAEA,iBAAiB;QACf,MAAM,cAAc,CAAC,CAAA;QACrB,IAAA,IAAS,IAAI,GAAG,OAAO,IAAA,CAAK,KAAA,CAAM,MAAA,EAAQ,IAAI,MAAM,IAAK;YACvD,MAAM,kBAAkB,IAAA,CAAK,KAAA,CAAM,CAAC,CAAA,CAAE,cAAA,CAAe;YACrD,IAAA,IAAS,IAAI,GAAG,OAAO,gBAAgB,MAAA,EAAQ,IAAI,MAAM,IAAK;gBAC5D,YAAY,IAAA,CAAK,eAAA,CAAgB,CAAC,CAAC;YACrC;QACF;QACA,OAAO;IACT;AACF;;AcxJO,IAAM,QAAQ,CAAC,MAAA,GAAe,YACnC,kBAAU,GAAA,CAAI,SAAS,MAAM,SAAS;AAEjC,IAAMC,gBAAe,CAAC,MAAA,GAAe,YAC1C,kBAAU,GAAA,CAAI,gBAAgB,MAAM,SAAS;AAExC,IAAM,MAAM,CAAC,MAAA,GAAe,YACjC,kBAAU,GAAA,CAAI,OAAO,MAAM,SAAS;AAE/B,IAAM,aAAa,CAAC,MAAA,GAAe,YACxC,kBAAU,GAAA,CAAI,cAAc,MAAM,SAAS;AAEtC,IAAM,eAAe,UAAU,GAAA","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]}},
    {"offset": {"line": 10251, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10257, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-voronoi/src/constant.js"],"sourcesContent":["export default function(x) {\n  return function() {\n    return x;\n  };\n}\n"],"names":[],"mappings":";;;AAAe,wCAAS,CAAC;IACvB,OAAO;QACL,OAAO;IACT;AACF","ignoreList":[0]}},
    {"offset": {"line": 10265, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10271, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-voronoi/src/point.js"],"sourcesContent":["export function x(d) {\n  return d[0];\n}\n\nexport function y(d) {\n  return d[1];\n}\n"],"names":[],"mappings":";;;;AAAO,SAAS,EAAE,CAAC;IACjB,OAAO,CAAC,CAAC,EAAE;AACb;AAEO,SAAS,EAAE,CAAC;IACjB,OAAO,CAAC,CAAC,EAAE;AACb","ignoreList":[0]}},
    {"offset": {"line": 10281, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10287, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-voronoi/src/RedBlackTree.js"],"sourcesContent":["function RedBlackTree() {\n  this._ = null; // root node\n}\n\nexport function RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n\n  insert: function(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n      if (after.R) {\n        after = after.R;\n        while (after.L) after = after.L;\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n\n    after = node;\n    while (parent && parent.C) {\n      grandpa = parent.U;\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n      parent = after.U;\n    }\n    this._.C = false;\n  },\n\n  remove: function(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n\n    if (!left) next = right;\n    else if (!right) next = left;\n    else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;\n      else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n    if (node && node.C) { node.C = false; return; }\n\n    do {\n      if (node === this._) break;\n      if (node === parent.L) {\n        sibling = parent.R;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n        if ((sibling.L && sibling.L.C)\n            || (sibling.R && sibling.R.C)) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n        if ((sibling.L && sibling.L.C)\n          || (sibling.R && sibling.R.C)) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) node = node.L;\n  return node;\n}\n\nexport default RedBlackTree;\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 10494, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10500, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-voronoi/src/Edge.js"],"sourcesContent":["import {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nexport function createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nexport function setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n}\n\n// Liang–Barsky line clipping.\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];\n      else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];\n      else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];\n        else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];\n        else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];\n        else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];\n        else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nexport function clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1)\n        || !clipEdge(edge, x0, y0, x1, y1)\n        || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon\n            || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 10682, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10688, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-voronoi/src/Cell.js"],"sourcesContent":["import {createBorderEdge} from \"./Edge\";\nimport {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];\n  else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nexport function cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nexport function cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nexport function sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n      for (j = 0; j < m; ++j) index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      index.sort(function(i, j) { return array[j] - array[i]; });\n      for (j = 0; j < m; ++j) array[j] = halfedges[index[j]];\n      for (j = 0; j < m; ++j) halfedges[j] = array[j];\n    }\n  }\n}\n\nexport function clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length;\n\n      // Remove any dangling clipped edges.\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      }\n\n      // Insert any border edges as necessary.\n      iHalfedge = 0, nHalfedges = halfedges.length;\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end,\n              Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1]\n              : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1]\n              : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0]\n              : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0]\n              : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  }\n\n  // If there weren’t any edges, have the closest site cover the extent.\n  // It doesn’t matter which corner of the extent we measure!\n  if (cover) {\n    var dx, dy, d2, dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0], v01 = [x0, y1], v11 = [x1, y1], v10 = [x1, y0];\n      cover.halfedges.push(\n        edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,\n        edges.push(createBorderEdge(site, v01, v11)) - 1,\n        edges.push(createBorderEdge(site, v11, v10)) - 1,\n        edges.push(createBorderEdge(site, v10, v00)) - 1\n      );\n    }\n  }\n\n  // Lastly delete any cells with no edges; these were entirely clipped.\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 10809, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10815, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-voronoi/src/Circle.js"],"sourcesContent":["import {RedBlackNode} from \"./RedBlackTree\";\nimport {circles, epsilon2} from \"./Diagram\";\n\nvar circlePool = [];\n\nexport var firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x =\n  this.y =\n  this.arc =\n  this.site =\n  this.cy = null;\n}\n\nexport function attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n\n  if (!lArc || !rArc) return;\n\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n\n  if (lSite === rSite) return;\n\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n\n  var circle = circlePool.pop() || new Circle;\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || (circle.y === node.y && circle.x <= node.x)) {\n      if (node.L) node = node.L;\n      else { before = node.P; break; }\n    } else {\n      if (node.R) node = node.R;\n      else { before = node; break; }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nexport function detachCircle(arc) {\n  var circle = arc.circle;\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAEA,IAAI,aAAa,EAAE;AAEZ,IAAI;AAEX,SAAS;IACP,CAAA,GAAA,oJAAA,CAAA,eAAY,AAAD,EAAE,IAAI;IACjB,IAAI,CAAC,CAAC,GACN,IAAI,CAAC,CAAC,GACN,IAAI,CAAC,GAAG,GACR,IAAI,CAAC,IAAI,GACT,IAAI,CAAC,EAAE,GAAG;AACZ;AAEO,SAAS,aAAa,GAAG;IAC9B,IAAI,OAAO,IAAI,CAAC,EACZ,OAAO,IAAI,CAAC;IAEhB,IAAI,CAAC,QAAQ,CAAC,MAAM;IAEpB,IAAI,QAAQ,KAAK,IAAI,EACjB,QAAQ,IAAI,IAAI,EAChB,QAAQ,KAAK,IAAI;IAErB,IAAI,UAAU,OAAO;IAErB,IAAI,KAAK,KAAK,CAAC,EAAE,EACb,KAAK,KAAK,CAAC,EAAE,EACb,KAAK,KAAK,CAAC,EAAE,GAAG,IAChB,KAAK,KAAK,CAAC,EAAE,GAAG,IAChB,KAAK,KAAK,CAAC,EAAE,GAAG,IAChB,KAAK,KAAK,CAAC,EAAE,GAAG;IAEpB,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,EAAE;IAC9B,IAAI,KAAK,CAAC,+IAAA,CAAA,WAAQ,EAAE;IAEpB,IAAI,KAAK,KAAK,KAAK,KAAK,IACpB,KAAK,KAAK,KAAK,KAAK,IACpB,IAAI,CAAC,KAAK,KAAK,KAAK,EAAE,IAAI,GAC1B,IAAI,CAAC,KAAK,KAAK,KAAK,EAAE,IAAI;IAE9B,IAAI,SAAS,WAAW,GAAG,MAAM,IAAI;IACrC,OAAO,GAAG,GAAG;IACb,OAAO,IAAI,GAAG;IACd,OAAO,CAAC,GAAG,IAAI;IACf,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,EAAE,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,WAAW;IAEvE,IAAI,MAAM,GAAG;IAEb,IAAI,SAAS,MACT,OAAO,+IAAA,CAAA,UAAO,CAAC,CAAC;IAEpB,MAAO,KAAM;QACX,IAAI,OAAO,CAAC,GAAG,KAAK,CAAC,IAAK,OAAO,CAAC,KAAK,KAAK,CAAC,IAAI,OAAO,CAAC,IAAI,KAAK,CAAC,EAAG;YACpE,IAAI,KAAK,CAAC,EAAE,OAAO,KAAK,CAAC;iBACpB;gBAAE,SAAS,KAAK,CAAC;gBAAE;YAAO;QACjC,OAAO;YACL,IAAI,KAAK,CAAC,EAAE,OAAO,KAAK,CAAC;iBACpB;gBAAE,SAAS;gBAAM;YAAO;QAC/B;IACF;IAEA,+IAAA,CAAA,UAAO,CAAC,MAAM,CAAC,QAAQ;IACvB,IAAI,CAAC,QAAQ,cAAc;AAC7B;AAEO,SAAS,aAAa,GAAG;IAC9B,IAAI,SAAS,IAAI,MAAM;IACvB,IAAI,QAAQ;QACV,IAAI,CAAC,OAAO,CAAC,EAAE,cAAc,OAAO,CAAC;QACrC,+IAAA,CAAA,UAAO,CAAC,MAAM,CAAC;QACf,WAAW,IAAI,CAAC;QAChB,CAAA,GAAA,oJAAA,CAAA,eAAY,AAAD,EAAE;QACb,IAAI,MAAM,GAAG;IACf;AACF","ignoreList":[0]}},
    {"offset": {"line": 10874, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10880, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-voronoi/src/Beach.js"],"sourcesContent":["import {RedBlackNode} from \"./RedBlackTree\";\nimport {createCell} from \"./Cell\";\nimport {attachCircle, detachCircle} from \"./Circle\";\nimport {createEdge, setEdgeEnd} from \"./Edge\";\nimport {beaches, epsilon} from \"./Diagram\";\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge =\n  this.site =\n  this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach;\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nexport function removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n\n  detachBeach(beach);\n\n  var lArc = previous;\n  while (lArc.circle\n      && Math.abs(x - lArc.circle.x) < epsilon\n      && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n\n  var rArc = next;\n  while (rArc.circle\n      && Math.abs(x - rArc.circle.x) < epsilon\n      && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n\n  var nArcs = disappearing.length,\n      iArc;\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nexport function addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L; else {\n      dxr = x - rightBreakPoint(node, directrix);\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) { // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  }\n\n  // else lArc !== rArc\n  detachCircle(lArc);\n  detachCircle(rArc);\n\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n\n  if (!pby2) return rfocx;\n\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n\n  if (!plby2) return lfocx;\n\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 11023, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11029, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-voronoi/src/Diagram.js"],"sourcesContent":["import {addBeach, removeBeach} from \"./Beach\";\nimport {sortCellHalfedges, cellHalfedgeStart, clipCells} from \"./Cell\";\nimport {firstCircle} from \"./Circle\";\nimport {clipEdges} from \"./Edge\";\nimport RedBlackTree from \"./RedBlackTree\";\n\nexport var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var beaches;\nexport var cells;\nexport var circles;\nexport var edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1]\n      || b[0] - a[0];\n}\n\nexport default function Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree;\n  circles = new RedBlackTree;\n\n  while (true) {\n    circle = firstCircle;\n    if (site && (!circle || site[1] < circle.y || (site[1] === circle.y && site[0] < circle.x))) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n\n  beaches =\n  circles =\n  edges =\n  cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n\n  polygons: function() {\n    var edges = this.edges;\n\n    return this.cells.map(function(cell) {\n      var polygon = cell.halfedges.map(function(i) { return cellHalfedgeStart(cell, edges[i]); });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n\n  triangles: function() {\n    var triangles = [],\n        edges = this.edges;\n\n    this.cells.forEach(function(cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n\n    return triangles;\n  },\n\n  links: function() {\n    return this.edges.filter(function(edge) {\n      return edge.right;\n    }).map(function(edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n\n  find: function(x, y, radius) {\n    var that = this, i0, i1 = that._found || 0, n = that.cells.length, cell;\n\n    // Use the previously-found cell, or start with an arbitrary one.\n    while (!(cell = that.cells[i1])) if (++i1 >= n) return null;\n    var dx = x - cell.site[0], dy = y - cell.site[1], d2 = dx * dx + dy * dy;\n\n    // Traverse the half-edges to find a closer cell, if any.\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function(e) {\n        var edge = that.edges[e], v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0], vy = y - v[1], v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 11151, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11157, "column": 0}, "map": {"version":3,"sources":["file:///Users/Nathan/Library/CloudStorage/Dropbox/Tech/projects/mapapp/node_modules/d3-voronoi/src/voronoi.js"],"sourcesContent":["import constant from \"./constant\";\nimport {x as pointX, y as pointY} from \"./point\";\nimport Diagram, {epsilon} from \"./Diagram\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      extent = null;\n\n  function voronoi(data) {\n    return new Diagram(data.map(function(d, i) {\n      var s = [Math.round(x(d, i, data) / epsilon) * epsilon, Math.round(y(d, i, data) / epsilon) * epsilon];\n      s.index = i;\n      s.data = d;\n      return s;\n    }), extent);\n  }\n\n  voronoi.polygons = function(data) {\n    return voronoi(data).polygons();\n  };\n\n  voronoi.links = function(data) {\n    return voronoi(data).links();\n  };\n\n  voronoi.triangles = function(data) {\n    return voronoi(data).triangles();\n  };\n\n  voronoi.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), voronoi) : x;\n  };\n\n  voronoi.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), voronoi) : y;\n  };\n\n  voronoi.extent = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n  };\n\n  voronoi.size = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n  };\n\n  return voronoi;\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEe;IACb,IAAI,IAAI,6IAAA,CAAA,IAAM,EACV,IAAI,6IAAA,CAAA,IAAM,EACV,SAAS;IAEb,SAAS,QAAQ,IAAI;QACnB,OAAO,IAAI,+IAAA,CAAA,UAAO,CAAC,KAAK,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC;YACvC,IAAI,IAAI;gBAAC,KAAK,KAAK,CAAC,EAAE,GAAG,GAAG,QAAQ,+IAAA,CAAA,UAAO,IAAI,+IAAA,CAAA,UAAO;gBAAE,KAAK,KAAK,CAAC,EAAE,GAAG,GAAG,QAAQ,+IAAA,CAAA,UAAO,IAAI,+IAAA,CAAA,UAAO;aAAC;YACtG,EAAE,KAAK,GAAG;YACV,EAAE,IAAI,GAAG;YACT,OAAO;QACT,IAAI;IACN;IAEA,QAAQ,QAAQ,GAAG,SAAS,IAAI;QAC9B,OAAO,QAAQ,MAAM,QAAQ;IAC/B;IAEA,QAAQ,KAAK,GAAG,SAAS,IAAI;QAC3B,OAAO,QAAQ,MAAM,KAAK;IAC5B;IAEA,QAAQ,SAAS,GAAG,SAAS,IAAI;QAC/B,OAAO,QAAQ,MAAM,SAAS;IAChC;IAEA,QAAQ,CAAC,GAAG,SAAS,CAAC;QACpB,OAAO,UAAU,MAAM,GAAG,CAAC,IAAI,OAAO,MAAM,aAAa,IAAI,CAAA,GAAA,gJAAA,CAAA,UAAQ,AAAD,EAAE,CAAC,IAAI,OAAO,IAAI;IACxF;IAEA,QAAQ,CAAC,GAAG,SAAS,CAAC;QACpB,OAAO,UAAU,MAAM,GAAG,CAAC,IAAI,OAAO,MAAM,aAAa,IAAI,CAAA,GAAA,gJAAA,CAAA,UAAQ,AAAD,EAAE,CAAC,IAAI,OAAO,IAAI;IACxF;IAEA,QAAQ,MAAM,GAAG,SAAS,CAAC;QACzB,OAAO,UAAU,MAAM,GAAG,CAAC,SAAS,KAAK,OAAO,OAAO;YAAC;gBAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gBAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;aAAC;YAAE;gBAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gBAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;aAAC;SAAC,EAAE,OAAO,IAAI,UAAU;YAAC;gBAAC,MAAM,CAAC,EAAE,CAAC,EAAE;gBAAE,MAAM,CAAC,EAAE,CAAC,EAAE;aAAC;YAAE;gBAAC,MAAM,CAAC,EAAE,CAAC,EAAE;gBAAE,MAAM,CAAC,EAAE,CAAC,EAAE;aAAC;SAAC;IACxL;IAEA,QAAQ,IAAI,GAAG,SAAS,CAAC;QACvB,OAAO,UAAU,MAAM,GAAG,CAAC,SAAS,KAAK,OAAO,OAAO;YAAC;gBAAC;gBAAG;aAAE;YAAE;gBAAC,CAAC,CAAC,CAAC,EAAE;gBAAE,CAAC,CAAC,CAAC,EAAE;aAAC;SAAC,EAAE,OAAO,IAAI,UAAU;YAAC,MAAM,CAAC,EAAE,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC,EAAE;YAAE,MAAM,CAAC,EAAE,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC,EAAE;SAAC;IAClK;IAEA,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 11232, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11238, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 11240, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}